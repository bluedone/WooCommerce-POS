/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/*!******************************!*\
  !*** ./assets/js/src/app.js ***!
  \******************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var POS = __webpack_require__(/*! lib/utilities/global */ 8);\nvar Application = __webpack_require__(/*! apps/app/application */ 11);\n\n/**\n * Services\n */\nvar EntitiesService = __webpack_require__(/*! entities/service */ 7);\nvar HeaderService = __webpack_require__(/*! apps/header/service */ 12);\nvar ModalService = __webpack_require__(/*! lib/components/modal/service */ 10);\n\n/**\n * SubApps\n */\nvar POSRouter = __webpack_require__(/*! apps/pos/router */ 13);\nvar SupportRouter = __webpack_require__(/*! apps/support/router */ 14);\n\n/**\n * bootstrap Handlebars Helpers\n */\n__webpack_require__(/*! lib/utilities/handlebars-helpers */ 9);\n\n/**\n * Create the app ...\n */\nvar app = new Application();\n\n/**\n * ... add SubApps and Services\n */\napp.entities = new EntitiesService({\n    app: app\n});\n\napp.headerApp = new HeaderService({\n    container: app.layout.header\n});\n\napp.posApp = new POSRouter({\n    container: app.layout.mainRegion\n});\n\napp.supportApp = new SupportRouter({\n    container: app.layout.mainRegion\n});\n\napp.modalApp = new ModalService({\n    container: app.layout.modalRegion\n});\n\n/**\n * Attach app to window for third party plugins\n */\nmodule.exports = window.POS = POS.create(app);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvanMvc3JjL2FwcC5qcz85ZmY2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUE9TID0gcmVxdWlyZSgnbGliL3V0aWxpdGllcy9nbG9iYWwnKTtcbnZhciBBcHBsaWNhdGlvbiA9IHJlcXVpcmUoJ2FwcHMvYXBwL2FwcGxpY2F0aW9uJyk7XG5cbi8qKlxuICogU2VydmljZXNcbiAqL1xudmFyIEVudGl0aWVzU2VydmljZSA9IHJlcXVpcmUoJ2VudGl0aWVzL3NlcnZpY2UnKTtcbnZhciBIZWFkZXJTZXJ2aWNlID0gcmVxdWlyZSgnYXBwcy9oZWFkZXIvc2VydmljZScpO1xudmFyIE1vZGFsU2VydmljZSA9IHJlcXVpcmUoJ2xpYi9jb21wb25lbnRzL21vZGFsL3NlcnZpY2UnKTtcblxuLyoqXG4gKiBTdWJBcHBzXG4gKi9cbnZhciBQT1NSb3V0ZXIgPSByZXF1aXJlKCdhcHBzL3Bvcy9yb3V0ZXInKTtcbnZhciBTdXBwb3J0Um91dGVyID0gcmVxdWlyZSgnYXBwcy9zdXBwb3J0L3JvdXRlcicpO1xuXG4vKipcbiAqIGJvb3RzdHJhcCBIYW5kbGViYXJzIEhlbHBlcnNcbiAqL1xucmVxdWlyZSgnbGliL3V0aWxpdGllcy9oYW5kbGViYXJzLWhlbHBlcnMnKTtcblxuLyoqXG4gKiBDcmVhdGUgdGhlIGFwcCAuLi5cbiAqL1xudmFyIGFwcCA9IG5ldyBBcHBsaWNhdGlvbigpO1xuXG4vKipcbiAqIC4uLiBhZGQgU3ViQXBwcyBhbmQgU2VydmljZXNcbiAqL1xuYXBwLmVudGl0aWVzID0gbmV3IEVudGl0aWVzU2VydmljZSh7XG4gICAgYXBwOiBhcHBcbn0pO1xuXG5hcHAuaGVhZGVyQXBwID0gbmV3IEhlYWRlclNlcnZpY2Uoe1xuICAgIGNvbnRhaW5lcjogYXBwLmxheW91dC5oZWFkZXJcbn0pO1xuXG5hcHAucG9zQXBwID0gbmV3IFBPU1JvdXRlcih7XG4gICAgY29udGFpbmVyOiBhcHAubGF5b3V0Lm1haW5SZWdpb25cbn0pO1xuXG5hcHAuc3VwcG9ydEFwcCA9IG5ldyBTdXBwb3J0Um91dGVyKHtcbiAgICBjb250YWluZXI6IGFwcC5sYXlvdXQubWFpblJlZ2lvblxufSk7XG5cbmFwcC5tb2RhbEFwcCA9IG5ldyBNb2RhbFNlcnZpY2Uoe1xuICAgIGNvbnRhaW5lcjogYXBwLmxheW91dC5tb2RhbFJlZ2lvblxufSk7XG5cbi8qKlxuICogQXR0YWNoIGFwcCB0byB3aW5kb3cgZm9yIHRoaXJkIHBhcnR5IHBsdWdpbnNcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB3aW5kb3cuUE9TID0gUE9TLmNyZWF0ZShhcHApO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hc3NldHMvanMvc3JjL2FwcC5qc1xuICoqIG1vZHVsZSBpZCA9IDBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjAuanMifQ==");

/***/ },
/* 1 */
/*!********************!*\
  !*** external "_" ***!
  \********************/
/***/ function(module, exports, __webpack_require__) {

	eval("module.exports = _;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJfXCI/YjNiOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwgXCJfXCJcbiAqKiBtb2R1bGUgaWQgPSAxXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 2 */
/*!***************************!*\
  !*** external "Backbone" ***!
  \***************************/
/***/ function(module, exports, __webpack_require__) {

	eval("module.exports = Backbone;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJCYWNrYm9uZVwiPzcwOWQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gQmFja2JvbmU7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCBcIkJhY2tib25lXCJcbiAqKiBtb2R1bGUgaWQgPSAyXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 3 */
/*!*************************!*\
  !*** external "jQuery" ***!
  \*************************/
/***/ function(module, exports, __webpack_require__) {

	eval("module.exports = jQuery;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqUXVlcnlcIj8wY2I4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGpRdWVyeTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwialF1ZXJ5XCJcbiAqKiBtb2R1bGUgaWQgPSAzXG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 4 */,
/* 5 */,
/* 6 */,
/* 7 */
/*!*******************************!*\
  !*** ./~/entities/service.js ***!
  \*******************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Service = __webpack_require__(/*! lib/config/service */ 37);\nvar Products = __webpack_require__(/*! ./products/collection */ 41);\nvar Orders = __webpack_require__(/*! ./orders/collection */ 42);\nvar Cart = __webpack_require__(/*! ./cart/collection */ 43);\nvar Customers = __webpack_require__(/*! ./customers/collection */ 44);\nvar Coupons = __webpack_require__(/*! ./coupons/collection */ 45);\nvar Settings = __webpack_require__(/*! ./settings/model */ 46);\nvar FilteredCollection = __webpack_require__(/*! lib/config/filtered-collection */ 38);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar debug = __webpack_require__(/*! debug */ 51)('entities');\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\n\nmodule.exports = POS.Entities = Service.extend({\n  channelName: 'entities',\n\n  initialize: function() {\n    this.channel.reply('get', this.get, this);\n    this.channel.reply('set', this.set, this);\n  },\n\n  collections: {\n    products  : Products,\n    orders    : Orders,\n    cart      : Cart,\n    customers : Customers,\n    coupons   : Coupons\n  },\n\n  methods: {\n    collection  : 'getCollection',\n    filtered    : 'getFiltered',\n    option      : 'getOption',\n    settings    : 'getSettings'\n  },\n\n  get: function(options){\n    options = options || {};\n    var method = this.methods[options.type];\n    if( this[method] ){\n      return this[method](options);\n    }\n    debug('request needs a type, eg: \"collection\" or \"option\"');\n  },\n\n  /**\n   * init a new collection, attach to this and return a reference\n   */\n  attach: function(options){\n    var prop = '_' + options.name;\n    if( this.collections.hasOwnProperty(options.name) ){\n      this[prop] = new this.collections[options.name]([], options);\n    }\n    return this[prop];\n  },\n\n  /**\n   * return a reference to the collection\n   */\n  getCollection: function(options){\n    var prop = '_' + options.name;\n    if( options.init ) {\n      return new this.collections[options.name]([], options);\n    }\n    return ( this[prop] || this.attach(options) );\n  },\n\n  /**\n   * return a filtered collection and attach to this\n   */\n  getFiltered: function(options){\n    var prop = '_' + options.name;\n    var filteredProp = '_filtered' + options.name;\n    if( this[filteredProp] ){ return this[filteredProp]; }\n    if( !this[prop] ){ this.attach(options); }\n\n    this[filteredProp] = new FilteredCollection( this[prop] );\n    return this[filteredProp];\n  },\n\n  /**\n   * return an option set during app.start(options)\n   */\n  getOption: function(options){\n    return this.app.getOption(options.name);\n  },\n\n  /**\n   * settings are App options that can be changed by the user\n   * eg: HotKeys are bootstrapped as start options, but also\n   * can be updated through the POS\n   */\n  getSettings: function(options){\n    var option = this.app.getOption(options.name);\n    return new Settings(option);\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VudGl0aWVzL3NlcnZpY2UuanM/ZWJiYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDJCQUEyQjtBQUN4RCxzQkFBc0Isc0JBQXNCOztBQUU1QztBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBTZXJ2aWNlID0gcmVxdWlyZSgnbGliL2NvbmZpZy9zZXJ2aWNlJyk7XG52YXIgUHJvZHVjdHMgPSByZXF1aXJlKCcuL3Byb2R1Y3RzL2NvbGxlY3Rpb24nKTtcbnZhciBPcmRlcnMgPSByZXF1aXJlKCcuL29yZGVycy9jb2xsZWN0aW9uJyk7XG52YXIgQ2FydCA9IHJlcXVpcmUoJy4vY2FydC9jb2xsZWN0aW9uJyk7XG52YXIgQ3VzdG9tZXJzID0gcmVxdWlyZSgnLi9jdXN0b21lcnMvY29sbGVjdGlvbicpO1xudmFyIENvdXBvbnMgPSByZXF1aXJlKCcuL2NvdXBvbnMvY29sbGVjdGlvbicpO1xudmFyIFNldHRpbmdzID0gcmVxdWlyZSgnLi9zZXR0aW5ncy9tb2RlbCcpO1xudmFyIEZpbHRlcmVkQ29sbGVjdGlvbiA9IHJlcXVpcmUoJ2xpYi9jb25maWcvZmlsdGVyZWQtY29sbGVjdGlvbicpO1xudmFyIGJiID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ2VudGl0aWVzJyk7XG52YXIgUE9TID0gcmVxdWlyZSgnbGliL3V0aWxpdGllcy9nbG9iYWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBQT1MuRW50aXRpZXMgPSBTZXJ2aWNlLmV4dGVuZCh7XG4gIGNoYW5uZWxOYW1lOiAnZW50aXRpZXMnLFxuXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY2hhbm5lbC5yZXBseSgnZ2V0JywgdGhpcy5nZXQsIHRoaXMpO1xuICAgIHRoaXMuY2hhbm5lbC5yZXBseSgnc2V0JywgdGhpcy5zZXQsIHRoaXMpO1xuICB9LFxuXG4gIGNvbGxlY3Rpb25zOiB7XG4gICAgcHJvZHVjdHMgIDogUHJvZHVjdHMsXG4gICAgb3JkZXJzICAgIDogT3JkZXJzLFxuICAgIGNhcnQgICAgICA6IENhcnQsXG4gICAgY3VzdG9tZXJzIDogQ3VzdG9tZXJzLFxuICAgIGNvdXBvbnMgICA6IENvdXBvbnNcbiAgfSxcblxuICBtZXRob2RzOiB7XG4gICAgY29sbGVjdGlvbiAgOiAnZ2V0Q29sbGVjdGlvbicsXG4gICAgZmlsdGVyZWQgICAgOiAnZ2V0RmlsdGVyZWQnLFxuICAgIG9wdGlvbiAgICAgIDogJ2dldE9wdGlvbicsXG4gICAgc2V0dGluZ3MgICAgOiAnZ2V0U2V0dGluZ3MnXG4gIH0sXG5cbiAgZ2V0OiBmdW5jdGlvbihvcHRpb25zKXtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgbWV0aG9kID0gdGhpcy5tZXRob2RzW29wdGlvbnMudHlwZV07XG4gICAgaWYoIHRoaXNbbWV0aG9kXSApe1xuICAgICAgcmV0dXJuIHRoaXNbbWV0aG9kXShvcHRpb25zKTtcbiAgICB9XG4gICAgZGVidWcoJ3JlcXVlc3QgbmVlZHMgYSB0eXBlLCBlZzogXCJjb2xsZWN0aW9uXCIgb3IgXCJvcHRpb25cIicpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBpbml0IGEgbmV3IGNvbGxlY3Rpb24sIGF0dGFjaCB0byB0aGlzIGFuZCByZXR1cm4gYSByZWZlcmVuY2VcbiAgICovXG4gIGF0dGFjaDogZnVuY3Rpb24ob3B0aW9ucyl7XG4gICAgdmFyIHByb3AgPSAnXycgKyBvcHRpb25zLm5hbWU7XG4gICAgaWYoIHRoaXMuY29sbGVjdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9ucy5uYW1lKSApe1xuICAgICAgdGhpc1twcm9wXSA9IG5ldyB0aGlzLmNvbGxlY3Rpb25zW29wdGlvbnMubmFtZV0oW10sIG9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpc1twcm9wXTtcbiAgfSxcblxuICAvKipcbiAgICogcmV0dXJuIGEgcmVmZXJlbmNlIHRvIHRoZSBjb2xsZWN0aW9uXG4gICAqL1xuICBnZXRDb2xsZWN0aW9uOiBmdW5jdGlvbihvcHRpb25zKXtcbiAgICB2YXIgcHJvcCA9ICdfJyArIG9wdGlvbnMubmFtZTtcbiAgICBpZiggb3B0aW9ucy5pbml0ICkge1xuICAgICAgcmV0dXJuIG5ldyB0aGlzLmNvbGxlY3Rpb25zW29wdGlvbnMubmFtZV0oW10sIG9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gKCB0aGlzW3Byb3BdIHx8IHRoaXMuYXR0YWNoKG9wdGlvbnMpICk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIHJldHVybiBhIGZpbHRlcmVkIGNvbGxlY3Rpb24gYW5kIGF0dGFjaCB0byB0aGlzXG4gICAqL1xuICBnZXRGaWx0ZXJlZDogZnVuY3Rpb24ob3B0aW9ucyl7XG4gICAgdmFyIHByb3AgPSAnXycgKyBvcHRpb25zLm5hbWU7XG4gICAgdmFyIGZpbHRlcmVkUHJvcCA9ICdfZmlsdGVyZWQnICsgb3B0aW9ucy5uYW1lO1xuICAgIGlmKCB0aGlzW2ZpbHRlcmVkUHJvcF0gKXsgcmV0dXJuIHRoaXNbZmlsdGVyZWRQcm9wXTsgfVxuICAgIGlmKCAhdGhpc1twcm9wXSApeyB0aGlzLmF0dGFjaChvcHRpb25zKTsgfVxuXG4gICAgdGhpc1tmaWx0ZXJlZFByb3BdID0gbmV3IEZpbHRlcmVkQ29sbGVjdGlvbiggdGhpc1twcm9wXSApO1xuICAgIHJldHVybiB0aGlzW2ZpbHRlcmVkUHJvcF07XG4gIH0sXG5cbiAgLyoqXG4gICAqIHJldHVybiBhbiBvcHRpb24gc2V0IGR1cmluZyBhcHAuc3RhcnQob3B0aW9ucylcbiAgICovXG4gIGdldE9wdGlvbjogZnVuY3Rpb24ob3B0aW9ucyl7XG4gICAgcmV0dXJuIHRoaXMuYXBwLmdldE9wdGlvbihvcHRpb25zLm5hbWUpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBzZXR0aW5ncyBhcmUgQXBwIG9wdGlvbnMgdGhhdCBjYW4gYmUgY2hhbmdlZCBieSB0aGUgdXNlclxuICAgKiBlZzogSG90S2V5cyBhcmUgYm9vdHN0cmFwcGVkIGFzIHN0YXJ0IG9wdGlvbnMsIGJ1dCBhbHNvXG4gICAqIGNhbiBiZSB1cGRhdGVkIHRocm91Z2ggdGhlIFBPU1xuICAgKi9cbiAgZ2V0U2V0dGluZ3M6IGZ1bmN0aW9uKG9wdGlvbnMpe1xuICAgIHZhciBvcHRpb24gPSB0aGlzLmFwcC5nZXRPcHRpb24ob3B0aW9ucy5uYW1lKTtcbiAgICByZXR1cm4gbmV3IFNldHRpbmdzKG9wdGlvbik7XG4gIH1cblxufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vZW50aXRpZXMvc2VydmljZS5qc1xuICoqIG1vZHVsZSBpZCA9IDdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjcuanMifQ==");

/***/ },
/* 8 */
/*!***********************************!*\
  !*** ./~/lib/utilities/global.js ***!
  \***********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var version = version || '';\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar debugFunc = __webpack_require__(/*! debug */ 51);\nvar bb = __webpack_require__(/*! backbone */ 2);\n\n/**\n * check debugging flag\n */\nbb.Radio.DEBUG = debugFunc().enabled;\n\nconsole.info(\n    'Debugging is ' +\n    ( debugFunc().enabled ? 'on' : 'off' )  +\n    ', visit http://woopos.com.au/docs/debugging'\n);\n\n/**\n * create a global variable\n */\nmodule.exports = {\n  VERSION: version,\n  attach: function(deepProperty, value){\n    deepProperty = deepProperty.split('.');\n    var nestedObj = _.reduceRight(deepProperty, function (child, parent) {\n      var obj = {};\n      obj[parent] = child;\n      return obj;\n    }, value || {});\n    _.merge(this, nestedObj);\n  },\n  create: function(app){\n    return _.defaults( app, this );\n  },\n  debug: debugFunc,\n  getOption: function(){}\n};//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjazovLy8uL34vbGliL3V0aWxpdGllcy9nbG9iYWwuanM/MjY5ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGFBQWE7QUFDbEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdmVyc2lvbiA9IHZlcnNpb24gfHwgJyc7XG52YXIgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xudmFyIGRlYnVnRnVuYyA9IHJlcXVpcmUoJ2RlYnVnJyk7XG52YXIgYmIgPSByZXF1aXJlKCdiYWNrYm9uZScpO1xuXG4vKipcbiAqIGNoZWNrIGRlYnVnZ2luZyBmbGFnXG4gKi9cbmJiLlJhZGlvLkRFQlVHID0gZGVidWdGdW5jKCkuZW5hYmxlZDtcblxuY29uc29sZS5pbmZvKFxuICAgICdEZWJ1Z2dpbmcgaXMgJyArXG4gICAgKCBkZWJ1Z0Z1bmMoKS5lbmFibGVkID8gJ29uJyA6ICdvZmYnICkgICtcbiAgICAnLCB2aXNpdCBodHRwOi8vd29vcG9zLmNvbS5hdS9kb2NzL2RlYnVnZ2luZydcbik7XG5cbi8qKlxuICogY3JlYXRlIGEgZ2xvYmFsIHZhcmlhYmxlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0ge1xuICBWRVJTSU9OOiB2ZXJzaW9uLFxuICBhdHRhY2g6IGZ1bmN0aW9uKGRlZXBQcm9wZXJ0eSwgdmFsdWUpe1xuICAgIGRlZXBQcm9wZXJ0eSA9IGRlZXBQcm9wZXJ0eS5zcGxpdCgnLicpO1xuICAgIHZhciBuZXN0ZWRPYmogPSBfLnJlZHVjZVJpZ2h0KGRlZXBQcm9wZXJ0eSwgZnVuY3Rpb24gKGNoaWxkLCBwYXJlbnQpIHtcbiAgICAgIHZhciBvYmogPSB7fTtcbiAgICAgIG9ialtwYXJlbnRdID0gY2hpbGQ7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH0sIHZhbHVlIHx8IHt9KTtcbiAgICBfLm1lcmdlKHRoaXMsIG5lc3RlZE9iaik7XG4gIH0sXG4gIGNyZWF0ZTogZnVuY3Rpb24oYXBwKXtcbiAgICByZXR1cm4gXy5kZWZhdWx0cyggYXBwLCB0aGlzICk7XG4gIH0sXG4gIGRlYnVnOiBkZWJ1Z0Z1bmMsXG4gIGdldE9wdGlvbjogZnVuY3Rpb24oKXt9XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xpYi91dGlsaXRpZXMvZ2xvYmFsLmpzXG4gKiogbW9kdWxlIGlkID0gOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDJcbiAqKi9cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrOi8vLy4vfi9saWIvdXRpbGl0aWVzL2dsb2JhbC5qcz9lYTE1XG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiOC5qcyJ9");

/***/ },
/* 9 */
/*!***********************************************!*\
  !*** ./~/lib/utilities/handlebars-helpers.js ***!
  \***********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var _ = __webpack_require__(/*! lodash */ 1);\nvar hbs = __webpack_require__(/*! handlebars */ 22);\nvar accounting = __webpack_require__(/*! accounting */ 23);\nvar moment = __webpack_require__(/*! moment */ 24);\nvar Utils = __webpack_require__(/*! lib/utilities/utils */ 30);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar entitiesChannel = bb.Radio.channel('entities');\n\n/**\n * is, compare helpers taken from\n * https://github.com/assemble/handlebars-helpers\n */\n\nhbs.registerHelper('is', function (value, test, options) {\n  if ( value === test ) {\n    return options.fn(this);\n  } else {\n    return options.inverse(this);\n  }\n});\n\n/*jshint -W071, -W074: suppress warnings  */\nhbs.registerHelper('compare', function(left, operator, right, options) {\n\n  if (arguments.length < 3) {\n    throw new Error('Handlebars Helper \"compare\" needs 2 parameters');\n  }\n\n  if (options === undefined) {\n    options = right;\n    right = operator;\n    operator = '===';\n  }\n\n  var operators = {\n    //'==': function(l, r) {\n    //  return l == r;\n    //},\n    '===': function(l, r) {\n      return l === r;\n    },\n    //'!=': function(l, r) {\n    //  return l != r;\n    //},\n    '!==': function(l, r) {\n      return l !== r;\n    },\n    '<': function(l, r) {\n      return l < r;\n    },\n    '>': function(l, r) {\n      return l > r;\n    },\n    '<=': function(l, r) {\n      return l <= r;\n    },\n    '>=': function(l, r) {\n      return l >= r;\n    }\n    //'typeof': function(l, r) {\n    //  return typeof l == r;\n    //}\n  };\n\n  if (!operators[operator]) {\n    throw new Error(\n      'Handlebars Helper \"compare\" doesn\\'t know the operator ' + operator\n    );\n  }\n\n  var result = operators[operator](left, right);\n\n  if (result) {\n    return options.fn(this);\n  } else {\n    return options.inverse(this);\n  }\n});\n/*jshint +W071, +W074 */\n\nhbs.registerHelper('csv', function(items, options) {\n  return options.fn(items.join(', '));\n});\n\nhbs.registerHelper('money', function(num, options){\n  var defaultPrecision = accounting.settings.currency.precision,\n      precision = options.hash.precision || defaultPrecision;\n\n  if( precision === 'auto' ) {\n    precision = Utils.decimalPlaces(num);\n  }\n\n  // round the number to even\n  num = Utils.round(num, precision);\n\n  if(options.hash.negative) {\n    num = num * -1;\n  }\n\n  return accounting.formatMoney(num);\n});\n\nhbs.registerHelper('number', function(num, options){\n  var defaultPrecision = accounting.settings.number.precision,\n      precision = options.hash.precision || defaultPrecision;\n\n  if( precision === 'auto' ) {\n    precision = Utils.decimalPlaces(num);\n  }\n\n  if(options.hash.negative) {\n    num = num * -1;\n  }\n\n  return accounting.formatNumber(num, precision);\n});\n\nhbs.registerHelper('formatAddress', function(a, options){\n  var format = [\n    [a.first_name, a.last_name],\n    [a.company],\n    [a.address_1],\n    [a.address_2],\n    [a.city, a.state, a.postcode]\n  ];\n\n  // format address\n  var address = _.chain(format)\n    .map(function(line) { return _.compact(line).join(' '); })\n    .compact()\n    .join('<br>\\n')\n    .value();\n\n  // prepend title\n  if( address !== '' && options.hash.title ) {\n    address = '<h3>' + options.hash.title + '</h3>\\n' + address;\n  }\n\n  return new hbs.SafeString(address);\n});\n\nhbs.registerHelper('formatDate', function(date, options){\n  var f = options.hash.format || '';\n  return moment(date).format(f);\n});\n\nhbs.registerHelper('getOption', function(key){\n  var lookup = key.split('.');\n  var option = entitiesChannel.request( lookup.shift() );\n  for(var i = 0; i < lookup.length; i++) {\n    option = option[lookup[i]];\n  }\n  return option;\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjazovLy8uL34vbGliL3V0aWxpdGllcy9oYW5kbGViYXJzLWhlbHBlcnMuanM/NjBlZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlCQUF5QixrQ0FBa0MsRUFBRTtBQUM3RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG1CQUFtQjtBQUNuQztBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbnZhciBoYnMgPSByZXF1aXJlKCdoYW5kbGViYXJzJyk7XG52YXIgYWNjb3VudGluZyA9IHJlcXVpcmUoJ2FjY291bnRpbmcnKTtcbnZhciBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcbnZhciBVdGlscyA9IHJlcXVpcmUoJ2xpYi91dGlsaXRpZXMvdXRpbHMnKTtcbnZhciBiYiA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG52YXIgZW50aXRpZXNDaGFubmVsID0gYmIuUmFkaW8uY2hhbm5lbCgnZW50aXRpZXMnKTtcblxuLyoqXG4gKiBpcywgY29tcGFyZSBoZWxwZXJzIHRha2VuIGZyb21cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hc3NlbWJsZS9oYW5kbGViYXJzLWhlbHBlcnNcbiAqL1xuXG5oYnMucmVnaXN0ZXJIZWxwZXIoJ2lzJywgZnVuY3Rpb24gKHZhbHVlLCB0ZXN0LCBvcHRpb25zKSB7XG4gIGlmICggdmFsdWUgPT09IHRlc3QgKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMuZm4odGhpcyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcbiAgfVxufSk7XG5cbi8qanNoaW50IC1XMDcxLCAtVzA3NDogc3VwcHJlc3Mgd2FybmluZ3MgICovXG5oYnMucmVnaXN0ZXJIZWxwZXIoJ2NvbXBhcmUnLCBmdW5jdGlvbihsZWZ0LCBvcGVyYXRvciwgcmlnaHQsIG9wdGlvbnMpIHtcblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0hhbmRsZWJhcnMgSGVscGVyIFwiY29tcGFyZVwiIG5lZWRzIDIgcGFyYW1ldGVycycpO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMgPT09IHVuZGVmaW5lZCkge1xuICAgIG9wdGlvbnMgPSByaWdodDtcbiAgICByaWdodCA9IG9wZXJhdG9yO1xuICAgIG9wZXJhdG9yID0gJz09PSc7XG4gIH1cblxuICB2YXIgb3BlcmF0b3JzID0ge1xuICAgIC8vJz09JzogZnVuY3Rpb24obCwgcikge1xuICAgIC8vICByZXR1cm4gbCA9PSByO1xuICAgIC8vfSxcbiAgICAnPT09JzogZnVuY3Rpb24obCwgcikge1xuICAgICAgcmV0dXJuIGwgPT09IHI7XG4gICAgfSxcbiAgICAvLychPSc6IGZ1bmN0aW9uKGwsIHIpIHtcbiAgICAvLyAgcmV0dXJuIGwgIT0gcjtcbiAgICAvL30sXG4gICAgJyE9PSc6IGZ1bmN0aW9uKGwsIHIpIHtcbiAgICAgIHJldHVybiBsICE9PSByO1xuICAgIH0sXG4gICAgJzwnOiBmdW5jdGlvbihsLCByKSB7XG4gICAgICByZXR1cm4gbCA8IHI7XG4gICAgfSxcbiAgICAnPic6IGZ1bmN0aW9uKGwsIHIpIHtcbiAgICAgIHJldHVybiBsID4gcjtcbiAgICB9LFxuICAgICc8PSc6IGZ1bmN0aW9uKGwsIHIpIHtcbiAgICAgIHJldHVybiBsIDw9IHI7XG4gICAgfSxcbiAgICAnPj0nOiBmdW5jdGlvbihsLCByKSB7XG4gICAgICByZXR1cm4gbCA+PSByO1xuICAgIH1cbiAgICAvLyd0eXBlb2YnOiBmdW5jdGlvbihsLCByKSB7XG4gICAgLy8gIHJldHVybiB0eXBlb2YgbCA9PSByO1xuICAgIC8vfVxuICB9O1xuXG4gIGlmICghb3BlcmF0b3JzW29wZXJhdG9yXSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdIYW5kbGViYXJzIEhlbHBlciBcImNvbXBhcmVcIiBkb2VzblxcJ3Qga25vdyB0aGUgb3BlcmF0b3IgJyArIG9wZXJhdG9yXG4gICAgKTtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSBvcGVyYXRvcnNbb3BlcmF0b3JdKGxlZnQsIHJpZ2h0KTtcblxuICBpZiAocmVzdWx0KSB7XG4gICAgcmV0dXJuIG9wdGlvbnMuZm4odGhpcyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcbiAgfVxufSk7XG4vKmpzaGludCArVzA3MSwgK1cwNzQgKi9cblxuaGJzLnJlZ2lzdGVySGVscGVyKCdjc3YnLCBmdW5jdGlvbihpdGVtcywgb3B0aW9ucykge1xuICByZXR1cm4gb3B0aW9ucy5mbihpdGVtcy5qb2luKCcsICcpKTtcbn0pO1xuXG5oYnMucmVnaXN0ZXJIZWxwZXIoJ21vbmV5JywgZnVuY3Rpb24obnVtLCBvcHRpb25zKXtcbiAgdmFyIGRlZmF1bHRQcmVjaXNpb24gPSBhY2NvdW50aW5nLnNldHRpbmdzLmN1cnJlbmN5LnByZWNpc2lvbixcbiAgICAgIHByZWNpc2lvbiA9IG9wdGlvbnMuaGFzaC5wcmVjaXNpb24gfHwgZGVmYXVsdFByZWNpc2lvbjtcblxuICBpZiggcHJlY2lzaW9uID09PSAnYXV0bycgKSB7XG4gICAgcHJlY2lzaW9uID0gVXRpbHMuZGVjaW1hbFBsYWNlcyhudW0pO1xuICB9XG5cbiAgLy8gcm91bmQgdGhlIG51bWJlciB0byBldmVuXG4gIG51bSA9IFV0aWxzLnJvdW5kKG51bSwgcHJlY2lzaW9uKTtcblxuICBpZihvcHRpb25zLmhhc2gubmVnYXRpdmUpIHtcbiAgICBudW0gPSBudW0gKiAtMTtcbiAgfVxuXG4gIHJldHVybiBhY2NvdW50aW5nLmZvcm1hdE1vbmV5KG51bSk7XG59KTtcblxuaGJzLnJlZ2lzdGVySGVscGVyKCdudW1iZXInLCBmdW5jdGlvbihudW0sIG9wdGlvbnMpe1xuICB2YXIgZGVmYXVsdFByZWNpc2lvbiA9IGFjY291bnRpbmcuc2V0dGluZ3MubnVtYmVyLnByZWNpc2lvbixcbiAgICAgIHByZWNpc2lvbiA9IG9wdGlvbnMuaGFzaC5wcmVjaXNpb24gfHwgZGVmYXVsdFByZWNpc2lvbjtcblxuICBpZiggcHJlY2lzaW9uID09PSAnYXV0bycgKSB7XG4gICAgcHJlY2lzaW9uID0gVXRpbHMuZGVjaW1hbFBsYWNlcyhudW0pO1xuICB9XG5cbiAgaWYob3B0aW9ucy5oYXNoLm5lZ2F0aXZlKSB7XG4gICAgbnVtID0gbnVtICogLTE7XG4gIH1cblxuICByZXR1cm4gYWNjb3VudGluZy5mb3JtYXROdW1iZXIobnVtLCBwcmVjaXNpb24pO1xufSk7XG5cbmhicy5yZWdpc3RlckhlbHBlcignZm9ybWF0QWRkcmVzcycsIGZ1bmN0aW9uKGEsIG9wdGlvbnMpe1xuICB2YXIgZm9ybWF0ID0gW1xuICAgIFthLmZpcnN0X25hbWUsIGEubGFzdF9uYW1lXSxcbiAgICBbYS5jb21wYW55XSxcbiAgICBbYS5hZGRyZXNzXzFdLFxuICAgIFthLmFkZHJlc3NfMl0sXG4gICAgW2EuY2l0eSwgYS5zdGF0ZSwgYS5wb3N0Y29kZV1cbiAgXTtcblxuICAvLyBmb3JtYXQgYWRkcmVzc1xuICB2YXIgYWRkcmVzcyA9IF8uY2hhaW4oZm9ybWF0KVxuICAgIC5tYXAoZnVuY3Rpb24obGluZSkgeyByZXR1cm4gXy5jb21wYWN0KGxpbmUpLmpvaW4oJyAnKTsgfSlcbiAgICAuY29tcGFjdCgpXG4gICAgLmpvaW4oJzxicj5cXG4nKVxuICAgIC52YWx1ZSgpO1xuXG4gIC8vIHByZXBlbmQgdGl0bGVcbiAgaWYoIGFkZHJlc3MgIT09ICcnICYmIG9wdGlvbnMuaGFzaC50aXRsZSApIHtcbiAgICBhZGRyZXNzID0gJzxoMz4nICsgb3B0aW9ucy5oYXNoLnRpdGxlICsgJzwvaDM+XFxuJyArIGFkZHJlc3M7XG4gIH1cblxuICByZXR1cm4gbmV3IGhicy5TYWZlU3RyaW5nKGFkZHJlc3MpO1xufSk7XG5cbmhicy5yZWdpc3RlckhlbHBlcignZm9ybWF0RGF0ZScsIGZ1bmN0aW9uKGRhdGUsIG9wdGlvbnMpe1xuICB2YXIgZiA9IG9wdGlvbnMuaGFzaC5mb3JtYXQgfHwgJyc7XG4gIHJldHVybiBtb21lbnQoZGF0ZSkuZm9ybWF0KGYpO1xufSk7XG5cbmhicy5yZWdpc3RlckhlbHBlcignZ2V0T3B0aW9uJywgZnVuY3Rpb24oa2V5KXtcbiAgdmFyIGxvb2t1cCA9IGtleS5zcGxpdCgnLicpO1xuICB2YXIgb3B0aW9uID0gZW50aXRpZXNDaGFubmVsLnJlcXVlc3QoIGxvb2t1cC5zaGlmdCgpICk7XG4gIGZvcih2YXIgaSA9IDA7IGkgPCBsb29rdXAubGVuZ3RoOyBpKyspIHtcbiAgICBvcHRpb24gPSBvcHRpb25bbG9va3VwW2ldXTtcbiAgfVxuICByZXR1cm4gb3B0aW9uO1xufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbGliL3V0aWxpdGllcy9oYW5kbGViYXJzLWhlbHBlcnMuanNcbiAqKiBtb2R1bGUgaWQgPSA5XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMlxuICoqL1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2s6Ly8vLi9+L2xpYi91dGlsaXRpZXMvaGFuZGxlYmFycy1oZWxwZXJzLmpzPzlmMWVcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI5LmpzIn0=");

/***/ },
/* 10 */
/*!*******************************************!*\
  !*** ./~/lib/components/modal/service.js ***!
  \*******************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Service = __webpack_require__(/*! lib/config/service */ 37);\nvar Backbone = __webpack_require__(/*! backbone */ 2);\nvar LayoutView = __webpack_require__(/*! ./layout-view */ 31);\nvar $ = __webpack_require__(/*! jquery */ 3);\n\nmodule.exports = Service.extend({\n  channelName: 'modal',\n\n  initialize: function(options){\n    this.container = options.container;\n    this.start();\n  },\n\n  onStart: function(){\n    this.channel.reply({\n      'open' : this.open,\n      'close' : this.close,\n      'alert' : this.alert,\n      'confirm' : this.confirm,\n      'prompt' : this.prompt\n    }, this);\n\n    this.layout = new LayoutView();\n    this.container.show(this.layout);\n\n    this.listenTo(Backbone.history, {\n      'route' : this.onRoute\n    });\n  },\n\n  onStop: function(){\n    delete this.layout;\n    this.container.reset();\n    this.channel.reset();\n  },\n\n  onRoute: function(){\n    if (this.fragment !== Backbone.history.fragment) {\n      this.close();\n    }\n  },\n\n  alert: function(options){\n    //var deferred = $.Deferred();\n    //var view = new AlertView(options);\n    //\n    //view.on({\n    //  'confirm' : deferred.resolve,\n    //  'cancel'  : deferred.resolve\n    //});\n    //\n    //return deferred;\n  },\n\n  confirm: function(options){\n    //var deferred = $.Deferred();\n    //var view = new ConfirmView(options);\n    //\n    //view.on({\n    //  'confirm' : deferred.resolve,\n    //  'cancel'  : deferred.reject\n    //});\n    //\n    //return deferred;\n  },\n\n  prompt: function(options){\n    //var deferred = $.Deferred();\n    //var view = new PromptView(options);\n    //\n    //view.on({\n    //  'submit' : deferred.resolve,\n    //  'cancel' : deferred.reject\n    //});\n    //\n    //return deferred;\n  },\n\n  open: function(view){\n    var self = this;\n    this.fragment = Backbone.history.fragment;\n    return this.close().then(function() {\n      self.isOpen = true;\n      return self.layout.open(view);\n    });\n  },\n\n  close: function(){\n    if (this.isOpen) {\n      this.isOpen = false;\n      return this.layout.close();\n    } else {\n      return $.Deferred().resolve();\n    }\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb21wb25lbnRzL21vZGFsL3NlcnZpY2UuanM/ZTJlNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgU2VydmljZSA9IHJlcXVpcmUoJ2xpYi9jb25maWcvc2VydmljZScpO1xudmFyIEJhY2tib25lID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBMYXlvdXRWaWV3ID0gcmVxdWlyZSgnLi9sYXlvdXQtdmlldycpO1xudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcblxubW9kdWxlLmV4cG9ydHMgPSBTZXJ2aWNlLmV4dGVuZCh7XG4gIGNoYW5uZWxOYW1lOiAnbW9kYWwnLFxuXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMpe1xuICAgIHRoaXMuY29udGFpbmVyID0gb3B0aW9ucy5jb250YWluZXI7XG4gICAgdGhpcy5zdGFydCgpO1xuICB9LFxuXG4gIG9uU3RhcnQ6IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5jaGFubmVsLnJlcGx5KHtcbiAgICAgICdvcGVuJyA6IHRoaXMub3BlbixcbiAgICAgICdjbG9zZScgOiB0aGlzLmNsb3NlLFxuICAgICAgJ2FsZXJ0JyA6IHRoaXMuYWxlcnQsXG4gICAgICAnY29uZmlybScgOiB0aGlzLmNvbmZpcm0sXG4gICAgICAncHJvbXB0JyA6IHRoaXMucHJvbXB0XG4gICAgfSwgdGhpcyk7XG5cbiAgICB0aGlzLmxheW91dCA9IG5ldyBMYXlvdXRWaWV3KCk7XG4gICAgdGhpcy5jb250YWluZXIuc2hvdyh0aGlzLmxheW91dCk7XG5cbiAgICB0aGlzLmxpc3RlblRvKEJhY2tib25lLmhpc3RvcnksIHtcbiAgICAgICdyb3V0ZScgOiB0aGlzLm9uUm91dGVcbiAgICB9KTtcbiAgfSxcblxuICBvblN0b3A6IGZ1bmN0aW9uKCl7XG4gICAgZGVsZXRlIHRoaXMubGF5b3V0O1xuICAgIHRoaXMuY29udGFpbmVyLnJlc2V0KCk7XG4gICAgdGhpcy5jaGFubmVsLnJlc2V0KCk7XG4gIH0sXG5cbiAgb25Sb3V0ZTogZnVuY3Rpb24oKXtcbiAgICBpZiAodGhpcy5mcmFnbWVudCAhPT0gQmFja2JvbmUuaGlzdG9yeS5mcmFnbWVudCkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfSxcblxuICBhbGVydDogZnVuY3Rpb24ob3B0aW9ucyl7XG4gICAgLy92YXIgZGVmZXJyZWQgPSAkLkRlZmVycmVkKCk7XG4gICAgLy92YXIgdmlldyA9IG5ldyBBbGVydFZpZXcob3B0aW9ucyk7XG4gICAgLy9cbiAgICAvL3ZpZXcub24oe1xuICAgIC8vICAnY29uZmlybScgOiBkZWZlcnJlZC5yZXNvbHZlLFxuICAgIC8vICAnY2FuY2VsJyAgOiBkZWZlcnJlZC5yZXNvbHZlXG4gICAgLy99KTtcbiAgICAvL1xuICAgIC8vcmV0dXJuIGRlZmVycmVkO1xuICB9LFxuXG4gIGNvbmZpcm06IGZ1bmN0aW9uKG9wdGlvbnMpe1xuICAgIC8vdmFyIGRlZmVycmVkID0gJC5EZWZlcnJlZCgpO1xuICAgIC8vdmFyIHZpZXcgPSBuZXcgQ29uZmlybVZpZXcob3B0aW9ucyk7XG4gICAgLy9cbiAgICAvL3ZpZXcub24oe1xuICAgIC8vICAnY29uZmlybScgOiBkZWZlcnJlZC5yZXNvbHZlLFxuICAgIC8vICAnY2FuY2VsJyAgOiBkZWZlcnJlZC5yZWplY3RcbiAgICAvL30pO1xuICAgIC8vXG4gICAgLy9yZXR1cm4gZGVmZXJyZWQ7XG4gIH0sXG5cbiAgcHJvbXB0OiBmdW5jdGlvbihvcHRpb25zKXtcbiAgICAvL3ZhciBkZWZlcnJlZCA9ICQuRGVmZXJyZWQoKTtcbiAgICAvL3ZhciB2aWV3ID0gbmV3IFByb21wdFZpZXcob3B0aW9ucyk7XG4gICAgLy9cbiAgICAvL3ZpZXcub24oe1xuICAgIC8vICAnc3VibWl0JyA6IGRlZmVycmVkLnJlc29sdmUsXG4gICAgLy8gICdjYW5jZWwnIDogZGVmZXJyZWQucmVqZWN0XG4gICAgLy99KTtcbiAgICAvL1xuICAgIC8vcmV0dXJuIGRlZmVycmVkO1xuICB9LFxuXG4gIG9wZW46IGZ1bmN0aW9uKHZpZXcpe1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0aGlzLmZyYWdtZW50ID0gQmFja2JvbmUuaGlzdG9yeS5mcmFnbWVudDtcbiAgICByZXR1cm4gdGhpcy5jbG9zZSgpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLmlzT3BlbiA9IHRydWU7XG4gICAgICByZXR1cm4gc2VsZi5sYXlvdXQub3Blbih2aWV3KTtcbiAgICB9KTtcbiAgfSxcblxuICBjbG9zZTogZnVuY3Rpb24oKXtcbiAgICBpZiAodGhpcy5pc09wZW4pIHtcbiAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICByZXR1cm4gdGhpcy5sYXlvdXQuY2xvc2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICQuRGVmZXJyZWQoKS5yZXNvbHZlKCk7XG4gICAgfVxuICB9XG5cbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xpYi9jb21wb25lbnRzL21vZGFsL3NlcnZpY2UuanNcbiAqKiBtb2R1bGUgaWQgPSAxMFxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiMTAuanMifQ==");

/***/ },
/* 11 */
/*!***********************************!*\
  !*** ./~/apps/app/application.js ***!
  \***********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Application = __webpack_require__(/*! lib/config/application */ 39);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar LayoutView = __webpack_require__(/*! ./layout-view */ 32);\nvar debug = __webpack_require__(/*! debug */ 51)('app');\nvar accounting = __webpack_require__(/*! accounting */ 23);\nvar routerChannel = bb.Radio.channel('router');\nvar entitiesChannel = bb.Radio.channel('entities');\n\nmodule.exports = Application.extend({\n\n  initialize: function() {\n\n    // init Root LayoutView\n    this.layout = new LayoutView();\n    this.layout.render();\n\n    this.listenTo(routerChannel, {\n      'before:enter:route' : this.onBeforeEnterRoute,\n      'enter:route'        : this.onEnterRoute,\n      'error:route'        : this.onErrorRoute\n    });\n  },\n\n  /**\n   * Set up application with start params\n   */\n  onBeforeStart: function(options){\n    debug( 'starting WooCommerce POS app' );\n\n    // app settings\n    this.options = options;\n\n    // bootstrap accounting settings\n    accounting.settings = options.accounting;\n\n    // global ajax settings\n    bb.$.ajaxSetup({\n      data: {\n        security: function(){\n          return entitiesChannel.request( 'get:options', 'nonce' );\n        }\n      },\n      beforeSend: function(xhr){\n        xhr.setRequestHeader('X-WC-POS', 1);\n      },\n      timeout: 50000\n    });\n  },\n\n  onStart: function(){\n\n    bb.history.start();\n\n    // header app starts on all pages\n    //POS.HeaderApp.start();\n  },\n\n  onBeforeEnterRoute: function() {\n    var self = this;\n    this.transitioning = true;\n    // Don't show for synchronous route changes\n    setTimeout(function() {\n      if (self.transitioning) {\n        console.log('loading');\n        //nprogress.start();\n      }\n    }, 0);\n  },\n\n  onEnterRoute: function(route) {\n    this.layout.columns(route.columns);\n\n    this.transitioning = false;\n    //this.$body.scrollTop(0);\n    //nprogress.done();\n  },\n\n  onErrorRoute: function() {\n    this.transitioning = false;\n    //nprogress.done(true);\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvYXBwL2FwcGxpY2F0aW9uLmpzP2U4OWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEFwcGxpY2F0aW9uID0gcmVxdWlyZSgnbGliL2NvbmZpZy9hcHBsaWNhdGlvbicpO1xudmFyIGJiID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBMYXlvdXRWaWV3ID0gcmVxdWlyZSgnLi9sYXlvdXQtdmlldycpO1xudmFyIGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKSgnYXBwJyk7XG52YXIgYWNjb3VudGluZyA9IHJlcXVpcmUoJ2FjY291bnRpbmcnKTtcbnZhciByb3V0ZXJDaGFubmVsID0gYmIuUmFkaW8uY2hhbm5lbCgncm91dGVyJyk7XG52YXIgZW50aXRpZXNDaGFubmVsID0gYmIuUmFkaW8uY2hhbm5lbCgnZW50aXRpZXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBBcHBsaWNhdGlvbi5leHRlbmQoe1xuXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuXG4gICAgLy8gaW5pdCBSb290IExheW91dFZpZXdcbiAgICB0aGlzLmxheW91dCA9IG5ldyBMYXlvdXRWaWV3KCk7XG4gICAgdGhpcy5sYXlvdXQucmVuZGVyKCk7XG5cbiAgICB0aGlzLmxpc3RlblRvKHJvdXRlckNoYW5uZWwsIHtcbiAgICAgICdiZWZvcmU6ZW50ZXI6cm91dGUnIDogdGhpcy5vbkJlZm9yZUVudGVyUm91dGUsXG4gICAgICAnZW50ZXI6cm91dGUnICAgICAgICA6IHRoaXMub25FbnRlclJvdXRlLFxuICAgICAgJ2Vycm9yOnJvdXRlJyAgICAgICAgOiB0aGlzLm9uRXJyb3JSb3V0ZVxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTZXQgdXAgYXBwbGljYXRpb24gd2l0aCBzdGFydCBwYXJhbXNcbiAgICovXG4gIG9uQmVmb3JlU3RhcnQ6IGZ1bmN0aW9uKG9wdGlvbnMpe1xuICAgIGRlYnVnKCAnc3RhcnRpbmcgV29vQ29tbWVyY2UgUE9TIGFwcCcgKTtcblxuICAgIC8vIGFwcCBzZXR0aW5nc1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICAvLyBib290c3RyYXAgYWNjb3VudGluZyBzZXR0aW5nc1xuICAgIGFjY291bnRpbmcuc2V0dGluZ3MgPSBvcHRpb25zLmFjY291bnRpbmc7XG5cbiAgICAvLyBnbG9iYWwgYWpheCBzZXR0aW5nc1xuICAgIGJiLiQuYWpheFNldHVwKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc2VjdXJpdHk6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgcmV0dXJuIGVudGl0aWVzQ2hhbm5lbC5yZXF1ZXN0KCAnZ2V0Om9wdGlvbnMnLCAnbm9uY2UnICk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbih4aHIpe1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignWC1XQy1QT1MnLCAxKTtcbiAgICAgIH0sXG4gICAgICB0aW1lb3V0OiA1MDAwMFxuICAgIH0pO1xuICB9LFxuXG4gIG9uU3RhcnQ6IGZ1bmN0aW9uKCl7XG5cbiAgICBiYi5oaXN0b3J5LnN0YXJ0KCk7XG5cbiAgICAvLyBoZWFkZXIgYXBwIHN0YXJ0cyBvbiBhbGwgcGFnZXNcbiAgICAvL1BPUy5IZWFkZXJBcHAuc3RhcnQoKTtcbiAgfSxcblxuICBvbkJlZm9yZUVudGVyUm91dGU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSB0cnVlO1xuICAgIC8vIERvbid0IHNob3cgZm9yIHN5bmNocm9ub3VzIHJvdXRlIGNoYW5nZXNcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHNlbGYudHJhbnNpdGlvbmluZykge1xuICAgICAgICBjb25zb2xlLmxvZygnbG9hZGluZycpO1xuICAgICAgICAvL25wcm9ncmVzcy5zdGFydCgpO1xuICAgICAgfVxuICAgIH0sIDApO1xuICB9LFxuXG4gIG9uRW50ZXJSb3V0ZTogZnVuY3Rpb24ocm91dGUpIHtcbiAgICB0aGlzLmxheW91dC5jb2x1bW5zKHJvdXRlLmNvbHVtbnMpO1xuXG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gZmFsc2U7XG4gICAgLy90aGlzLiRib2R5LnNjcm9sbFRvcCgwKTtcbiAgICAvL25wcm9ncmVzcy5kb25lKCk7XG4gIH0sXG5cbiAgb25FcnJvclJvdXRlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSBmYWxzZTtcbiAgICAvL25wcm9ncmVzcy5kb25lKHRydWUpO1xuICB9XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hcHBzL2FwcC9hcHBsaWNhdGlvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDExXG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiIxMS5qcyJ9");

/***/ },
/* 12 */
/*!**********************************!*\
  !*** ./~/apps/header/service.js ***!
  \**********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Service = __webpack_require__(/*! lib/config/service */ 37);\nvar Views = __webpack_require__(/*! ./views */ 33);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\nvar $ = __webpack_require__(/*! jquery */ 3);\n\nmodule.exports = POS.HeaderApp = Service.extend({\n  channelName: 'header',\n\n  initialize: function() {\n    this.start();\n  },\n\n  onStart: function(){\n    var header = new Views.Header({ el: $('#header') });\n    var menu = new Views.Menu({ el: $('#menu') });\n\n    this.channel.comply({\n      'open:menu': header.openMenu,\n      'close:menu': header.closeMenu\n    }, header);\n  },\n\n  onStop: function(){\n    this.channel.reset();\n  }\n});\n////@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvaGVhZGVyL3NlcnZpY2UuanM/YjY3NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsbUNBQW1DLG1CQUFtQjtBQUN0RCwrQkFBK0IsaUJBQWlCOztBQUVoRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgU2VydmljZSA9IHJlcXVpcmUoJ2xpYi9jb25maWcvc2VydmljZScpO1xudmFyIFZpZXdzID0gcmVxdWlyZSgnLi92aWV3cycpO1xudmFyIFBPUyA9IHJlcXVpcmUoJ2xpYi91dGlsaXRpZXMvZ2xvYmFsJyk7XG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBPUy5IZWFkZXJBcHAgPSBTZXJ2aWNlLmV4dGVuZCh7XG4gIGNoYW5uZWxOYW1lOiAnaGVhZGVyJyxcblxuICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnN0YXJ0KCk7XG4gIH0sXG5cbiAgb25TdGFydDogZnVuY3Rpb24oKXtcbiAgICB2YXIgaGVhZGVyID0gbmV3IFZpZXdzLkhlYWRlcih7IGVsOiAkKCcjaGVhZGVyJykgfSk7XG4gICAgdmFyIG1lbnUgPSBuZXcgVmlld3MuTWVudSh7IGVsOiAkKCcjbWVudScpIH0pO1xuXG4gICAgdGhpcy5jaGFubmVsLmNvbXBseSh7XG4gICAgICAnb3BlbjptZW51JzogaGVhZGVyLm9wZW5NZW51LFxuICAgICAgJ2Nsb3NlOm1lbnUnOiBoZWFkZXIuY2xvc2VNZW51XG4gICAgfSwgaGVhZGVyKTtcbiAgfSxcblxuICBvblN0b3A6IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5jaGFubmVsLnJlc2V0KCk7XG4gIH1cbn0pO1xuLy9cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hcHBzL2hlYWRlci9zZXJ2aWNlLmpzXG4gKiogbW9kdWxlIGlkID0gMTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjEyLmpzIn0=");

/***/ },
/* 13 */
/*!******************************!*\
  !*** ./~/apps/pos/router.js ***!
  \******************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var POS = __webpack_require__(/*! lib/utilities/global */ 8);\nvar Router = __webpack_require__(/*! lib/config/router */ 40);\nvar LayoutView = __webpack_require__(/*! ./layout-view */ 34);\nvar Products = __webpack_require__(/*! ./products/route */ 47);\nvar CartRoute = __webpack_require__(/*! ./cart/route */ 48);\nvar entitiesChannel = Backbone.Radio.channel('entities');\n\nvar Router = Router.extend({\n  columns: 2,\n\n  initialize: function(options) {\n    this.container = options.container;\n    this.orders = entitiesChannel.request('get', {\n      init : true,\n      type : 'collection',\n      name : 'orders'\n    });\n  },\n\n  onBeforeEnter: function() {\n    this.layout = new LayoutView();\n    this.container.show(this.layout);\n  },\n\n  routes: {\n    '' : 'showCart',\n    'cart' : 'showCart',\n    'cart/:id' : 'showCart',\n    'checkout' : 'showCheckout',\n    'checkout/:id' : 'showCheckout',\n    'receipt/:id' : 'showReceipt'\n  },\n\n  onBeforeRoute: function(){\n    if( ! this.layout.leftRegion.hasView() ){\n      this.showProducts();\n    }\n  },\n\n  showProducts: function(){\n    var products = new Products({\n      container  : this.layout.leftRegion\n    });\n    products.enter();\n  },\n\n  showCart: function(id) {\n    return new CartRoute({\n      container  : this.layout.rightRegion,\n      collection : this.orders,\n      order_id   : id\n    });\n\n    //new POSApp.Cart.Controller({ id: id, region: this.init() });\n  },\n\n  showCheckout: function(id) {\n    //new POSApp.Checkout.Controller({ id: id, region: this.init() });\n  },\n\n  showReceipt: function(id) {\n    //new POSApp.Receipt.Controller({ id: id, region: this.init() });\n  }\n\n});\n\nmodule.exports = Router;\nPOS.attach('POSApp.Router', Router);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL3JvdXRlci5qcz8yMjIzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMLGtDQUFrQyw4QkFBOEI7QUFDaEUsR0FBRzs7QUFFSDtBQUNBLHNDQUFzQyw4QkFBOEI7QUFDcEUsR0FBRzs7QUFFSDtBQUNBLHFDQUFxQyw4QkFBOEI7QUFDbkU7O0FBRUEsQ0FBQzs7QUFFRDtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFBPUyA9IHJlcXVpcmUoJ2xpYi91dGlsaXRpZXMvZ2xvYmFsJyk7XG52YXIgUm91dGVyID0gcmVxdWlyZSgnbGliL2NvbmZpZy9yb3V0ZXInKTtcbnZhciBMYXlvdXRWaWV3ID0gcmVxdWlyZSgnLi9sYXlvdXQtdmlldycpO1xudmFyIFByb2R1Y3RzID0gcmVxdWlyZSgnLi9wcm9kdWN0cy9yb3V0ZScpO1xudmFyIENhcnRSb3V0ZSA9IHJlcXVpcmUoJy4vY2FydC9yb3V0ZScpO1xudmFyIGVudGl0aWVzQ2hhbm5lbCA9IEJhY2tib25lLlJhZGlvLmNoYW5uZWwoJ2VudGl0aWVzJyk7XG5cbnZhciBSb3V0ZXIgPSBSb3V0ZXIuZXh0ZW5kKHtcbiAgY29sdW1uczogMixcblxuICBpbml0aWFsaXplOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdGhpcy5jb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lcjtcbiAgICB0aGlzLm9yZGVycyA9IGVudGl0aWVzQ2hhbm5lbC5yZXF1ZXN0KCdnZXQnLCB7XG4gICAgICBpbml0IDogdHJ1ZSxcbiAgICAgIHR5cGUgOiAnY29sbGVjdGlvbicsXG4gICAgICBuYW1lIDogJ29yZGVycydcbiAgICB9KTtcbiAgfSxcblxuICBvbkJlZm9yZUVudGVyOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmxheW91dCA9IG5ldyBMYXlvdXRWaWV3KCk7XG4gICAgdGhpcy5jb250YWluZXIuc2hvdyh0aGlzLmxheW91dCk7XG4gIH0sXG5cbiAgcm91dGVzOiB7XG4gICAgJycgOiAnc2hvd0NhcnQnLFxuICAgICdjYXJ0JyA6ICdzaG93Q2FydCcsXG4gICAgJ2NhcnQvOmlkJyA6ICdzaG93Q2FydCcsXG4gICAgJ2NoZWNrb3V0JyA6ICdzaG93Q2hlY2tvdXQnLFxuICAgICdjaGVja291dC86aWQnIDogJ3Nob3dDaGVja291dCcsXG4gICAgJ3JlY2VpcHQvOmlkJyA6ICdzaG93UmVjZWlwdCdcbiAgfSxcblxuICBvbkJlZm9yZVJvdXRlOiBmdW5jdGlvbigpe1xuICAgIGlmKCAhIHRoaXMubGF5b3V0LmxlZnRSZWdpb24uaGFzVmlldygpICl7XG4gICAgICB0aGlzLnNob3dQcm9kdWN0cygpO1xuICAgIH1cbiAgfSxcblxuICBzaG93UHJvZHVjdHM6IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHByb2R1Y3RzID0gbmV3IFByb2R1Y3RzKHtcbiAgICAgIGNvbnRhaW5lciAgOiB0aGlzLmxheW91dC5sZWZ0UmVnaW9uXG4gICAgfSk7XG4gICAgcHJvZHVjdHMuZW50ZXIoKTtcbiAgfSxcblxuICBzaG93Q2FydDogZnVuY3Rpb24oaWQpIHtcbiAgICByZXR1cm4gbmV3IENhcnRSb3V0ZSh7XG4gICAgICBjb250YWluZXIgIDogdGhpcy5sYXlvdXQucmlnaHRSZWdpb24sXG4gICAgICBjb2xsZWN0aW9uIDogdGhpcy5vcmRlcnMsXG4gICAgICBvcmRlcl9pZCAgIDogaWRcbiAgICB9KTtcblxuICAgIC8vbmV3IFBPU0FwcC5DYXJ0LkNvbnRyb2xsZXIoeyBpZDogaWQsIHJlZ2lvbjogdGhpcy5pbml0KCkgfSk7XG4gIH0sXG5cbiAgc2hvd0NoZWNrb3V0OiBmdW5jdGlvbihpZCkge1xuICAgIC8vbmV3IFBPU0FwcC5DaGVja291dC5Db250cm9sbGVyKHsgaWQ6IGlkLCByZWdpb246IHRoaXMuaW5pdCgpIH0pO1xuICB9LFxuXG4gIHNob3dSZWNlaXB0OiBmdW5jdGlvbihpZCkge1xuICAgIC8vbmV3IFBPU0FwcC5SZWNlaXB0LkNvbnRyb2xsZXIoeyBpZDogaWQsIHJlZ2lvbjogdGhpcy5pbml0KCkgfSk7XG4gIH1cblxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUm91dGVyO1xuUE9TLmF0dGFjaCgnUE9TQXBwLlJvdXRlcicsIFJvdXRlcik7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXBwcy9wb3Mvcm91dGVyLmpzXG4gKiogbW9kdWxlIGlkID0gMTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjEzLmpzIn0=");

/***/ },
/* 14 */
/*!**********************************!*\
  !*** ./~/apps/support/router.js ***!
  \**********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Router = __webpack_require__(/*! lib/config/router */ 40);\nvar LayoutView = __webpack_require__(/*! ./layout-view */ 35);\nvar FormRoute = __webpack_require__(/*! ./form/route */ 49);\nvar StatusRoute = __webpack_require__(/*! ./status/route */ 50);\n\nmodule.exports = Router.extend({\n  columns: 2,\n\n  initialize: function(options) {\n    this.container = options.container;\n  },\n\n  onBeforeEnter: function() {\n    this.layout = new LayoutView();\n    this.container.show(this.layout);\n  },\n\n  routes: {\n    'support' : 'show'\n  },\n\n  show: function(){\n    this.showForm();\n    this.showStatus();\n  },\n\n  showForm: function(){\n    var route = new FormRoute({\n      container  : this.layout.leftRegion\n    });\n    route.enter();\n  },\n\n  showStatus: function(){\n    var route = new StatusRoute({\n      container  : this.layout.rightRegion\n    });\n    route.enter();\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvc3VwcG9ydC9yb3V0ZXIuanM/ZWQzYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUm91dGVyID0gcmVxdWlyZSgnbGliL2NvbmZpZy9yb3V0ZXInKTtcbnZhciBMYXlvdXRWaWV3ID0gcmVxdWlyZSgnLi9sYXlvdXQtdmlldycpO1xudmFyIEZvcm1Sb3V0ZSA9IHJlcXVpcmUoJy4vZm9ybS9yb3V0ZScpO1xudmFyIFN0YXR1c1JvdXRlID0gcmVxdWlyZSgnLi9zdGF0dXMvcm91dGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBSb3V0ZXIuZXh0ZW5kKHtcbiAgY29sdW1uczogMixcblxuICBpbml0aWFsaXplOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdGhpcy5jb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lcjtcbiAgfSxcblxuICBvbkJlZm9yZUVudGVyOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmxheW91dCA9IG5ldyBMYXlvdXRWaWV3KCk7XG4gICAgdGhpcy5jb250YWluZXIuc2hvdyh0aGlzLmxheW91dCk7XG4gIH0sXG5cbiAgcm91dGVzOiB7XG4gICAgJ3N1cHBvcnQnIDogJ3Nob3cnXG4gIH0sXG5cbiAgc2hvdzogZnVuY3Rpb24oKXtcbiAgICB0aGlzLnNob3dGb3JtKCk7XG4gICAgdGhpcy5zaG93U3RhdHVzKCk7XG4gIH0sXG5cbiAgc2hvd0Zvcm06IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHJvdXRlID0gbmV3IEZvcm1Sb3V0ZSh7XG4gICAgICBjb250YWluZXIgIDogdGhpcy5sYXlvdXQubGVmdFJlZ2lvblxuICAgIH0pO1xuICAgIHJvdXRlLmVudGVyKCk7XG4gIH0sXG5cbiAgc2hvd1N0YXR1czogZnVuY3Rpb24oKXtcbiAgICB2YXIgcm91dGUgPSBuZXcgU3RhdHVzUm91dGUoe1xuICAgICAgY29udGFpbmVyICA6IHRoaXMubGF5b3V0LnJpZ2h0UmVnaW9uXG4gICAgfSk7XG4gICAgcm91dGUuZW50ZXIoKTtcbiAgfVxuXG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hcHBzL3N1cHBvcnQvcm91dGVyLmpzXG4gKiogbW9kdWxlIGlkID0gMTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjE0LmpzIn0=");

/***/ },
/* 15 */,
/* 16 */,
/* 17 */,
/* 18 */,
/* 19 */,
/* 20 */,
/* 21 */,
/* 22 */
/*!*****************************!*\
  !*** external "Handlebars" ***!
  \*****************************/
/***/ function(module, exports, __webpack_require__) {

	eval("module.exports = Handlebars;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJIYW5kbGViYXJzXCI/YzMxOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIyMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gSGFuZGxlYmFycztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwiSGFuZGxlYmFyc1wiXG4gKiogbW9kdWxlIGlkID0gMjJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 23 */
/*!*****************************!*\
  !*** external "accounting" ***!
  \*****************************/
/***/ function(module, exports, __webpack_require__) {

	eval("module.exports = accounting;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJhY2NvdW50aW5nXCI/MWQxYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIyMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gYWNjb3VudGluZztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwiYWNjb3VudGluZ1wiXG4gKiogbW9kdWxlIGlkID0gMjNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 24 */
/*!*************************!*\
  !*** external "moment" ***!
  \*************************/
/***/ function(module, exports, __webpack_require__) {

	eval("module.exports = moment;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb21lbnRcIj9hODhkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBtb21lbnQ7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCBcIm1vbWVudFwiXG4gKiogbW9kdWxlIGlkID0gMjRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 25 */,
/* 26 */,
/* 27 */,
/* 28 */,
/* 29 */,
/* 30 */
/*!**********************************!*\
  !*** ./~/lib/utilities/utils.js ***!
  \**********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var accounting = __webpack_require__(/*! accounting */ 23);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\n\nmodule.exports = POS.Utils = {\n\n  /**\n   * Number and Currency helpers\n   */\n  round: function( num, precision ) {\n    if( precision === undefined ) {\n      precision = accounting.settings.number.precision;\n    }\n    return parseFloat( accounting.toFixed( num, precision ) );\n  },\n\n  unformat: function( num ) {\n    return accounting.unformat( num, accounting.settings.number.decimal );\n  },\n\n  formatNumber: function( num, precision ) {\n    if( precision === undefined ) {\n      precision = accounting.settings.number.precision;\n    }\n    if( precision === 'auto' ) {\n      precision = this.decimalPlaces(num);\n    }\n    return accounting.formatNumber(num, precision);\n  },\n\n  isPositiveInteger: function( num, allowZero ){\n    var n = ~~Number(num);\n    if(allowZero) {\n      return String(n) === num && n >= 0;\n    } else {\n      return String(n) === num && n > 0;\n    }\n  },\n\n  decimalPlaces: function(num){\n    return ((+num).toFixed(4)).replace(/^-?\\d*\\.?|0+$/g, '').length;\n  },\n\n  /**\n   * Parse error messages from the server\n   */\n  parseErrorResponse: function( jqXHR ){\n    var resp = jqXHR.responseJSON;\n    if( resp.errors ){\n      return resp.errors[0].message;\n    }\n\n    return jqXHR.responseText;\n  }\n\n};//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjazovLy8uL34vbGliL3V0aWxpdGllcy91dGlscy5qcz9iOWEzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFjY291bnRpbmcgPSByZXF1aXJlKCdhY2NvdW50aW5nJyk7XG52YXIgUE9TID0gcmVxdWlyZSgnbGliL3V0aWxpdGllcy9nbG9iYWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBQT1MuVXRpbHMgPSB7XG5cbiAgLyoqXG4gICAqIE51bWJlciBhbmQgQ3VycmVuY3kgaGVscGVyc1xuICAgKi9cbiAgcm91bmQ6IGZ1bmN0aW9uKCBudW0sIHByZWNpc2lvbiApIHtcbiAgICBpZiggcHJlY2lzaW9uID09PSB1bmRlZmluZWQgKSB7XG4gICAgICBwcmVjaXNpb24gPSBhY2NvdW50aW5nLnNldHRpbmdzLm51bWJlci5wcmVjaXNpb247XG4gICAgfVxuICAgIHJldHVybiBwYXJzZUZsb2F0KCBhY2NvdW50aW5nLnRvRml4ZWQoIG51bSwgcHJlY2lzaW9uICkgKTtcbiAgfSxcblxuICB1bmZvcm1hdDogZnVuY3Rpb24oIG51bSApIHtcbiAgICByZXR1cm4gYWNjb3VudGluZy51bmZvcm1hdCggbnVtLCBhY2NvdW50aW5nLnNldHRpbmdzLm51bWJlci5kZWNpbWFsICk7XG4gIH0sXG5cbiAgZm9ybWF0TnVtYmVyOiBmdW5jdGlvbiggbnVtLCBwcmVjaXNpb24gKSB7XG4gICAgaWYoIHByZWNpc2lvbiA9PT0gdW5kZWZpbmVkICkge1xuICAgICAgcHJlY2lzaW9uID0gYWNjb3VudGluZy5zZXR0aW5ncy5udW1iZXIucHJlY2lzaW9uO1xuICAgIH1cbiAgICBpZiggcHJlY2lzaW9uID09PSAnYXV0bycgKSB7XG4gICAgICBwcmVjaXNpb24gPSB0aGlzLmRlY2ltYWxQbGFjZXMobnVtKTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY291bnRpbmcuZm9ybWF0TnVtYmVyKG51bSwgcHJlY2lzaW9uKTtcbiAgfSxcblxuICBpc1Bvc2l0aXZlSW50ZWdlcjogZnVuY3Rpb24oIG51bSwgYWxsb3daZXJvICl7XG4gICAgdmFyIG4gPSB+fk51bWJlcihudW0pO1xuICAgIGlmKGFsbG93WmVybykge1xuICAgICAgcmV0dXJuIFN0cmluZyhuKSA9PT0gbnVtICYmIG4gPj0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFN0cmluZyhuKSA9PT0gbnVtICYmIG4gPiAwO1xuICAgIH1cbiAgfSxcblxuICBkZWNpbWFsUGxhY2VzOiBmdW5jdGlvbihudW0pe1xuICAgIHJldHVybiAoKCtudW0pLnRvRml4ZWQoNCkpLnJlcGxhY2UoL14tP1xcZCpcXC4/fDArJC9nLCAnJykubGVuZ3RoO1xuICB9LFxuXG4gIC8qKlxuICAgKiBQYXJzZSBlcnJvciBtZXNzYWdlcyBmcm9tIHRoZSBzZXJ2ZXJcbiAgICovXG4gIHBhcnNlRXJyb3JSZXNwb25zZTogZnVuY3Rpb24oIGpxWEhSICl7XG4gICAgdmFyIHJlc3AgPSBqcVhIUi5yZXNwb25zZUpTT047XG4gICAgaWYoIHJlc3AuZXJyb3JzICl7XG4gICAgICByZXR1cm4gcmVzcC5lcnJvcnNbMF0ubWVzc2FnZTtcbiAgICB9XG5cbiAgICByZXR1cm4ganFYSFIucmVzcG9uc2VUZXh0O1xuICB9XG5cbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbGliL3V0aWxpdGllcy91dGlscy5qc1xuICoqIG1vZHVsZSBpZCA9IDMwXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMlxuICoqL1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2s6Ly8vLi9+L2xpYi91dGlsaXRpZXMvdXRpbHMuanM/Njg2YVxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjMwLmpzIn0=");

/***/ },
/* 31 */
/*!***********************************************!*\
  !*** ./~/lib/components/modal/layout-view.js ***!
  \***********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var LayoutView = __webpack_require__(/*! lib/config/layout-view */ 52);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar hbs = __webpack_require__(/*! handlebars */ 22);\n\nmodule.exports = LayoutView.extend({\n  className: 'modal',\n  attributes: {\n    'tabindex' : -1,\n    'role' : 'dialog'\n  },\n\n  regions: {\n    content: '.modal-body'\n  },\n\n  events: {\n    //'click .action-close'   : 'destroyModal',\n    //'click .action-save'    : 'saving',\n    //'click .modal-footer a' : 'onButtonClick'\n  },\n\n  initialize: function () {\n    this.template = hbs.compile( $('#tmpl-modal').html() );\n    this.$el.modal({ show: false, backdrop: 'static' });\n  },\n\n  //onButtonClick: function(e) {\n  //  e.preventDefault();\n  //  this.content.currentView.trigger('button:clicked', e);\n  //},\n\n  triggers: {\n    'show.bs.modal'   : { preventDefault: false, event: 'before:open' },\n    'shown.bs.modal'  : { preventDefault: false, event: 'open' },\n    'hide.bs.modal'   : { preventDefault: false, event: 'before:close' },\n    'hidden.bs.modal' : { preventDefault: false, event: 'close' }\n  },\n\n  open: function(view){\n    var deferred = $.Deferred();\n    this.once('open', deferred.resolve);\n    this.content.show(view);\n    this.$el.modal('show');\n    return deferred;\n  },\n\n  close: function() {\n    var deferred = $.Deferred();\n    this.once('close', function() {\n      this.content.empty();\n      deferred.resolve();\n    });\n    this.$el.modal('hide');\n    return deferred;\n  }\n  //\n  //openModal: function (options) {\n  //  options = options || {};\n  //  this.once('after:show', options.callback); // 'after:show' = 'show' ??\n  //  this.setupModal(options);\n  //  this.$el.modal('show');\n  //},\n  //\n  //destroyModal: function (options) {\n  //  options = options || {};\n  //  this.once('hide', options.callback);\n  //  this.once('hide', this.teardownModal);\n  //  this.$el.modal('hide');\n  //},\n  //\n  //setupModal: function (options) {\n  //  options = options || {};\n  //  if (this.isShown) {\n  //    this.teardownModal();\n  //  }\n  //\n  //  // pass on attributes\n  //  if( options.attributes ){\n  //\n  //    // modal class\n  //    if( options.attributes.className ){\n  //      this.$('.modal-dialog').addClass( options.attributes.className );\n  //    }\n  //\n  //    // modal title\n  //    if( options.attributes.title ) {\n  //      this.$('.modal-header h1').html( options.attributes.title );\n  //    }\n  //  }\n  //\n  //  this.content.show(options.view);\n  //  this.isShown = true;\n  //\n  //  if( options.view.model ) {\n  //    this.listenTo( options.view.model, 'save:status', this.updateSaveStatus );\n  //  }\n  //\n  //},\n  //\n  //teardownModal: function () {\n  //  if (!this.isShown) {\n  //    return;\n  //  }\n  //  this.content.empty();\n  //  this.render(); // re-render to reset attributes\n  //  this.isShown = false;\n  //},\n  //\n  //saving: function(){\n  //  this.$('.modal-footer .action-save')\n  //      .addClass( 'disabled' );\n  //\n  //  this.$('.modal-footer p.response')\n  //      .removeClass('success error')\n  //      .html( '<i class=\"icon icon-spinner\"></i>' );\n  //},\n  //\n  //updateSaveStatus: function( status, message ){\n  //  if( _.isUndefined(message) ){\n  //    message = this.$('.modal-footer p.response').data(status);\n  //  }\n  //\n  //  this.$('.modal-footer p.response')\n  //      .addClass(status)\n  //      .html( '<i class=\"icon icon-' + status + '\"></i> ' + message );\n  //\n  //  this.$('.modal-footer .action-save')\n  //      .removeClass( 'disabled' );\n  //}\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb21wb25lbnRzL21vZGFsL2xheW91dC12aWV3LmpzPzkzODciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxvQkFBb0Isa0NBQWtDO0FBQ3RELEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLHlCQUF5Qiw4Q0FBOEM7QUFDdkUseUJBQXlCLHVDQUF1QztBQUNoRSx5QkFBeUIsK0NBQStDO0FBQ3hFLHlCQUF5QjtBQUN6QixHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBMYXlvdXRWaWV3ID0gcmVxdWlyZSgnbGliL2NvbmZpZy9sYXlvdXQtdmlldycpO1xudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG52YXIgaGJzID0gcmVxdWlyZSgnaGFuZGxlYmFycycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IExheW91dFZpZXcuZXh0ZW5kKHtcbiAgY2xhc3NOYW1lOiAnbW9kYWwnLFxuICBhdHRyaWJ1dGVzOiB7XG4gICAgJ3RhYmluZGV4JyA6IC0xLFxuICAgICdyb2xlJyA6ICdkaWFsb2cnXG4gIH0sXG5cbiAgcmVnaW9uczoge1xuICAgIGNvbnRlbnQ6ICcubW9kYWwtYm9keSdcbiAgfSxcblxuICBldmVudHM6IHtcbiAgICAvLydjbGljayAuYWN0aW9uLWNsb3NlJyAgIDogJ2Rlc3Ryb3lNb2RhbCcsXG4gICAgLy8nY2xpY2sgLmFjdGlvbi1zYXZlJyAgICA6ICdzYXZpbmcnLFxuICAgIC8vJ2NsaWNrIC5tb2RhbC1mb290ZXIgYScgOiAnb25CdXR0b25DbGljaydcbiAgfSxcblxuICBpbml0aWFsaXplOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy50ZW1wbGF0ZSA9IGhicy5jb21waWxlKCAkKCcjdG1wbC1tb2RhbCcpLmh0bWwoKSApO1xuICAgIHRoaXMuJGVsLm1vZGFsKHsgc2hvdzogZmFsc2UsIGJhY2tkcm9wOiAnc3RhdGljJyB9KTtcbiAgfSxcblxuICAvL29uQnV0dG9uQ2xpY2s6IGZ1bmN0aW9uKGUpIHtcbiAgLy8gIGUucHJldmVudERlZmF1bHQoKTtcbiAgLy8gIHRoaXMuY29udGVudC5jdXJyZW50Vmlldy50cmlnZ2VyKCdidXR0b246Y2xpY2tlZCcsIGUpO1xuICAvL30sXG5cbiAgdHJpZ2dlcnM6IHtcbiAgICAnc2hvdy5icy5tb2RhbCcgICA6IHsgcHJldmVudERlZmF1bHQ6IGZhbHNlLCBldmVudDogJ2JlZm9yZTpvcGVuJyB9LFxuICAgICdzaG93bi5icy5tb2RhbCcgIDogeyBwcmV2ZW50RGVmYXVsdDogZmFsc2UsIGV2ZW50OiAnb3BlbicgfSxcbiAgICAnaGlkZS5icy5tb2RhbCcgICA6IHsgcHJldmVudERlZmF1bHQ6IGZhbHNlLCBldmVudDogJ2JlZm9yZTpjbG9zZScgfSxcbiAgICAnaGlkZGVuLmJzLm1vZGFsJyA6IHsgcHJldmVudERlZmF1bHQ6IGZhbHNlLCBldmVudDogJ2Nsb3NlJyB9XG4gIH0sXG5cbiAgb3BlbjogZnVuY3Rpb24odmlldyl7XG4gICAgdmFyIGRlZmVycmVkID0gJC5EZWZlcnJlZCgpO1xuICAgIHRoaXMub25jZSgnb3BlbicsIGRlZmVycmVkLnJlc29sdmUpO1xuICAgIHRoaXMuY29udGVudC5zaG93KHZpZXcpO1xuICAgIHRoaXMuJGVsLm1vZGFsKCdzaG93Jyk7XG4gICAgcmV0dXJuIGRlZmVycmVkO1xuICB9LFxuXG4gIGNsb3NlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGVmZXJyZWQgPSAkLkRlZmVycmVkKCk7XG4gICAgdGhpcy5vbmNlKCdjbG9zZScsIGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5jb250ZW50LmVtcHR5KCk7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgfSk7XG4gICAgdGhpcy4kZWwubW9kYWwoJ2hpZGUnKTtcbiAgICByZXR1cm4gZGVmZXJyZWQ7XG4gIH1cbiAgLy9cbiAgLy9vcGVuTW9kYWw6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIC8vICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgLy8gIHRoaXMub25jZSgnYWZ0ZXI6c2hvdycsIG9wdGlvbnMuY2FsbGJhY2spOyAvLyAnYWZ0ZXI6c2hvdycgPSAnc2hvdycgPz9cbiAgLy8gIHRoaXMuc2V0dXBNb2RhbChvcHRpb25zKTtcbiAgLy8gIHRoaXMuJGVsLm1vZGFsKCdzaG93Jyk7XG4gIC8vfSxcbiAgLy9cbiAgLy9kZXN0cm95TW9kYWw6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIC8vICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgLy8gIHRoaXMub25jZSgnaGlkZScsIG9wdGlvbnMuY2FsbGJhY2spO1xuICAvLyAgdGhpcy5vbmNlKCdoaWRlJywgdGhpcy50ZWFyZG93bk1vZGFsKTtcbiAgLy8gIHRoaXMuJGVsLm1vZGFsKCdoaWRlJyk7XG4gIC8vfSxcbiAgLy9cbiAgLy9zZXR1cE1vZGFsOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAvLyAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIC8vICBpZiAodGhpcy5pc1Nob3duKSB7XG4gIC8vICAgIHRoaXMudGVhcmRvd25Nb2RhbCgpO1xuICAvLyAgfVxuICAvL1xuICAvLyAgLy8gcGFzcyBvbiBhdHRyaWJ1dGVzXG4gIC8vICBpZiggb3B0aW9ucy5hdHRyaWJ1dGVzICl7XG4gIC8vXG4gIC8vICAgIC8vIG1vZGFsIGNsYXNzXG4gIC8vICAgIGlmKCBvcHRpb25zLmF0dHJpYnV0ZXMuY2xhc3NOYW1lICl7XG4gIC8vICAgICAgdGhpcy4kKCcubW9kYWwtZGlhbG9nJykuYWRkQ2xhc3MoIG9wdGlvbnMuYXR0cmlidXRlcy5jbGFzc05hbWUgKTtcbiAgLy8gICAgfVxuICAvL1xuICAvLyAgICAvLyBtb2RhbCB0aXRsZVxuICAvLyAgICBpZiggb3B0aW9ucy5hdHRyaWJ1dGVzLnRpdGxlICkge1xuICAvLyAgICAgIHRoaXMuJCgnLm1vZGFsLWhlYWRlciBoMScpLmh0bWwoIG9wdGlvbnMuYXR0cmlidXRlcy50aXRsZSApO1xuICAvLyAgICB9XG4gIC8vICB9XG4gIC8vXG4gIC8vICB0aGlzLmNvbnRlbnQuc2hvdyhvcHRpb25zLnZpZXcpO1xuICAvLyAgdGhpcy5pc1Nob3duID0gdHJ1ZTtcbiAgLy9cbiAgLy8gIGlmKCBvcHRpb25zLnZpZXcubW9kZWwgKSB7XG4gIC8vICAgIHRoaXMubGlzdGVuVG8oIG9wdGlvbnMudmlldy5tb2RlbCwgJ3NhdmU6c3RhdHVzJywgdGhpcy51cGRhdGVTYXZlU3RhdHVzICk7XG4gIC8vICB9XG4gIC8vXG4gIC8vfSxcbiAgLy9cbiAgLy90ZWFyZG93bk1vZGFsOiBmdW5jdGlvbiAoKSB7XG4gIC8vICBpZiAoIXRoaXMuaXNTaG93bikge1xuICAvLyAgICByZXR1cm47XG4gIC8vICB9XG4gIC8vICB0aGlzLmNvbnRlbnQuZW1wdHkoKTtcbiAgLy8gIHRoaXMucmVuZGVyKCk7IC8vIHJlLXJlbmRlciB0byByZXNldCBhdHRyaWJ1dGVzXG4gIC8vICB0aGlzLmlzU2hvd24gPSBmYWxzZTtcbiAgLy99LFxuICAvL1xuICAvL3NhdmluZzogZnVuY3Rpb24oKXtcbiAgLy8gIHRoaXMuJCgnLm1vZGFsLWZvb3RlciAuYWN0aW9uLXNhdmUnKVxuICAvLyAgICAgIC5hZGRDbGFzcyggJ2Rpc2FibGVkJyApO1xuICAvL1xuICAvLyAgdGhpcy4kKCcubW9kYWwtZm9vdGVyIHAucmVzcG9uc2UnKVxuICAvLyAgICAgIC5yZW1vdmVDbGFzcygnc3VjY2VzcyBlcnJvcicpXG4gIC8vICAgICAgLmh0bWwoICc8aSBjbGFzcz1cImljb24gaWNvbi1zcGlubmVyXCI+PC9pPicgKTtcbiAgLy99LFxuICAvL1xuICAvL3VwZGF0ZVNhdmVTdGF0dXM6IGZ1bmN0aW9uKCBzdGF0dXMsIG1lc3NhZ2UgKXtcbiAgLy8gIGlmKCBfLmlzVW5kZWZpbmVkKG1lc3NhZ2UpICl7XG4gIC8vICAgIG1lc3NhZ2UgPSB0aGlzLiQoJy5tb2RhbC1mb290ZXIgcC5yZXNwb25zZScpLmRhdGEoc3RhdHVzKTtcbiAgLy8gIH1cbiAgLy9cbiAgLy8gIHRoaXMuJCgnLm1vZGFsLWZvb3RlciBwLnJlc3BvbnNlJylcbiAgLy8gICAgICAuYWRkQ2xhc3Moc3RhdHVzKVxuICAvLyAgICAgIC5odG1sKCAnPGkgY2xhc3M9XCJpY29uIGljb24tJyArIHN0YXR1cyArICdcIj48L2k+ICcgKyBtZXNzYWdlICk7XG4gIC8vXG4gIC8vICB0aGlzLiQoJy5tb2RhbC1mb290ZXIgLmFjdGlvbi1zYXZlJylcbiAgLy8gICAgICAucmVtb3ZlQ2xhc3MoICdkaXNhYmxlZCcgKTtcbiAgLy99XG5cbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xpYi9jb21wb25lbnRzL21vZGFsL2xheW91dC12aWV3LmpzXG4gKiogbW9kdWxlIGlkID0gMzFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjMxLmpzIn0=");

/***/ },
/* 32 */
/*!***********************************!*\
  !*** ./~/apps/app/layout-view.js ***!
  \***********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var LayoutView = __webpack_require__(/*! lib/config/layout-view */ 52);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar $ = __webpack_require__(/*! jquery */ 3);\n\nmodule.exports = LayoutView.extend({\n  el: '#page',\n  template: _.template( $('#page').html() ),\n  regions: {\n    headerRegion: '#header',\n    menuRegion  : '#menu',\n    tabsRegion  : '#tabs',\n    mainRegion  : '#main',\n    modalRegion : '#modal'\n  },\n  columns: function(num){\n    if(num === 2){\n      return this.$el.addClass('two-column');\n    }\n    return this.$el.removeClass('two-column');\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvYXBwL2xheW91dC12aWV3LmpzPzZhNjEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIExheW91dFZpZXcgPSByZXF1aXJlKCdsaWIvY29uZmlnL2xheW91dC12aWV3Jyk7XG52YXIgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcblxubW9kdWxlLmV4cG9ydHMgPSBMYXlvdXRWaWV3LmV4dGVuZCh7XG4gIGVsOiAnI3BhZ2UnLFxuICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSggJCgnI3BhZ2UnKS5odG1sKCkgKSxcbiAgcmVnaW9uczoge1xuICAgIGhlYWRlclJlZ2lvbjogJyNoZWFkZXInLFxuICAgIG1lbnVSZWdpb24gIDogJyNtZW51JyxcbiAgICB0YWJzUmVnaW9uICA6ICcjdGFicycsXG4gICAgbWFpblJlZ2lvbiAgOiAnI21haW4nLFxuICAgIG1vZGFsUmVnaW9uIDogJyNtb2RhbCdcbiAgfSxcbiAgY29sdW1uczogZnVuY3Rpb24obnVtKXtcbiAgICBpZihudW0gPT09IDIpe1xuICAgICAgcmV0dXJuIHRoaXMuJGVsLmFkZENsYXNzKCd0d28tY29sdW1uJyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLiRlbC5yZW1vdmVDbGFzcygndHdvLWNvbHVtbicpO1xuICB9XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hcHBzL2FwcC9sYXlvdXQtdmlldy5qc1xuICoqIG1vZHVsZSBpZCA9IDMyXG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiIzMi5qcyJ9");

/***/ },
/* 33 */
/*!********************************!*\
  !*** ./~/apps/header/views.js ***!
  \********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Views = {};\nvar ItemView = __webpack_require__(/*! lib/config/item-view */ 53);\nvar Backbone = __webpack_require__(/*! backbone */ 2);\nvar headerChannel = Backbone.Radio.channel('header');\nvar entitiesChannel = Backbone.Radio.channel('entities');\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar HotKeys = __webpack_require__(/*! lib/components/hotkeys/behavior */ 65);\n//var Modal = require('lib/components/modal/behavior');\nvar Tooltip = __webpack_require__(/*! lib/components/tooltip/behavior */ 66);\n\nViews.HelpModal = ItemView.extend({\n  tagName: 'form',\n\n  behaviors: {\n    //Modal: {\n    //  behaviorClass: Modal\n    //},\n    Tooltip: {\n      behaviorClass: Tooltip\n    }\n  },\n\n  initialize: function () {\n    this.template = Handlebars.compile( $('#tmpl-wc-pos-help-modal').html() );\n    this.collection = entitiesChannel.request('hotkeys');\n\n    // bit of a hack\n    // get the translated title from the template element\n    this.title = $('#tmpl-wc-pos-help-modal').data('title');\n\n    // listen for button clicks\n    this.on( 'button:clicked', this.onButtonClick );\n\n    this.trigger( 'modal:open' );\n  },\n\n  serializeData: function() {\n    return { hotkeys: this.collection.toJSON() };\n  },\n\n  onButtonClick: function(e){\n    if( $(e.target).hasClass('action-save') ){\n      this.save();\n    }\n  },\n\n  save: function() {\n    var data = Backbone.Syphon.serialize( this );\n    this.collection.set( data );\n    this.collection.save();\n  }\n\n});\n\nViews.Header = ItemView.extend({\n\n  ui: {\n    'menu': '#menu-btn'\n  },\n\n  events: {\n    'click @ui.menu': 'openMenu'\n  },\n\n  keyEvents: {\n    'help': 'showHelpModal'\n  },\n\n  behaviors: {\n    HotKeys: {\n      behaviorClass: HotKeys\n    }\n  },\n\n  openMenu: function(e){\n    if(e) {\n      e.preventDefault();\n    }\n\n    // open menu & append backdrop\n    $('body').addClass('menu-open');\n    this.backdrop = $('<div class=\"modal-backdrop in\"></div>');\n    this.backdrop.height('100%');\n    $('body').append(this.backdrop);\n\n    // listen for clicks on backdrop\n    this.backdrop.on('click', function(e){\n      this.closeMenu();\n    }.bind(this));\n  },\n\n  closeMenu: function(){\n\n    // close menu\n    $('body').removeClass('menu-open');\n\n    // teardown backdrop\n    if(this.backdrop) {\n      this.backdrop.remove();\n      delete this.backdrop;\n    }\n  },\n\n  showHelpModal: function() {\n    new Views.HelpModal();\n  }\n\n});\n\nViews.Menu = ItemView.extend({\n\n  events: {\n    'click ul li a': 'menuItemClicked'\n  },\n\n  menuItemClicked: function(){\n    headerChannel.command('close:menu');\n  }\n\n});\n\nmodule.exports = Views;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvaGVhZGVyL3ZpZXdzLmpzP2M4NDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLFlBQVk7QUFDWixHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRCIsInNvdXJjZXNDb250ZW50IjpbInZhciBWaWV3cyA9IHt9O1xudmFyIEl0ZW1WaWV3ID0gcmVxdWlyZSgnbGliL2NvbmZpZy9pdGVtLXZpZXcnKTtcbnZhciBCYWNrYm9uZSA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG52YXIgaGVhZGVyQ2hhbm5lbCA9IEJhY2tib25lLlJhZGlvLmNoYW5uZWwoJ2hlYWRlcicpO1xudmFyIGVudGl0aWVzQ2hhbm5lbCA9IEJhY2tib25lLlJhZGlvLmNoYW5uZWwoJ2VudGl0aWVzJyk7XG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xudmFyIEhvdEtleXMgPSByZXF1aXJlKCdsaWIvY29tcG9uZW50cy9ob3RrZXlzL2JlaGF2aW9yJyk7XG4vL3ZhciBNb2RhbCA9IHJlcXVpcmUoJ2xpYi9jb21wb25lbnRzL21vZGFsL2JlaGF2aW9yJyk7XG52YXIgVG9vbHRpcCA9IHJlcXVpcmUoJ2xpYi9jb21wb25lbnRzL3Rvb2x0aXAvYmVoYXZpb3InKTtcblxuVmlld3MuSGVscE1vZGFsID0gSXRlbVZpZXcuZXh0ZW5kKHtcbiAgdGFnTmFtZTogJ2Zvcm0nLFxuXG4gIGJlaGF2aW9yczoge1xuICAgIC8vTW9kYWw6IHtcbiAgICAvLyAgYmVoYXZpb3JDbGFzczogTW9kYWxcbiAgICAvL30sXG4gICAgVG9vbHRpcDoge1xuICAgICAgYmVoYXZpb3JDbGFzczogVG9vbHRpcFxuICAgIH1cbiAgfSxcblxuICBpbml0aWFsaXplOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy50ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZSggJCgnI3RtcGwtd2MtcG9zLWhlbHAtbW9kYWwnKS5odG1sKCkgKTtcbiAgICB0aGlzLmNvbGxlY3Rpb24gPSBlbnRpdGllc0NoYW5uZWwucmVxdWVzdCgnaG90a2V5cycpO1xuXG4gICAgLy8gYml0IG9mIGEgaGFja1xuICAgIC8vIGdldCB0aGUgdHJhbnNsYXRlZCB0aXRsZSBmcm9tIHRoZSB0ZW1wbGF0ZSBlbGVtZW50XG4gICAgdGhpcy50aXRsZSA9ICQoJyN0bXBsLXdjLXBvcy1oZWxwLW1vZGFsJykuZGF0YSgndGl0bGUnKTtcblxuICAgIC8vIGxpc3RlbiBmb3IgYnV0dG9uIGNsaWNrc1xuICAgIHRoaXMub24oICdidXR0b246Y2xpY2tlZCcsIHRoaXMub25CdXR0b25DbGljayApO1xuXG4gICAgdGhpcy50cmlnZ2VyKCAnbW9kYWw6b3BlbicgKTtcbiAgfSxcblxuICBzZXJpYWxpemVEYXRhOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4geyBob3RrZXlzOiB0aGlzLmNvbGxlY3Rpb24udG9KU09OKCkgfTtcbiAgfSxcblxuICBvbkJ1dHRvbkNsaWNrOiBmdW5jdGlvbihlKXtcbiAgICBpZiggJChlLnRhcmdldCkuaGFzQ2xhc3MoJ2FjdGlvbi1zYXZlJykgKXtcbiAgICAgIHRoaXMuc2F2ZSgpO1xuICAgIH1cbiAgfSxcblxuICBzYXZlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGF0YSA9IEJhY2tib25lLlN5cGhvbi5zZXJpYWxpemUoIHRoaXMgKTtcbiAgICB0aGlzLmNvbGxlY3Rpb24uc2V0KCBkYXRhICk7XG4gICAgdGhpcy5jb2xsZWN0aW9uLnNhdmUoKTtcbiAgfVxuXG59KTtcblxuVmlld3MuSGVhZGVyID0gSXRlbVZpZXcuZXh0ZW5kKHtcblxuICB1aToge1xuICAgICdtZW51JzogJyNtZW51LWJ0bidcbiAgfSxcblxuICBldmVudHM6IHtcbiAgICAnY2xpY2sgQHVpLm1lbnUnOiAnb3Blbk1lbnUnXG4gIH0sXG5cbiAga2V5RXZlbnRzOiB7XG4gICAgJ2hlbHAnOiAnc2hvd0hlbHBNb2RhbCdcbiAgfSxcblxuICBiZWhhdmlvcnM6IHtcbiAgICBIb3RLZXlzOiB7XG4gICAgICBiZWhhdmlvckNsYXNzOiBIb3RLZXlzXG4gICAgfVxuICB9LFxuXG4gIG9wZW5NZW51OiBmdW5jdGlvbihlKXtcbiAgICBpZihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgLy8gb3BlbiBtZW51ICYgYXBwZW5kIGJhY2tkcm9wXG4gICAgJCgnYm9keScpLmFkZENsYXNzKCdtZW51LW9wZW4nKTtcbiAgICB0aGlzLmJhY2tkcm9wID0gJCgnPGRpdiBjbGFzcz1cIm1vZGFsLWJhY2tkcm9wIGluXCI+PC9kaXY+Jyk7XG4gICAgdGhpcy5iYWNrZHJvcC5oZWlnaHQoJzEwMCUnKTtcbiAgICAkKCdib2R5JykuYXBwZW5kKHRoaXMuYmFja2Ryb3ApO1xuXG4gICAgLy8gbGlzdGVuIGZvciBjbGlja3Mgb24gYmFja2Ryb3BcbiAgICB0aGlzLmJhY2tkcm9wLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xuICAgICAgdGhpcy5jbG9zZU1lbnUoKTtcbiAgICB9LmJpbmQodGhpcykpO1xuICB9LFxuXG4gIGNsb3NlTWVudTogZnVuY3Rpb24oKXtcblxuICAgIC8vIGNsb3NlIG1lbnVcbiAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ21lbnUtb3BlbicpO1xuXG4gICAgLy8gdGVhcmRvd24gYmFja2Ryb3BcbiAgICBpZih0aGlzLmJhY2tkcm9wKSB7XG4gICAgICB0aGlzLmJhY2tkcm9wLnJlbW92ZSgpO1xuICAgICAgZGVsZXRlIHRoaXMuYmFja2Ryb3A7XG4gICAgfVxuICB9LFxuXG4gIHNob3dIZWxwTW9kYWw6IGZ1bmN0aW9uKCkge1xuICAgIG5ldyBWaWV3cy5IZWxwTW9kYWwoKTtcbiAgfVxuXG59KTtcblxuVmlld3MuTWVudSA9IEl0ZW1WaWV3LmV4dGVuZCh7XG5cbiAgZXZlbnRzOiB7XG4gICAgJ2NsaWNrIHVsIGxpIGEnOiAnbWVudUl0ZW1DbGlja2VkJ1xuICB9LFxuXG4gIG1lbnVJdGVtQ2xpY2tlZDogZnVuY3Rpb24oKXtcbiAgICBoZWFkZXJDaGFubmVsLmNvbW1hbmQoJ2Nsb3NlOm1lbnUnKTtcbiAgfVxuXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBWaWV3cztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hcHBzL2hlYWRlci92aWV3cy5qc1xuICoqIG1vZHVsZSBpZCA9IDMzXG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiIzMy5qcyJ9");

/***/ },
/* 34 */
/*!***********************************!*\
  !*** ./~/apps/pos/layout-view.js ***!
  \***********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var LayoutView = __webpack_require__(/*! lib/config/layout-view */ 52);\n\nmodule.exports = LayoutView.extend({\n  template: function(){\n    return '<div id=\"left\"></div><div id=\"right\"></div>';\n  },\n  regions: {\n    leftRegion: '#left',\n    rightRegion: '#right'\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL2xheW91dC12aWV3LmpzP2I2YjEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBMYXlvdXRWaWV3ID0gcmVxdWlyZSgnbGliL2NvbmZpZy9sYXlvdXQtdmlldycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IExheW91dFZpZXcuZXh0ZW5kKHtcbiAgdGVtcGxhdGU6IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuICc8ZGl2IGlkPVwibGVmdFwiPjwvZGl2PjxkaXYgaWQ9XCJyaWdodFwiPjwvZGl2Pic7XG4gIH0sXG4gIHJlZ2lvbnM6IHtcbiAgICBsZWZ0UmVnaW9uOiAnI2xlZnQnLFxuICAgIHJpZ2h0UmVnaW9uOiAnI3JpZ2h0J1xuICB9XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hcHBzL3Bvcy9sYXlvdXQtdmlldy5qc1xuICoqIG1vZHVsZSBpZCA9IDM0XG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiIzNC5qcyJ9");

/***/ },
/* 35 */
/*!***************************************!*\
  !*** ./~/apps/support/layout-view.js ***!
  \***************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var LayoutView = __webpack_require__(/*! lib/config/layout-view */ 52);\n\nmodule.exports = LayoutView.extend({\n  template: function(){\n    return '<div id=\"left\"></div><div id=\"right\"></div>';\n  },\n  regions: {\n    leftRegion: '#left',\n    rightRegion: '#right'\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvc3VwcG9ydC9sYXlvdXQtdmlldy5qcz9hYTFmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTGF5b3V0VmlldyA9IHJlcXVpcmUoJ2xpYi9jb25maWcvbGF5b3V0LXZpZXcnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBMYXlvdXRWaWV3LmV4dGVuZCh7XG4gIHRlbXBsYXRlOiBmdW5jdGlvbigpe1xuICAgIHJldHVybiAnPGRpdiBpZD1cImxlZnRcIj48L2Rpdj48ZGl2IGlkPVwicmlnaHRcIj48L2Rpdj4nO1xuICB9LFxuICByZWdpb25zOiB7XG4gICAgbGVmdFJlZ2lvbjogJyNsZWZ0JyxcbiAgICByaWdodFJlZ2lvbjogJyNyaWdodCdcbiAgfVxufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXBwcy9zdXBwb3J0L2xheW91dC12aWV3LmpzXG4gKiogbW9kdWxlIGlkID0gMzVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjM1LmpzIn0=");

/***/ },
/* 36 */,
/* 37 */
/*!*********************************!*\
  !*** ./~/lib/config/service.js ***!
  \*********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\nvar _ = __webpack_require__(/*! lodash */ 1);\n\nmodule.exports = POS.Service = bb.Marionette.Object.extend({\n  constructor: function(options) {\n    //this.attachGlobals(arguments[0]);\n\n    if (this.channelName) {\n      this.channel = bb.Radio.channel(_.result(this, 'channelName'));\n    }\n\n    // add reference to the app, like old Marionette.Module\n    if(options.app){\n      this.app = options.app;\n    }\n\n    bb.Marionette.Object.apply(this, arguments);\n  },\n\n  start: function(){\n    this.triggerMethod('before:start');\n    this._isStarted = true;\n    this.triggerMethod('start');\n  },\n\n  stop: function(){\n    this.triggerMethod('before:stop');\n    this._isStarted = false;\n    this.triggerMethod('stop');\n  },\n\n  isStarted: function(){\n    return this._isStarted === true;\n  }\n\n  /**\n   * attach any POS.POSApp globals before it gets overwritten\n   * this is required so third party plugins can access\n   * Router, Routes etc\n   */\n  //attachGlobals: function(moduleName){\n  //  if( _(POS).has(moduleName) ){\n  //    _.defaults( this, POS[moduleName] );\n  //  }\n  //}\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvc2VydmljZS5qcz8zOTY3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGJiID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBQT1MgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL2dsb2JhbCcpO1xudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBQT1MuU2VydmljZSA9IGJiLk1hcmlvbmV0dGUuT2JqZWN0LmV4dGVuZCh7XG4gIGNvbnN0cnVjdG9yOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgLy90aGlzLmF0dGFjaEdsb2JhbHMoYXJndW1lbnRzWzBdKTtcblxuICAgIGlmICh0aGlzLmNoYW5uZWxOYW1lKSB7XG4gICAgICB0aGlzLmNoYW5uZWwgPSBiYi5SYWRpby5jaGFubmVsKF8ucmVzdWx0KHRoaXMsICdjaGFubmVsTmFtZScpKTtcbiAgICB9XG5cbiAgICAvLyBhZGQgcmVmZXJlbmNlIHRvIHRoZSBhcHAsIGxpa2Ugb2xkIE1hcmlvbmV0dGUuTW9kdWxlXG4gICAgaWYob3B0aW9ucy5hcHApe1xuICAgICAgdGhpcy5hcHAgPSBvcHRpb25zLmFwcDtcbiAgICB9XG5cbiAgICBiYi5NYXJpb25ldHRlLk9iamVjdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9LFxuXG4gIHN0YXJ0OiBmdW5jdGlvbigpe1xuICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnYmVmb3JlOnN0YXJ0Jyk7XG4gICAgdGhpcy5faXNTdGFydGVkID0gdHJ1ZTtcbiAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ3N0YXJ0Jyk7XG4gIH0sXG5cbiAgc3RvcDogZnVuY3Rpb24oKXtcbiAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ2JlZm9yZTpzdG9wJyk7XG4gICAgdGhpcy5faXNTdGFydGVkID0gZmFsc2U7XG4gICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdzdG9wJyk7XG4gIH0sXG5cbiAgaXNTdGFydGVkOiBmdW5jdGlvbigpe1xuICAgIHJldHVybiB0aGlzLl9pc1N0YXJ0ZWQgPT09IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogYXR0YWNoIGFueSBQT1MuUE9TQXBwIGdsb2JhbHMgYmVmb3JlIGl0IGdldHMgb3ZlcndyaXR0ZW5cbiAgICogdGhpcyBpcyByZXF1aXJlZCBzbyB0aGlyZCBwYXJ0eSBwbHVnaW5zIGNhbiBhY2Nlc3NcbiAgICogUm91dGVyLCBSb3V0ZXMgZXRjXG4gICAqL1xuICAvL2F0dGFjaEdsb2JhbHM6IGZ1bmN0aW9uKG1vZHVsZU5hbWUpe1xuICAvLyAgaWYoIF8oUE9TKS5oYXMobW9kdWxlTmFtZSkgKXtcbiAgLy8gICAgXy5kZWZhdWx0cyggdGhpcywgUE9TW21vZHVsZU5hbWVdICk7XG4gIC8vICB9XG4gIC8vfVxuXG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9saWIvY29uZmlnL3NlcnZpY2UuanNcbiAqKiBtb2R1bGUgaWQgPSAzN1xuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiMzcuanMifQ==");

/***/ },
/* 38 */
/*!*********************************************!*\
  !*** ./~/lib/config/filtered-collection.js ***!
  \*********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\nvar Parser = __webpack_require__(/*! lib/utilities/parser */ 54);\nvar _ = __webpack_require__(/*! lodash */ 1);\n\n/**\n * Extend the FilteredCollection class\n */\n_.extend( bb.FilteredCollection.prototype, {\n\n  query: function( query, label ){\n    label = label || 'search';\n    var criterion = Parser.parse( query );\n\n    // syphon off special cases\n    this.checkCriterion( criterion );\n    this.filterBy( label,\n      //_.bind( collection.matchMaker, collection, criterion, fields )\n      _.partial( this.matchMaker, criterion )\n    );\n  },\n\n  checkCriterion: function(criterion){\n\n    // special cases for product search\n    if( _(this._superset).has('indexedDB') &&\n      this._superset.indexedDB.dbName === 'wc_pos_products' ){\n\n      if( _(criterion).has('parent') ){\n        this.removeFilter('hideVariations');\n        //criterion.type = ['variation'];\n      } else {\n        this.hideVariations();\n      }\n\n      if( _( criterion ).has( 'barcode' ) ){\n        this.barcodeSearch( criterion.barcode );\n      }\n    }\n  },\n\n  matchMaker: function( criterion, model ){\n\n    return _.all( criterion, function( array, key ) {\n\n      if( key === '' ) {\n        return _.all( array, function( value ) {\n          var attributes = _.pick(model.attributes, (model.fields || 'title'));\n          return _.any( _.values( attributes ), function( attribute ) {\n            return attribute.toLowerCase().indexOf( value ) !== -1;\n          });\n        });\n      }\n\n      // special shorthand for category\n      else if( key === 'cat' ) {\n        return _.any( array, function( value ) {\n          var cats = _( model.get('categories') ).map( function( category ) {\n            return category.toLowerCase();\n          });\n          return _( cats ).contains( value );\n        });\n      }\n\n      // match any attribute\n      else if( _( model.attributes ).has( key ) ) {\n\n        // if attribute is array, return any match\n        if( _( model.get( key ) ).isArray() ) {\n          return _.any( array, function( value ) {\n            var arr = _( model.get( key ) ).map( function( value ) {\n              return value;\n            });\n            return _( arr ).contains( value );\n          });\n        }\n\n        // else match as string\n        else {\n          return _.any( array, function( value ) {\n            return model.get( key ).toString().toLowerCase() === value;\n          });\n        }\n      }\n\n      return false;\n\n    }, this);\n\n  },\n\n  hideVariations: function(){\n    this.filterBy( 'hideVariations', function( model ){\n      return model.get('type') !== 'variation';\n    });\n  }\n\n//barcodeSearch: function( barcode ) {\n//var filteredVariations = [];\n\n//filteredProducts = products.filter( function(product){\n//    if( product.get('type') === 'variable' ) {\n//        _( product.get('variations') ).each( function(variation) {\n//            if( variation.barcode.toLowerCase() === query.toLowerCase() ) {\n//                variation['type'] = 'variation';\n//                variation['title'] = product.get('title');\n//                variation['categories'] = product.get('categories');\n//                var model = new Entities.Product( variation );\n//                filteredVariations.push( model );\n//            }\n//        })\n//    }\n//    return product.get( 'barcode' ).toLowerCase() === query.toLowerCase();\n//}, this);\n//\n//products = filteredProducts.concat(filteredVariations);\n//if(POS.debug) console.log('found ' + products.length + ' products');\n//\n//// add product to cart and reset search field\n//if( products.length === 1 && products[0].get('type') !== 'variable' ){\n//    if(POS.debug) console.log('adding ' +\n// products[0].get('title') +\n// ' to cart');\n//    POS.CartApp.channel.command( 'cart:add', products[0] );\n//    POS.ProductsApp.channel.command( 'clear:filter' );\n//}\n\n//}\n\n});\n\n/**\n * note: FilteredCollection is not a Backbone.Collection\n * which means it lacks some methods, such as extend\n */\nmodule.exports = POS.FilteredCollection = bb.FilteredCollection;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvZmlsdGVyZWQtY29sbGVjdGlvbi5qcz8yZjc1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTs7QUFFQSxLQUFLOztBQUVMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGJiID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBQT1MgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL2dsb2JhbCcpO1xudmFyIFBhcnNlciA9IHJlcXVpcmUoJ2xpYi91dGlsaXRpZXMvcGFyc2VyJyk7XG52YXIgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG4vKipcbiAqIEV4dGVuZCB0aGUgRmlsdGVyZWRDb2xsZWN0aW9uIGNsYXNzXG4gKi9cbl8uZXh0ZW5kKCBiYi5GaWx0ZXJlZENvbGxlY3Rpb24ucHJvdG90eXBlLCB7XG5cbiAgcXVlcnk6IGZ1bmN0aW9uKCBxdWVyeSwgbGFiZWwgKXtcbiAgICBsYWJlbCA9IGxhYmVsIHx8ICdzZWFyY2gnO1xuICAgIHZhciBjcml0ZXJpb24gPSBQYXJzZXIucGFyc2UoIHF1ZXJ5ICk7XG5cbiAgICAvLyBzeXBob24gb2ZmIHNwZWNpYWwgY2FzZXNcbiAgICB0aGlzLmNoZWNrQ3JpdGVyaW9uKCBjcml0ZXJpb24gKTtcbiAgICB0aGlzLmZpbHRlckJ5KCBsYWJlbCxcbiAgICAgIC8vXy5iaW5kKCBjb2xsZWN0aW9uLm1hdGNoTWFrZXIsIGNvbGxlY3Rpb24sIGNyaXRlcmlvbiwgZmllbGRzIClcbiAgICAgIF8ucGFydGlhbCggdGhpcy5tYXRjaE1ha2VyLCBjcml0ZXJpb24gKVxuICAgICk7XG4gIH0sXG5cbiAgY2hlY2tDcml0ZXJpb246IGZ1bmN0aW9uKGNyaXRlcmlvbil7XG5cbiAgICAvLyBzcGVjaWFsIGNhc2VzIGZvciBwcm9kdWN0IHNlYXJjaFxuICAgIGlmKCBfKHRoaXMuX3N1cGVyc2V0KS5oYXMoJ2luZGV4ZWREQicpICYmXG4gICAgICB0aGlzLl9zdXBlcnNldC5pbmRleGVkREIuZGJOYW1lID09PSAnd2NfcG9zX3Byb2R1Y3RzJyApe1xuXG4gICAgICBpZiggXyhjcml0ZXJpb24pLmhhcygncGFyZW50JykgKXtcbiAgICAgICAgdGhpcy5yZW1vdmVGaWx0ZXIoJ2hpZGVWYXJpYXRpb25zJyk7XG4gICAgICAgIC8vY3JpdGVyaW9uLnR5cGUgPSBbJ3ZhcmlhdGlvbiddO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5oaWRlVmFyaWF0aW9ucygpO1xuICAgICAgfVxuXG4gICAgICBpZiggXyggY3JpdGVyaW9uICkuaGFzKCAnYmFyY29kZScgKSApe1xuICAgICAgICB0aGlzLmJhcmNvZGVTZWFyY2goIGNyaXRlcmlvbi5iYXJjb2RlICk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIG1hdGNoTWFrZXI6IGZ1bmN0aW9uKCBjcml0ZXJpb24sIG1vZGVsICl7XG5cbiAgICByZXR1cm4gXy5hbGwoIGNyaXRlcmlvbiwgZnVuY3Rpb24oIGFycmF5LCBrZXkgKSB7XG5cbiAgICAgIGlmKCBrZXkgPT09ICcnICkge1xuICAgICAgICByZXR1cm4gXy5hbGwoIGFycmF5LCBmdW5jdGlvbiggdmFsdWUgKSB7XG4gICAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBfLnBpY2sobW9kZWwuYXR0cmlidXRlcywgKG1vZGVsLmZpZWxkcyB8fCAndGl0bGUnKSk7XG4gICAgICAgICAgcmV0dXJuIF8uYW55KCBfLnZhbHVlcyggYXR0cmlidXRlcyApLCBmdW5jdGlvbiggYXR0cmlidXRlICkge1xuICAgICAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoIHZhbHVlICkgIT09IC0xO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gc3BlY2lhbCBzaG9ydGhhbmQgZm9yIGNhdGVnb3J5XG4gICAgICBlbHNlIGlmKCBrZXkgPT09ICdjYXQnICkge1xuICAgICAgICByZXR1cm4gXy5hbnkoIGFycmF5LCBmdW5jdGlvbiggdmFsdWUgKSB7XG4gICAgICAgICAgdmFyIGNhdHMgPSBfKCBtb2RlbC5nZXQoJ2NhdGVnb3JpZXMnKSApLm1hcCggZnVuY3Rpb24oIGNhdGVnb3J5ICkge1xuICAgICAgICAgICAgcmV0dXJuIGNhdGVnb3J5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIF8oIGNhdHMgKS5jb250YWlucyggdmFsdWUgKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIG1hdGNoIGFueSBhdHRyaWJ1dGVcbiAgICAgIGVsc2UgaWYoIF8oIG1vZGVsLmF0dHJpYnV0ZXMgKS5oYXMoIGtleSApICkge1xuXG4gICAgICAgIC8vIGlmIGF0dHJpYnV0ZSBpcyBhcnJheSwgcmV0dXJuIGFueSBtYXRjaFxuICAgICAgICBpZiggXyggbW9kZWwuZ2V0KCBrZXkgKSApLmlzQXJyYXkoKSApIHtcbiAgICAgICAgICByZXR1cm4gXy5hbnkoIGFycmF5LCBmdW5jdGlvbiggdmFsdWUgKSB7XG4gICAgICAgICAgICB2YXIgYXJyID0gXyggbW9kZWwuZ2V0KCBrZXkgKSApLm1hcCggZnVuY3Rpb24oIHZhbHVlICkge1xuICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBfKCBhcnIgKS5jb250YWlucyggdmFsdWUgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGVsc2UgbWF0Y2ggYXMgc3RyaW5nXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiBfLmFueSggYXJyYXksIGZ1bmN0aW9uKCB2YWx1ZSApIHtcbiAgICAgICAgICAgIHJldHVybiBtb2RlbC5nZXQoIGtleSApLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSA9PT0gdmFsdWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgfSwgdGhpcyk7XG5cbiAgfSxcblxuICBoaWRlVmFyaWF0aW9uczogZnVuY3Rpb24oKXtcbiAgICB0aGlzLmZpbHRlckJ5KCAnaGlkZVZhcmlhdGlvbnMnLCBmdW5jdGlvbiggbW9kZWwgKXtcbiAgICAgIHJldHVybiBtb2RlbC5nZXQoJ3R5cGUnKSAhPT0gJ3ZhcmlhdGlvbic7XG4gICAgfSk7XG4gIH1cblxuLy9iYXJjb2RlU2VhcmNoOiBmdW5jdGlvbiggYmFyY29kZSApIHtcbi8vdmFyIGZpbHRlcmVkVmFyaWF0aW9ucyA9IFtdO1xuXG4vL2ZpbHRlcmVkUHJvZHVjdHMgPSBwcm9kdWN0cy5maWx0ZXIoIGZ1bmN0aW9uKHByb2R1Y3Qpe1xuLy8gICAgaWYoIHByb2R1Y3QuZ2V0KCd0eXBlJykgPT09ICd2YXJpYWJsZScgKSB7XG4vLyAgICAgICAgXyggcHJvZHVjdC5nZXQoJ3ZhcmlhdGlvbnMnKSApLmVhY2goIGZ1bmN0aW9uKHZhcmlhdGlvbikge1xuLy8gICAgICAgICAgICBpZiggdmFyaWF0aW9uLmJhcmNvZGUudG9Mb3dlckNhc2UoKSA9PT0gcXVlcnkudG9Mb3dlckNhc2UoKSApIHtcbi8vICAgICAgICAgICAgICAgIHZhcmlhdGlvblsndHlwZSddID0gJ3ZhcmlhdGlvbic7XG4vLyAgICAgICAgICAgICAgICB2YXJpYXRpb25bJ3RpdGxlJ10gPSBwcm9kdWN0LmdldCgndGl0bGUnKTtcbi8vICAgICAgICAgICAgICAgIHZhcmlhdGlvblsnY2F0ZWdvcmllcyddID0gcHJvZHVjdC5nZXQoJ2NhdGVnb3JpZXMnKTtcbi8vICAgICAgICAgICAgICAgIHZhciBtb2RlbCA9IG5ldyBFbnRpdGllcy5Qcm9kdWN0KCB2YXJpYXRpb24gKTtcbi8vICAgICAgICAgICAgICAgIGZpbHRlcmVkVmFyaWF0aW9ucy5wdXNoKCBtb2RlbCApO1xuLy8gICAgICAgICAgICB9XG4vLyAgICAgICAgfSlcbi8vICAgIH1cbi8vICAgIHJldHVybiBwcm9kdWN0LmdldCggJ2JhcmNvZGUnICkudG9Mb3dlckNhc2UoKSA9PT0gcXVlcnkudG9Mb3dlckNhc2UoKTtcbi8vfSwgdGhpcyk7XG4vL1xuLy9wcm9kdWN0cyA9IGZpbHRlcmVkUHJvZHVjdHMuY29uY2F0KGZpbHRlcmVkVmFyaWF0aW9ucyk7XG4vL2lmKFBPUy5kZWJ1ZykgY29uc29sZS5sb2coJ2ZvdW5kICcgKyBwcm9kdWN0cy5sZW5ndGggKyAnIHByb2R1Y3RzJyk7XG4vL1xuLy8vLyBhZGQgcHJvZHVjdCB0byBjYXJ0IGFuZCByZXNldCBzZWFyY2ggZmllbGRcbi8vaWYoIHByb2R1Y3RzLmxlbmd0aCA9PT0gMSAmJiBwcm9kdWN0c1swXS5nZXQoJ3R5cGUnKSAhPT0gJ3ZhcmlhYmxlJyApe1xuLy8gICAgaWYoUE9TLmRlYnVnKSBjb25zb2xlLmxvZygnYWRkaW5nICcgK1xuLy8gcHJvZHVjdHNbMF0uZ2V0KCd0aXRsZScpICtcbi8vICcgdG8gY2FydCcpO1xuLy8gICAgUE9TLkNhcnRBcHAuY2hhbm5lbC5jb21tYW5kKCAnY2FydDphZGQnLCBwcm9kdWN0c1swXSApO1xuLy8gICAgUE9TLlByb2R1Y3RzQXBwLmNoYW5uZWwuY29tbWFuZCggJ2NsZWFyOmZpbHRlcicgKTtcbi8vfVxuXG4vL31cblxufSk7XG5cbi8qKlxuICogbm90ZTogRmlsdGVyZWRDb2xsZWN0aW9uIGlzIG5vdCBhIEJhY2tib25lLkNvbGxlY3Rpb25cbiAqIHdoaWNoIG1lYW5zIGl0IGxhY2tzIHNvbWUgbWV0aG9kcywgc3VjaCBhcyBleHRlbmRcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBQT1MuRmlsdGVyZWRDb2xsZWN0aW9uID0gYmIuRmlsdGVyZWRDb2xsZWN0aW9uO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xpYi9jb25maWcvZmlsdGVyZWQtY29sbGVjdGlvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDM4XG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiIzOC5qcyJ9");

/***/ },
/* 39 */
/*!*************************************!*\
  !*** ./~/lib/config/application.js ***!
  \*************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\n\nmodule.exports = POS.Application = bb.Marionette.Application.extend({\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjazovLy8uL34vbGliL2NvbmZpZy9hcHBsaWNhdGlvbi5qcz8yNGZiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBiYiA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG52YXIgUE9TID0gcmVxdWlyZSgnbGliL3V0aWxpdGllcy9nbG9iYWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBQT1MuQXBwbGljYXRpb24gPSBiYi5NYXJpb25ldHRlLkFwcGxpY2F0aW9uLmV4dGVuZCh7XG5cbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xpYi9jb25maWcvYXBwbGljYXRpb24uanNcbiAqKiBtb2R1bGUgaWQgPSAzOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDJcbiAqKi9cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrOi8vLy4vfi9saWIvY29uZmlnL2FwcGxpY2F0aW9uLmpzPzJjOTdcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiIzOS5qcyJ9");

/***/ },
/* 40 */
/*!********************************!*\
  !*** ./~/lib/config/router.js ***!
  \********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar Route = __webpack_require__(/*! ./route */ 55);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\n\nmodule.exports = POS.Router = bb.Marionette.AppRouter.extend({\n  constructor: function() {\n    this.channel = bb.Radio.channel('router');\n    this.on('all', this._onRouterEvent);\n    this.listenTo(bb.history, 'route', this._onHistoryRoute);\n    bb.Marionette.AppRouter.apply(this, arguments);\n  },\n\n  _onRouterEvent: function(name) {\n    var args = _.toArray(arguments).slice(1);\n    this.channel.trigger.apply(this.channel, [name, this].concat(args));\n  },\n\n  _onHistoryRoute: function(router) {\n    if (this === router) {\n      this.active = true;\n    } else {\n      this.active = false;\n    }\n  },\n\n  execute: function(callback, args) {\n    var self = this;\n\n    if (!this.active) {\n      this.triggerMethod.apply(this, ['before:enter'].concat(args));\n    }\n\n    this.triggerMethod.apply(this, ['before:route'].concat(args));\n\n    $.when(this._execute(callback, args)).then(function() {\n      if (!self.active) {\n        self.triggerMethod.apply(self, ['enter'].concat(args));\n      }\n\n      self.triggerMethod.apply(self, ['route'].concat(args));\n    });\n  },\n\n  _execute: function(callback, args) {\n    var route = callback.apply(this, args);\n\n    if (route instanceof Route) {\n      route.router = this;\n      return route.enter(args);\n    }\n  },\n\n  triggerMethod: bb.Marionette.triggerMethod\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvcm91dGVyLmpzPzNiMDQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGJiID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG52YXIgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xudmFyIFJvdXRlID0gcmVxdWlyZSgnLi9yb3V0ZScpO1xudmFyIFBPUyA9IHJlcXVpcmUoJ2xpYi91dGlsaXRpZXMvZ2xvYmFsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUE9TLlJvdXRlciA9IGJiLk1hcmlvbmV0dGUuQXBwUm91dGVyLmV4dGVuZCh7XG4gIGNvbnN0cnVjdG9yOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmNoYW5uZWwgPSBiYi5SYWRpby5jaGFubmVsKCdyb3V0ZXInKTtcbiAgICB0aGlzLm9uKCdhbGwnLCB0aGlzLl9vblJvdXRlckV2ZW50KTtcbiAgICB0aGlzLmxpc3RlblRvKGJiLmhpc3RvcnksICdyb3V0ZScsIHRoaXMuX29uSGlzdG9yeVJvdXRlKTtcbiAgICBiYi5NYXJpb25ldHRlLkFwcFJvdXRlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9LFxuXG4gIF9vblJvdXRlckV2ZW50OiBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIGFyZ3MgPSBfLnRvQXJyYXkoYXJndW1lbnRzKS5zbGljZSgxKTtcbiAgICB0aGlzLmNoYW5uZWwudHJpZ2dlci5hcHBseSh0aGlzLmNoYW5uZWwsIFtuYW1lLCB0aGlzXS5jb25jYXQoYXJncykpO1xuICB9LFxuXG4gIF9vbkhpc3RvcnlSb3V0ZTogZnVuY3Rpb24ocm91dGVyKSB7XG4gICAgaWYgKHRoaXMgPT09IHJvdXRlcikge1xuICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfSxcblxuICBleGVjdXRlOiBmdW5jdGlvbihjYWxsYmFjaywgYXJncykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIGlmICghdGhpcy5hY3RpdmUpIHtcbiAgICAgIHRoaXMudHJpZ2dlck1ldGhvZC5hcHBseSh0aGlzLCBbJ2JlZm9yZTplbnRlciddLmNvbmNhdChhcmdzKSk7XG4gICAgfVxuXG4gICAgdGhpcy50cmlnZ2VyTWV0aG9kLmFwcGx5KHRoaXMsIFsnYmVmb3JlOnJvdXRlJ10uY29uY2F0KGFyZ3MpKTtcblxuICAgICQud2hlbih0aGlzLl9leGVjdXRlKGNhbGxiYWNrLCBhcmdzKSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgIGlmICghc2VsZi5hY3RpdmUpIHtcbiAgICAgICAgc2VsZi50cmlnZ2VyTWV0aG9kLmFwcGx5KHNlbGYsIFsnZW50ZXInXS5jb25jYXQoYXJncykpO1xuICAgICAgfVxuXG4gICAgICBzZWxmLnRyaWdnZXJNZXRob2QuYXBwbHkoc2VsZiwgWydyb3V0ZSddLmNvbmNhdChhcmdzKSk7XG4gICAgfSk7XG4gIH0sXG5cbiAgX2V4ZWN1dGU6IGZ1bmN0aW9uKGNhbGxiYWNrLCBhcmdzKSB7XG4gICAgdmFyIHJvdXRlID0gY2FsbGJhY2suYXBwbHkodGhpcywgYXJncyk7XG5cbiAgICBpZiAocm91dGUgaW5zdGFuY2VvZiBSb3V0ZSkge1xuICAgICAgcm91dGUucm91dGVyID0gdGhpcztcbiAgICAgIHJldHVybiByb3V0ZS5lbnRlcihhcmdzKTtcbiAgICB9XG4gIH0sXG5cbiAgdHJpZ2dlck1ldGhvZDogYmIuTWFyaW9uZXR0ZS50cmlnZ2VyTWV0aG9kXG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9saWIvY29uZmlnL3JvdXRlci5qc1xuICoqIG1vZHVsZSBpZCA9IDQwXG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI0MC5qcyJ9");

/***/ },
/* 41 */
/*!*******************************************!*\
  !*** ./~/entities/products/collection.js ***!
  \*******************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Backbone = __webpack_require__(/*! backbone */ 2);\nvar DualCollection = __webpack_require__(/*! lib/config/dual-collection */ 56);\nvar Model = __webpack_require__(/*! ./model */ 57);\n//var IndexedDB = require('lib/config/indexeddb');\nvar _ = __webpack_require__(/*! lodash */ 1);\n\nmodule.exports = DualCollection.extend({\n  name: 'products',\n  model: Model,\n\n  initialize: function(){\n    this.indexedDB = new Backbone.IndexedDB({\n      storeName: 'products',\n      storePrefix: 'wc_pos_',\n      dualStorage: true,\n      dbVersion: 1,\n      keyPath: 'local_id',\n      autoIncrement: true,\n      indexes: [\n        {name: 'local_id', keyPath: 'local_id', unique: true},\n        {name: 'id', keyPath: 'id', unique: true},\n        {name: 'status', keyPath: 'status', unique: false}\n      ]\n    }, this);\n\n    //this.indexedDB.sayHello();\n\n    //\n    this.on( 'remote:sync', this.remoteSync );\n  },\n\n  parse: function (resp) {\n    if( resp.products ){\n      this.serverResponse(resp);\n      return resp.products;\n    } else {\n      return resp;\n    }\n  },\n\n  serverResponse: function(resp){\n    var variable = _.where(resp.products, { type: 'variable' });\n    _.each( variable, function( product ) {\n      _.each( product.variations, function( variation ){\n        variation.type      = 'variation';\n        variation.title     = product.title;\n        variation.parent    = product.id;\n        variation.categories= product.categories;\n        resp.products.push( variation );\n      });\n    });\n  },\n\n  remoteSync: function(){\n    this.fullSync()\n      .done( function() {\n\n      });\n      //.fail( function( item, jqXHR, textStatus, errorThrown ){\n      //  // error alert\n      //  var errors = POS.Utils.parseErrorResponse( jqXHR );\n      //  POS.Components.Alerts.channel.command( 'open:alert', {\n      //    type: 'danger',\n      //    title: item.title,\n      //    message: errors\n      //  });\n      //});\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VudGl0aWVzL3Byb2R1Y3RzL2NvbGxlY3Rpb24uanM/MTJmOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLG9EQUFvRDtBQUM3RCxTQUFTLHdDQUF3QztBQUNqRCxTQUFTO0FBQ1Q7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsMkNBQTJDLG1CQUFtQjtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUEsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDs7QUFFQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEJhY2tib25lID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBEdWFsQ29sbGVjdGlvbiA9IHJlcXVpcmUoJ2xpYi9jb25maWcvZHVhbC1jb2xsZWN0aW9uJyk7XG52YXIgTW9kZWwgPSByZXF1aXJlKCcuL21vZGVsJyk7XG4vL3ZhciBJbmRleGVkREIgPSByZXF1aXJlKCdsaWIvY29uZmlnL2luZGV4ZWRkYicpO1xudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBEdWFsQ29sbGVjdGlvbi5leHRlbmQoe1xuICBuYW1lOiAncHJvZHVjdHMnLFxuICBtb2RlbDogTW9kZWwsXG5cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKXtcbiAgICB0aGlzLmluZGV4ZWREQiA9IG5ldyBCYWNrYm9uZS5JbmRleGVkREIoe1xuICAgICAgc3RvcmVOYW1lOiAncHJvZHVjdHMnLFxuICAgICAgc3RvcmVQcmVmaXg6ICd3Y19wb3NfJyxcbiAgICAgIGR1YWxTdG9yYWdlOiB0cnVlLFxuICAgICAgZGJWZXJzaW9uOiAxLFxuICAgICAga2V5UGF0aDogJ2xvY2FsX2lkJyxcbiAgICAgIGF1dG9JbmNyZW1lbnQ6IHRydWUsXG4gICAgICBpbmRleGVzOiBbXG4gICAgICAgIHtuYW1lOiAnbG9jYWxfaWQnLCBrZXlQYXRoOiAnbG9jYWxfaWQnLCB1bmlxdWU6IHRydWV9LFxuICAgICAgICB7bmFtZTogJ2lkJywga2V5UGF0aDogJ2lkJywgdW5pcXVlOiB0cnVlfSxcbiAgICAgICAge25hbWU6ICdzdGF0dXMnLCBrZXlQYXRoOiAnc3RhdHVzJywgdW5pcXVlOiBmYWxzZX1cbiAgICAgIF1cbiAgICB9LCB0aGlzKTtcblxuICAgIC8vdGhpcy5pbmRleGVkREIuc2F5SGVsbG8oKTtcblxuICAgIC8vXG4gICAgdGhpcy5vbiggJ3JlbW90ZTpzeW5jJywgdGhpcy5yZW1vdGVTeW5jICk7XG4gIH0sXG5cbiAgcGFyc2U6IGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgaWYoIHJlc3AucHJvZHVjdHMgKXtcbiAgICAgIHRoaXMuc2VydmVyUmVzcG9uc2UocmVzcCk7XG4gICAgICByZXR1cm4gcmVzcC5wcm9kdWN0cztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJlc3A7XG4gICAgfVxuICB9LFxuXG4gIHNlcnZlclJlc3BvbnNlOiBmdW5jdGlvbihyZXNwKXtcbiAgICB2YXIgdmFyaWFibGUgPSBfLndoZXJlKHJlc3AucHJvZHVjdHMsIHsgdHlwZTogJ3ZhcmlhYmxlJyB9KTtcbiAgICBfLmVhY2goIHZhcmlhYmxlLCBmdW5jdGlvbiggcHJvZHVjdCApIHtcbiAgICAgIF8uZWFjaCggcHJvZHVjdC52YXJpYXRpb25zLCBmdW5jdGlvbiggdmFyaWF0aW9uICl7XG4gICAgICAgIHZhcmlhdGlvbi50eXBlICAgICAgPSAndmFyaWF0aW9uJztcbiAgICAgICAgdmFyaWF0aW9uLnRpdGxlICAgICA9IHByb2R1Y3QudGl0bGU7XG4gICAgICAgIHZhcmlhdGlvbi5wYXJlbnQgICAgPSBwcm9kdWN0LmlkO1xuICAgICAgICB2YXJpYXRpb24uY2F0ZWdvcmllcz0gcHJvZHVjdC5jYXRlZ29yaWVzO1xuICAgICAgICByZXNwLnByb2R1Y3RzLnB1c2goIHZhcmlhdGlvbiApO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sXG5cbiAgcmVtb3RlU3luYzogZnVuY3Rpb24oKXtcbiAgICB0aGlzLmZ1bGxTeW5jKClcbiAgICAgIC5kb25lKCBmdW5jdGlvbigpIHtcblxuICAgICAgfSk7XG4gICAgICAvLy5mYWlsKCBmdW5jdGlvbiggaXRlbSwganFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duICl7XG4gICAgICAvLyAgLy8gZXJyb3IgYWxlcnRcbiAgICAgIC8vICB2YXIgZXJyb3JzID0gUE9TLlV0aWxzLnBhcnNlRXJyb3JSZXNwb25zZSgganFYSFIgKTtcbiAgICAgIC8vICBQT1MuQ29tcG9uZW50cy5BbGVydHMuY2hhbm5lbC5jb21tYW5kKCAnb3BlbjphbGVydCcsIHtcbiAgICAgIC8vICAgIHR5cGU6ICdkYW5nZXInLFxuICAgICAgLy8gICAgdGl0bGU6IGl0ZW0udGl0bGUsXG4gICAgICAvLyAgICBtZXNzYWdlOiBlcnJvcnNcbiAgICAgIC8vICB9KTtcbiAgICAgIC8vfSk7XG4gIH1cblxufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vZW50aXRpZXMvcHJvZHVjdHMvY29sbGVjdGlvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDQxXG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI0MS5qcyJ9");

/***/ },
/* 42 */
/*!*****************************************!*\
  !*** ./~/entities/orders/collection.js ***!
  \*****************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar DualCollection = __webpack_require__(/*! lib/config/dual-collection */ 56);\nvar Model = __webpack_require__(/*! ./model */ 58);\nvar debug = __webpack_require__(/*! debug */ 51)('ordersCollection');\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar IndexedDB = __webpack_require__(/*! lib/config/indexeddb */ 59);\n\nmodule.exports = DualCollection.extend({\n  name: 'orders',\n  model: Model,\n\n  comparator: function( model ){\n    if( model.get('id') === undefined ) { return 0; }\n    return 1;\n  },\n\n  initialize: function() {\n\n    this.indexedDB = new IndexedDB({\n      storeName: 'orders',\n      storePrefix: 'wc_pos_',\n      dualStorage: true,\n      dbVersion: 1,\n      keyPath: 'local_id',\n      autoIncrement: true,\n      indexes: [\n        {name: 'local_id', keyPath: 'local_id', unique: true},\n        {name: 'id', keyPath: 'id', unique: true},\n        {name: 'status', keyPath: 'status', unique: false}\n      ]\n    }, this);\n\n  },\n\n  fetch: function(options){\n    options = options || {};\n    var self = this;\n    return $.when(this._isReady).then(function() {\n      if( options.local ){\n        debug('fetching: local orders');\n        var promise = $.Deferred();\n        self.fetchLocalOrders(promise);\n        return promise;\n      } else {\n        debug('fetching: orders');\n        return bb.DualCollection.prototype.fetch.call(self, options);\n      }\n    });\n  },\n\n  fetchLocalOrders: function(promise){\n    var self = this;\n    var onItem = function(item) {\n      if( !item.id ) {\n        self.add(item);\n      }\n    };\n    var onEnd = function() {\n      promise.resolve();\n    };\n    self.indexedDB.iterate(onItem, {\n      index: 'local_id',\n      order: 'ASC',\n      onEnd: onEnd\n    });\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VudGl0aWVzL29yZGVycy9jb2xsZWN0aW9uLmpzP2VlOTIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlDQUF5QyxVQUFVO0FBQ25EO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxvREFBb0Q7QUFDN0QsU0FBUyx3Q0FBd0M7QUFDakQsU0FBUztBQUNUO0FBQ0EsS0FBSzs7QUFFTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYmIgPSByZXF1aXJlKCdiYWNrYm9uZScpO1xudmFyIER1YWxDb2xsZWN0aW9uID0gcmVxdWlyZSgnbGliL2NvbmZpZy9kdWFsLWNvbGxlY3Rpb24nKTtcbnZhciBNb2RlbCA9IHJlcXVpcmUoJy4vbW9kZWwnKTtcbnZhciBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ29yZGVyc0NvbGxlY3Rpb24nKTtcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG52YXIgSW5kZXhlZERCID0gcmVxdWlyZSgnbGliL2NvbmZpZy9pbmRleGVkZGInKTtcblxubW9kdWxlLmV4cG9ydHMgPSBEdWFsQ29sbGVjdGlvbi5leHRlbmQoe1xuICBuYW1lOiAnb3JkZXJzJyxcbiAgbW9kZWw6IE1vZGVsLFxuXG4gIGNvbXBhcmF0b3I6IGZ1bmN0aW9uKCBtb2RlbCApe1xuICAgIGlmKCBtb2RlbC5nZXQoJ2lkJykgPT09IHVuZGVmaW5lZCApIHsgcmV0dXJuIDA7IH1cbiAgICByZXR1cm4gMTtcbiAgfSxcblxuICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcblxuICAgIHRoaXMuaW5kZXhlZERCID0gbmV3IEluZGV4ZWREQih7XG4gICAgICBzdG9yZU5hbWU6ICdvcmRlcnMnLFxuICAgICAgc3RvcmVQcmVmaXg6ICd3Y19wb3NfJyxcbiAgICAgIGR1YWxTdG9yYWdlOiB0cnVlLFxuICAgICAgZGJWZXJzaW9uOiAxLFxuICAgICAga2V5UGF0aDogJ2xvY2FsX2lkJyxcbiAgICAgIGF1dG9JbmNyZW1lbnQ6IHRydWUsXG4gICAgICBpbmRleGVzOiBbXG4gICAgICAgIHtuYW1lOiAnbG9jYWxfaWQnLCBrZXlQYXRoOiAnbG9jYWxfaWQnLCB1bmlxdWU6IHRydWV9LFxuICAgICAgICB7bmFtZTogJ2lkJywga2V5UGF0aDogJ2lkJywgdW5pcXVlOiB0cnVlfSxcbiAgICAgICAge25hbWU6ICdzdGF0dXMnLCBrZXlQYXRoOiAnc3RhdHVzJywgdW5pcXVlOiBmYWxzZX1cbiAgICAgIF1cbiAgICB9LCB0aGlzKTtcblxuICB9LFxuXG4gIGZldGNoOiBmdW5jdGlvbihvcHRpb25zKXtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuICQud2hlbih0aGlzLl9pc1JlYWR5KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgaWYoIG9wdGlvbnMubG9jYWwgKXtcbiAgICAgICAgZGVidWcoJ2ZldGNoaW5nOiBsb2NhbCBvcmRlcnMnKTtcbiAgICAgICAgdmFyIHByb21pc2UgPSAkLkRlZmVycmVkKCk7XG4gICAgICAgIHNlbGYuZmV0Y2hMb2NhbE9yZGVycyhwcm9taXNlKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWJ1ZygnZmV0Y2hpbmc6IG9yZGVycycpO1xuICAgICAgICByZXR1cm4gYmIuRHVhbENvbGxlY3Rpb24ucHJvdG90eXBlLmZldGNoLmNhbGwoc2VsZiwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgZmV0Y2hMb2NhbE9yZGVyczogZnVuY3Rpb24ocHJvbWlzZSl7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBvbkl0ZW0gPSBmdW5jdGlvbihpdGVtKSB7XG4gICAgICBpZiggIWl0ZW0uaWQgKSB7XG4gICAgICAgIHNlbGYuYWRkKGl0ZW0pO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIG9uRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICBwcm9taXNlLnJlc29sdmUoKTtcbiAgICB9O1xuICAgIHNlbGYuaW5kZXhlZERCLml0ZXJhdGUob25JdGVtLCB7XG4gICAgICBpbmRleDogJ2xvY2FsX2lkJyxcbiAgICAgIG9yZGVyOiAnQVNDJyxcbiAgICAgIG9uRW5kOiBvbkVuZFxuICAgIH0pO1xuICB9XG5cbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2VudGl0aWVzL29yZGVycy9jb2xsZWN0aW9uLmpzXG4gKiogbW9kdWxlIGlkID0gNDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjQyLmpzIn0=");

/***/ },
/* 43 */
/*!***************************************!*\
  !*** ./~/entities/cart/collection.js ***!
  \***************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar Collection = __webpack_require__(/*! lib/config/collection */ 60);\nvar Model = __webpack_require__(/*! ./model */ 62);\nvar Utils = __webpack_require__(/*! lib/utilities/utils */ 30);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar entitiesChannel = bb.Radio.channel('entities');\nvar IndexedDB = __webpack_require__(/*! lib/config/indexeddb */ 59);\n\nmodule.exports = Collection.extend({\n  model: Model,\n\n  comparator: function( model ){\n    var type = model.get( 'type' );\n    if( type === 'fee' ) { return 2; }\n    if( type === 'shipping' ) { return 1; }\n    return 0;\n  },\n\n  initialize: function (models, options) {\n    options = options || {};\n\n    this.indexedDB = new IndexedDB({\n      storeName: 'cart',\n      storePrefix: 'wc_pos_',\n      dbVersion: 1,\n      keyPath: 'local_id',\n      autoIncrement: true,\n      indexes: [\n        {name: 'local_id', keyPath: 'local_id', unique: true},\n        {name: 'order', keyPath: 'order', unique: false},\n        {name: 'type', keyPath: 'type', unique: false}\n      ]\n    }, this);\n\n    // if no order_id?\n    if ( options.order_id ) {\n      this.order_id = options.order_id;\n    }\n\n    this.on( 'add remove change', this.calcTotals );\n  },\n\n  calcTotals: function() {\n    var subtotal,\n      subtotal_tax,\n      total_tax = 0,\n      total;\n\n    // sum up the line totals\n    subtotal      = this.sum('subtotal');\n    subtotal_tax  = this.sum('subtotal_tax');\n    total         = this.sum('total');\n\n    var tax = entitiesChannel.request('get', {\n      type: 'option',\n      name: 'tax'\n    });\n    if( tax && tax.calc_taxes === 'yes' ) {\n      total_tax = this.sum('total_tax');\n    }\n\n    // create totals object\n    var totals = {\n      'total'         : Utils.round( total, 4 ),\n      'subtotal'      : Utils.round( subtotal, 4 ),\n      'subtotal_tax'  : Utils.round( subtotal_tax, 4 ),\n      'cart_discount' : Utils.round( subtotal - total, 4 ),\n      'total_tax'     : Utils.round( total_tax, 4 )\n      //'itemized_tax'  : itemized_tax\n    };\n\n    this.trigger('update:totals', totals);\n  },\n\n  fetchOrder: function () {\n    var self = this;\n    var onItem = function (item) {\n      if (item.order === self.order_id) {\n        self.add(item);\n      }\n    };\n    var onEnd = function () {\n      //self.trigger('cart:ready');\n    };\n    self.indexedDB.iterate(onItem, {\n      index: 'order',\n      order: 'ASC',\n      onEnd: onEnd\n    });\n  },\n\n  // convenience method to sum attributes in collection\n  sum: function(attribute){\n    var array = this.pluck(attribute);\n    return _( array ).reduce( function(memo, num){ return memo + num; }, 0 );\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VudGl0aWVzL2NhcnQvY29sbGVjdGlvbi5qcz85ZjhlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDBCQUEwQixVQUFVO0FBQ3BDLCtCQUErQixVQUFVO0FBQ3pDO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxvREFBb0Q7QUFDN0QsU0FBUywrQ0FBK0M7QUFDeEQsU0FBUztBQUNUO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxtQkFBbUIsRUFBRTtBQUN2RTtBQUNBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYmIgPSByZXF1aXJlKCdiYWNrYm9uZScpO1xudmFyIENvbGxlY3Rpb24gPSByZXF1aXJlKCdsaWIvY29uZmlnL2NvbGxlY3Rpb24nKTtcbnZhciBNb2RlbCA9IHJlcXVpcmUoJy4vbW9kZWwnKTtcbnZhciBVdGlscyA9IHJlcXVpcmUoJ2xpYi91dGlsaXRpZXMvdXRpbHMnKTtcbnZhciBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG52YXIgZW50aXRpZXNDaGFubmVsID0gYmIuUmFkaW8uY2hhbm5lbCgnZW50aXRpZXMnKTtcbnZhciBJbmRleGVkREIgPSByZXF1aXJlKCdsaWIvY29uZmlnL2luZGV4ZWRkYicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbGxlY3Rpb24uZXh0ZW5kKHtcbiAgbW9kZWw6IE1vZGVsLFxuXG4gIGNvbXBhcmF0b3I6IGZ1bmN0aW9uKCBtb2RlbCApe1xuICAgIHZhciB0eXBlID0gbW9kZWwuZ2V0KCAndHlwZScgKTtcbiAgICBpZiggdHlwZSA9PT0gJ2ZlZScgKSB7IHJldHVybiAyOyB9XG4gICAgaWYoIHR5cGUgPT09ICdzaGlwcGluZycgKSB7IHJldHVybiAxOyB9XG4gICAgcmV0dXJuIDA7XG4gIH0sXG5cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG1vZGVscywgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgdGhpcy5pbmRleGVkREIgPSBuZXcgSW5kZXhlZERCKHtcbiAgICAgIHN0b3JlTmFtZTogJ2NhcnQnLFxuICAgICAgc3RvcmVQcmVmaXg6ICd3Y19wb3NfJyxcbiAgICAgIGRiVmVyc2lvbjogMSxcbiAgICAgIGtleVBhdGg6ICdsb2NhbF9pZCcsXG4gICAgICBhdXRvSW5jcmVtZW50OiB0cnVlLFxuICAgICAgaW5kZXhlczogW1xuICAgICAgICB7bmFtZTogJ2xvY2FsX2lkJywga2V5UGF0aDogJ2xvY2FsX2lkJywgdW5pcXVlOiB0cnVlfSxcbiAgICAgICAge25hbWU6ICdvcmRlcicsIGtleVBhdGg6ICdvcmRlcicsIHVuaXF1ZTogZmFsc2V9LFxuICAgICAgICB7bmFtZTogJ3R5cGUnLCBrZXlQYXRoOiAndHlwZScsIHVuaXF1ZTogZmFsc2V9XG4gICAgICBdXG4gICAgfSwgdGhpcyk7XG5cbiAgICAvLyBpZiBubyBvcmRlcl9pZD9cbiAgICBpZiAoIG9wdGlvbnMub3JkZXJfaWQgKSB7XG4gICAgICB0aGlzLm9yZGVyX2lkID0gb3B0aW9ucy5vcmRlcl9pZDtcbiAgICB9XG5cbiAgICB0aGlzLm9uKCAnYWRkIHJlbW92ZSBjaGFuZ2UnLCB0aGlzLmNhbGNUb3RhbHMgKTtcbiAgfSxcblxuICBjYWxjVG90YWxzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3VidG90YWwsXG4gICAgICBzdWJ0b3RhbF90YXgsXG4gICAgICB0b3RhbF90YXggPSAwLFxuICAgICAgdG90YWw7XG5cbiAgICAvLyBzdW0gdXAgdGhlIGxpbmUgdG90YWxzXG4gICAgc3VidG90YWwgICAgICA9IHRoaXMuc3VtKCdzdWJ0b3RhbCcpO1xuICAgIHN1YnRvdGFsX3RheCAgPSB0aGlzLnN1bSgnc3VidG90YWxfdGF4Jyk7XG4gICAgdG90YWwgICAgICAgICA9IHRoaXMuc3VtKCd0b3RhbCcpO1xuXG4gICAgdmFyIHRheCA9IGVudGl0aWVzQ2hhbm5lbC5yZXF1ZXN0KCdnZXQnLCB7XG4gICAgICB0eXBlOiAnb3B0aW9uJyxcbiAgICAgIG5hbWU6ICd0YXgnXG4gICAgfSk7XG4gICAgaWYoIHRheCAmJiB0YXguY2FsY190YXhlcyA9PT0gJ3llcycgKSB7XG4gICAgICB0b3RhbF90YXggPSB0aGlzLnN1bSgndG90YWxfdGF4Jyk7XG4gICAgfVxuXG4gICAgLy8gY3JlYXRlIHRvdGFscyBvYmplY3RcbiAgICB2YXIgdG90YWxzID0ge1xuICAgICAgJ3RvdGFsJyAgICAgICAgIDogVXRpbHMucm91bmQoIHRvdGFsLCA0ICksXG4gICAgICAnc3VidG90YWwnICAgICAgOiBVdGlscy5yb3VuZCggc3VidG90YWwsIDQgKSxcbiAgICAgICdzdWJ0b3RhbF90YXgnICA6IFV0aWxzLnJvdW5kKCBzdWJ0b3RhbF90YXgsIDQgKSxcbiAgICAgICdjYXJ0X2Rpc2NvdW50JyA6IFV0aWxzLnJvdW5kKCBzdWJ0b3RhbCAtIHRvdGFsLCA0ICksXG4gICAgICAndG90YWxfdGF4JyAgICAgOiBVdGlscy5yb3VuZCggdG90YWxfdGF4LCA0IClcbiAgICAgIC8vJ2l0ZW1pemVkX3RheCcgIDogaXRlbWl6ZWRfdGF4XG4gICAgfTtcblxuICAgIHRoaXMudHJpZ2dlcigndXBkYXRlOnRvdGFscycsIHRvdGFscyk7XG4gIH0sXG5cbiAgZmV0Y2hPcmRlcjogZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgb25JdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIGlmIChpdGVtLm9yZGVyID09PSBzZWxmLm9yZGVyX2lkKSB7XG4gICAgICAgIHNlbGYuYWRkKGl0ZW0pO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIG9uRW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy9zZWxmLnRyaWdnZXIoJ2NhcnQ6cmVhZHknKTtcbiAgICB9O1xuICAgIHNlbGYuaW5kZXhlZERCLml0ZXJhdGUob25JdGVtLCB7XG4gICAgICBpbmRleDogJ29yZGVyJyxcbiAgICAgIG9yZGVyOiAnQVNDJyxcbiAgICAgIG9uRW5kOiBvbkVuZFxuICAgIH0pO1xuICB9LFxuXG4gIC8vIGNvbnZlbmllbmNlIG1ldGhvZCB0byBzdW0gYXR0cmlidXRlcyBpbiBjb2xsZWN0aW9uXG4gIHN1bTogZnVuY3Rpb24oYXR0cmlidXRlKXtcbiAgICB2YXIgYXJyYXkgPSB0aGlzLnBsdWNrKGF0dHJpYnV0ZSk7XG4gICAgcmV0dXJuIF8oIGFycmF5ICkucmVkdWNlKCBmdW5jdGlvbihtZW1vLCBudW0peyByZXR1cm4gbWVtbyArIG51bTsgfSwgMCApO1xuICB9XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9lbnRpdGllcy9jYXJ0L2NvbGxlY3Rpb24uanNcbiAqKiBtb2R1bGUgaWQgPSA0M1xuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNDMuanMifQ==");

/***/ },
/* 44 */
/*!********************************************!*\
  !*** ./~/entities/customers/collection.js ***!
  \********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Collection = __webpack_require__(/*! lib/config/collection */ 60);\nvar Model = __webpack_require__(/*! ./model */ 61);\n\nmodule.exports = Collection.extend({\n  model: Model\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VudGl0aWVzL2N1c3RvbWVycy9jb2xsZWN0aW9uLmpzP2U0MTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBDb2xsZWN0aW9uID0gcmVxdWlyZSgnbGliL2NvbmZpZy9jb2xsZWN0aW9uJyk7XG52YXIgTW9kZWwgPSByZXF1aXJlKCcuL21vZGVsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQ29sbGVjdGlvbi5leHRlbmQoe1xuICBtb2RlbDogTW9kZWxcbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2VudGl0aWVzL2N1c3RvbWVycy9jb2xsZWN0aW9uLmpzXG4gKiogbW9kdWxlIGlkID0gNDRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjQ0LmpzIn0=");

/***/ },
/* 45 */
/*!******************************************!*\
  !*** ./~/entities/coupons/collection.js ***!
  \******************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Collection = __webpack_require__(/*! lib/config/collection */ 60);\nvar Model = __webpack_require__(/*! ./model */ 63);\n\nmodule.exports = Collection.extend({\n  model: Model\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VudGl0aWVzL2NvdXBvbnMvY29sbGVjdGlvbi5qcz9hNTViIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQ29sbGVjdGlvbiA9IHJlcXVpcmUoJ2xpYi9jb25maWcvY29sbGVjdGlvbicpO1xudmFyIE1vZGVsID0gcmVxdWlyZSgnLi9tb2RlbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbGxlY3Rpb24uZXh0ZW5kKHtcbiAgbW9kZWw6IE1vZGVsXG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9lbnRpdGllcy9jb3Vwb25zL2NvbGxlY3Rpb24uanNcbiAqKiBtb2R1bGUgaWQgPSA0NVxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNDUuanMifQ==");

/***/ },
/* 46 */
/*!**************************************!*\
  !*** ./~/entities/settings/model.js ***!
  \**************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Model = __webpack_require__(/*! lib/config/model */ 64);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar entitiesChannel = bb.Radio.channel('entities');\nvar _ = __webpack_require__(/*! lodash */ 1);\n\nmodule.exports = Model.extend({\n  initialize: function() {\n    this.url = entitiesChannel.request('get', {\n      type: 'option',\n      name: 'ajaxurl'\n    });\n    this._saving = false;\n  },\n  sync: function (method, model, options) {\n    var id       = 'id=' + model.get('id'),\n      action   = 'action=wc_pos_admin_settings';\n\n    options.emulateHTTP = true;\n    options.url = model.url + '?' + action + '&' + id;\n\n    var methods = {\n      beforeSend: function(){\n        this.trigger('update:start');\n        this._saving = true;\n      },\n      complete: function() {\n        this.trigger('update:stop');\n        this._saving = false;\n      }\n    };\n\n    if( !this._saving && method === 'update' ) {\n      _.defaults( options, {\n        beforeSend: _.bind(methods.beforeSend, model),\n        complete:\t_.bind(methods.complete, model)\n      });\n    }\n\n    return bb.sync(method, model, options);\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VudGl0aWVzL3NldHRpbmdzL21vZGVsLmpzPzUxYmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIE1vZGVsID0gcmVxdWlyZSgnbGliL2NvbmZpZy9tb2RlbCcpO1xudmFyIGJiID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBlbnRpdGllc0NoYW5uZWwgPSBiYi5SYWRpby5jaGFubmVsKCdlbnRpdGllcycpO1xudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBNb2RlbC5leHRlbmQoe1xuICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnVybCA9IGVudGl0aWVzQ2hhbm5lbC5yZXF1ZXN0KCdnZXQnLCB7XG4gICAgICB0eXBlOiAnb3B0aW9uJyxcbiAgICAgIG5hbWU6ICdhamF4dXJsJ1xuICAgIH0pO1xuICAgIHRoaXMuX3NhdmluZyA9IGZhbHNlO1xuICB9LFxuICBzeW5jOiBmdW5jdGlvbiAobWV0aG9kLCBtb2RlbCwgb3B0aW9ucykge1xuICAgIHZhciBpZCAgICAgICA9ICdpZD0nICsgbW9kZWwuZ2V0KCdpZCcpLFxuICAgICAgYWN0aW9uICAgPSAnYWN0aW9uPXdjX3Bvc19hZG1pbl9zZXR0aW5ncyc7XG5cbiAgICBvcHRpb25zLmVtdWxhdGVIVFRQID0gdHJ1ZTtcbiAgICBvcHRpb25zLnVybCA9IG1vZGVsLnVybCArICc/JyArIGFjdGlvbiArICcmJyArIGlkO1xuXG4gICAgdmFyIG1ldGhvZHMgPSB7XG4gICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbigpe1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ3VwZGF0ZTpzdGFydCcpO1xuICAgICAgICB0aGlzLl9zYXZpbmcgPSB0cnVlO1xuICAgICAgfSxcbiAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCd1cGRhdGU6c3RvcCcpO1xuICAgICAgICB0aGlzLl9zYXZpbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYoICF0aGlzLl9zYXZpbmcgJiYgbWV0aG9kID09PSAndXBkYXRlJyApIHtcbiAgICAgIF8uZGVmYXVsdHMoIG9wdGlvbnMsIHtcbiAgICAgICAgYmVmb3JlU2VuZDogXy5iaW5kKG1ldGhvZHMuYmVmb3JlU2VuZCwgbW9kZWwpLFxuICAgICAgICBjb21wbGV0ZTpcdF8uYmluZChtZXRob2RzLmNvbXBsZXRlLCBtb2RlbClcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBiYi5zeW5jKG1ldGhvZCwgbW9kZWwsIG9wdGlvbnMpO1xuICB9XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9lbnRpdGllcy9zZXR0aW5ncy9tb2RlbC5qc1xuICoqIG1vZHVsZSBpZCA9IDQ2XG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI0Ni5qcyJ9");

/***/ },
/* 47 */
/*!**************************************!*\
  !*** ./~/apps/pos/products/route.js ***!
  \**************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Route = __webpack_require__(/*! lib/config/route */ 55);\nvar Views = __webpack_require__(/*! ./views */ 67);\nvar Tabs = __webpack_require__(/*! lib/components/tabs/view */ 70);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar entitiesChannel = bb.Radio.channel('entities');\nvar posChannel = bb.Radio.channel('pos');\nvar $ = __webpack_require__(/*! jquery */ 3);\n\nmodule.exports = Route.extend({\n\n  initialize: function (options) {\n    this.container  = options.container;\n    this.filtered   = entitiesChannel.request('get', {\n      type: 'filtered',\n      name: 'products'\n    });\n    this.collection = this.filtered.superset();\n\n    // add title to tab\n    // super hack, get the label from the menu\n    // TODO: put menu items into params, remove this hack\n    var label = $('#menu li.products').text();\n    posChannel.command('update:tab:label', label, 'left');\n  },\n\n  fetch: function() {\n    if (this.collection.isNew()) {\n      return this.collection.fetch();\n    }\n  },\n\n  render: function() {\n    this.layout = new Views.Layout();\n\n    this.listenTo(this.layout, 'show', function () {\n      this.filtered.hideVariations();\n      this.showActions();\n      this.showTabs();\n      this.showProducts();\n    });\n\n    this.container.show( this.layout );\n  },\n\n  showActions: function() {\n    var view = new Views.Actions({\n      collection: this.filtered\n    });\n\n    this.listenTo(view, 'search:query', function (query) {\n      this.filtered.query(query);\n    });\n\n    // show\n    this.layout.actionsRegion.show(view);\n  },\n\n  showTabs: function() {\n\n    // tabs component\n    var view = new Tabs({\n      collection: entitiesChannel.request('get', {\n        type: 'option',\n        name: 'tabs'\n      })\n    });\n\n    this.listenTo(view.collection, 'change:active', function (model) {\n      this.filtered.query(model.get('value'), 'tab');\n    });\n\n    // listen for new tabs\n    this.on('add:new:tab', function (tab) {\n      view.collection.add(tab).set({active: true});\n    });\n\n    // show tabs component\n    this.layout.tabsRegion.show(view);\n  },\n\n  showProducts: function() {\n\n    var view = new Views.List({\n      collection: this.filtered\n    });\n\n    // add to cart\n    this.listenTo(view, 'childview:cart:add:clicked', this.sendToCart);\n\n    // variations, new tab filter\n    this.listenTo(view, 'childview:product:variations:clicked', this.newTab);\n\n    // show\n    this.layout.listRegion.show(view);\n\n  },\n\n  sendToCart: function(childview, args){\n    posChannel.command('cart:add', args.model);\n  },\n\n  newTab: function(childview, args){\n    var newTab = {\n      label: args.model.get('title'),\n      value: 'parent:' + args.model.get('id'),\n      fixed: false\n    };\n    this.trigger('add:new:tab', newTab);\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL3Byb2R1Y3RzL3JvdXRlLmpzPzhjYWIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLG9DQUFvQyxhQUFhO0FBQ2pELEtBQUs7O0FBRUw7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUm91dGUgPSByZXF1aXJlKCdsaWIvY29uZmlnL3JvdXRlJyk7XG52YXIgVmlld3MgPSByZXF1aXJlKCcuL3ZpZXdzJyk7XG52YXIgVGFicyA9IHJlcXVpcmUoJ2xpYi9jb21wb25lbnRzL3RhYnMvdmlldycpO1xudmFyIGJiID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBlbnRpdGllc0NoYW5uZWwgPSBiYi5SYWRpby5jaGFubmVsKCdlbnRpdGllcycpO1xudmFyIHBvc0NoYW5uZWwgPSBiYi5SYWRpby5jaGFubmVsKCdwb3MnKTtcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUm91dGUuZXh0ZW5kKHtcblxuICBpbml0aWFsaXplOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHRoaXMuY29udGFpbmVyICA9IG9wdGlvbnMuY29udGFpbmVyO1xuICAgIHRoaXMuZmlsdGVyZWQgICA9IGVudGl0aWVzQ2hhbm5lbC5yZXF1ZXN0KCdnZXQnLCB7XG4gICAgICB0eXBlOiAnZmlsdGVyZWQnLFxuICAgICAgbmFtZTogJ3Byb2R1Y3RzJ1xuICAgIH0pO1xuICAgIHRoaXMuY29sbGVjdGlvbiA9IHRoaXMuZmlsdGVyZWQuc3VwZXJzZXQoKTtcblxuICAgIC8vIGFkZCB0aXRsZSB0byB0YWJcbiAgICAvLyBzdXBlciBoYWNrLCBnZXQgdGhlIGxhYmVsIGZyb20gdGhlIG1lbnVcbiAgICAvLyBUT0RPOiBwdXQgbWVudSBpdGVtcyBpbnRvIHBhcmFtcywgcmVtb3ZlIHRoaXMgaGFja1xuICAgIHZhciBsYWJlbCA9ICQoJyNtZW51IGxpLnByb2R1Y3RzJykudGV4dCgpO1xuICAgIHBvc0NoYW5uZWwuY29tbWFuZCgndXBkYXRlOnRhYjpsYWJlbCcsIGxhYmVsLCAnbGVmdCcpO1xuICB9LFxuXG4gIGZldGNoOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5jb2xsZWN0aW9uLmlzTmV3KCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbGxlY3Rpb24uZmV0Y2goKTtcbiAgICB9XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmxheW91dCA9IG5ldyBWaWV3cy5MYXlvdXQoKTtcblxuICAgIHRoaXMubGlzdGVuVG8odGhpcy5sYXlvdXQsICdzaG93JywgZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5maWx0ZXJlZC5oaWRlVmFyaWF0aW9ucygpO1xuICAgICAgdGhpcy5zaG93QWN0aW9ucygpO1xuICAgICAgdGhpcy5zaG93VGFicygpO1xuICAgICAgdGhpcy5zaG93UHJvZHVjdHMoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuY29udGFpbmVyLnNob3coIHRoaXMubGF5b3V0ICk7XG4gIH0sXG5cbiAgc2hvd0FjdGlvbnM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2aWV3ID0gbmV3IFZpZXdzLkFjdGlvbnMoe1xuICAgICAgY29sbGVjdGlvbjogdGhpcy5maWx0ZXJlZFxuICAgIH0pO1xuXG4gICAgdGhpcy5saXN0ZW5Ubyh2aWV3LCAnc2VhcmNoOnF1ZXJ5JywgZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICB0aGlzLmZpbHRlcmVkLnF1ZXJ5KHF1ZXJ5KTtcbiAgICB9KTtcblxuICAgIC8vIHNob3dcbiAgICB0aGlzLmxheW91dC5hY3Rpb25zUmVnaW9uLnNob3codmlldyk7XG4gIH0sXG5cbiAgc2hvd1RhYnM6IGZ1bmN0aW9uKCkge1xuXG4gICAgLy8gdGFicyBjb21wb25lbnRcbiAgICB2YXIgdmlldyA9IG5ldyBUYWJzKHtcbiAgICAgIGNvbGxlY3Rpb246IGVudGl0aWVzQ2hhbm5lbC5yZXF1ZXN0KCdnZXQnLCB7XG4gICAgICAgIHR5cGU6ICdvcHRpb24nLFxuICAgICAgICBuYW1lOiAndGFicydcbiAgICAgIH0pXG4gICAgfSk7XG5cbiAgICB0aGlzLmxpc3RlblRvKHZpZXcuY29sbGVjdGlvbiwgJ2NoYW5nZTphY3RpdmUnLCBmdW5jdGlvbiAobW9kZWwpIHtcbiAgICAgIHRoaXMuZmlsdGVyZWQucXVlcnkobW9kZWwuZ2V0KCd2YWx1ZScpLCAndGFiJyk7XG4gICAgfSk7XG5cbiAgICAvLyBsaXN0ZW4gZm9yIG5ldyB0YWJzXG4gICAgdGhpcy5vbignYWRkOm5ldzp0YWInLCBmdW5jdGlvbiAodGFiKSB7XG4gICAgICB2aWV3LmNvbGxlY3Rpb24uYWRkKHRhYikuc2V0KHthY3RpdmU6IHRydWV9KTtcbiAgICB9KTtcblxuICAgIC8vIHNob3cgdGFicyBjb21wb25lbnRcbiAgICB0aGlzLmxheW91dC50YWJzUmVnaW9uLnNob3codmlldyk7XG4gIH0sXG5cbiAgc2hvd1Byb2R1Y3RzOiBmdW5jdGlvbigpIHtcblxuICAgIHZhciB2aWV3ID0gbmV3IFZpZXdzLkxpc3Qoe1xuICAgICAgY29sbGVjdGlvbjogdGhpcy5maWx0ZXJlZFxuICAgIH0pO1xuXG4gICAgLy8gYWRkIHRvIGNhcnRcbiAgICB0aGlzLmxpc3RlblRvKHZpZXcsICdjaGlsZHZpZXc6Y2FydDphZGQ6Y2xpY2tlZCcsIHRoaXMuc2VuZFRvQ2FydCk7XG5cbiAgICAvLyB2YXJpYXRpb25zLCBuZXcgdGFiIGZpbHRlclxuICAgIHRoaXMubGlzdGVuVG8odmlldywgJ2NoaWxkdmlldzpwcm9kdWN0OnZhcmlhdGlvbnM6Y2xpY2tlZCcsIHRoaXMubmV3VGFiKTtcblxuICAgIC8vIHNob3dcbiAgICB0aGlzLmxheW91dC5saXN0UmVnaW9uLnNob3codmlldyk7XG5cbiAgfSxcblxuICBzZW5kVG9DYXJ0OiBmdW5jdGlvbihjaGlsZHZpZXcsIGFyZ3Mpe1xuICAgIHBvc0NoYW5uZWwuY29tbWFuZCgnY2FydDphZGQnLCBhcmdzLm1vZGVsKTtcbiAgfSxcblxuICBuZXdUYWI6IGZ1bmN0aW9uKGNoaWxkdmlldywgYXJncyl7XG4gICAgdmFyIG5ld1RhYiA9IHtcbiAgICAgIGxhYmVsOiBhcmdzLm1vZGVsLmdldCgndGl0bGUnKSxcbiAgICAgIHZhbHVlOiAncGFyZW50OicgKyBhcmdzLm1vZGVsLmdldCgnaWQnKSxcbiAgICAgIGZpeGVkOiBmYWxzZVxuICAgIH07XG4gICAgdGhpcy50cmlnZ2VyKCdhZGQ6bmV3OnRhYicsIG5ld1RhYik7XG4gIH1cblxufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXBwcy9wb3MvcHJvZHVjdHMvcm91dGUuanNcbiAqKiBtb2R1bGUgaWQgPSA0N1xuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNDcuanMifQ==");

/***/ },
/* 48 */
/*!**********************************!*\
  !*** ./~/apps/pos/cart/route.js ***!
  \**********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Route = __webpack_require__(/*! lib/config/route */ 55);\nvar LayoutView = __webpack_require__(/*! ./views/layout */ 71);\nvar ItemsView = __webpack_require__(/*! ./views/items */ 72);\nvar TotalsView = __webpack_require__(/*! ./views/totals */ 73);\nvar ActionsView = __webpack_require__(/*! ./views/actions */ 74);\nvar NotesView = __webpack_require__(/*! ./views/notes */ 75);\nvar CustomerSelect = __webpack_require__(/*! lib/components/customer-select/view */ 76);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar entitiesChannel = bb.Radio.channel('entities');\nvar posChannel = bb.Radio.channel('pos');\nvar debug = __webpack_require__(/*! debug */ 51)('cart');\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\n\nvar CartRoute = Route.extend({\n  views: {},\n\n  initialize: function( options ) {\n    options = options || {};\n    this.order_id = options.order_id;\n    this.container = options.container;\n    this.collection = options.collection;\n\n    // listen for cart:add commands\n    posChannel.comply( 'cart:add', this.addToCart, this );\n  },\n\n  fetch: function() {\n    if (this.collection.isNew()) {\n      return this.collection.fetch({ local: true });\n    }\n  },\n\n  onBeforeRender: function(){\n    if( this.order_id ) {\n      this.order = this.collection.findWhere({\n        local_id: this.order_id\n      });\n    } else if( this.collection.length > 0 ) {\n      this.order = this.collection.at(0);\n    } else {\n      this.order = this.collection.create();\n    }\n  },\n\n  render: function() {\n    this.layout = new LayoutView({ order: this.order });\n\n    this.listenTo( this.layout, 'show', function() {\n      this.showCart();\n      this.showTotals();\n      this.showCustomer();\n      this.showActions();\n      this.showNotes();\n\n      this.layout.showOrHide();\n    });\n\n    this.container.show( this.layout );\n  },\n\n  /**\n   * Add/update tab label\n   */\n  updateTabLabel: _.debounce( function( order ) {\n    var label = $('#tmpl-cart').data('title');\n    if( order ){\n      /* global accounting */\n      label += ' - ' + accounting.formatMoney( order.get('total') );\n    }\n    posChannel.command( 'update:tab:label', label, 'right' );\n  }, 100),\n\n  /**\n   *\n   */\n  addToCart: function( item ) {\n    var attributes = item instanceof bb.Model ? item.attributes : item;\n    var row;\n\n    if( _.isUndefined( this.order.cart ) ) {\n      debug('there is no cart');\n    }\n\n    if( attributes.id ) {\n      row = this.order.cart.findWhere({ id: attributes.id });\n    }\n\n    if( row instanceof bb.Model ) {\n      row.quantity('increase');\n    } else {\n      row = this.order.cart.add( attributes );\n    }\n\n    row.trigger( 'focus:row' );\n  },\n\n  /**\n   * Cart Items\n   */\n  showCart: function() {\n    var view = new ItemsView({\n      collection: this.order.cart\n    });\n    this.layout.listRegion.show(view);\n  },\n\n  /**\n   * Cart Totals\n   */\n  showTotals: function() {\n    var view = new TotalsView({\n      model: this.order\n    });\n    this.on('discount:clicked', view.showDiscountRow);\n    this.layout.totalsRegion.show(view);\n  },\n\n  /**\n   * Customer Select\n   */\n  showCustomer: function(){\n    var view = new CustomerSelect();\n\n    this.listenTo( view, 'customer:select', function( id, name ) {\n      this.order.save({\n        customer_id: id,\n        customer_name: name\n      });\n    }, this);\n\n    // bit of a hack\n    // get the \"Customer:\" translation and add it to the view\n    this.layout.customerRegion.on( 'before:show', function(view){\n      var label = this.$el.html();\n      view.$el.prepend( label );\n    });\n\n    this.layout.customerRegion.show( view );\n  },\n\n  /**\n   * TODO: abstract as a collection of button models?\n   */\n  showActions: function() {\n    var view = new ActionsView(),\n        self = this;\n\n    var actions = {\n      'void': function(){\n        self.order.voidOrder();\n      },\n      note: function(){\n        self.layout.notesRegion.currentView.showNoteField();\n      },\n      discount: function(){\n        self.layout.totalsRegion.currentView.showDiscountRow();\n      },\n      fee: function(args){\n        self.addToCart({ title: args.title, type: 'fee' });\n      },\n      shipping: function(args){\n        self.addToCart({ title: args.title, type: 'shipping' });\n      },\n      checkout: function(){\n        //posChannel.command('show:checkout');\n      }\n    };\n\n    this.listenTo( view, 'button:clicked', function(args) {\n      var action = args.action;\n      if(actions.hasOwnProperty(action)){\n        actions[action](args);\n      }\n    });\n\n    this.layout.actionsRegion.show( view );\n  },\n\n  /**\n   * Order Notes\n   */\n  showNotes: function() {\n    var view = new NotesView({\n      model: this.order\n    });\n    this.on( 'note:clicked', view.showNoteField );\n    this.layout.notesRegion.show( view );\n  }\n\n});\n\nmodule.exports = CartRoute;\nPOS.attach('POSApp.Cart.Route', CartRoute);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL2NhcnQvcm91dGUuanM/Y2FjOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxvQ0FBb0MsY0FBYztBQUNsRDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0Esa0NBQWtDLG9CQUFvQjs7QUFFdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1Q0FBdUMsb0JBQW9CO0FBQzNEOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLHdCQUF3QixpQ0FBaUM7QUFDekQsT0FBTztBQUNQO0FBQ0Esd0JBQXdCLHNDQUFzQztBQUM5RCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRDtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJvdXRlID0gcmVxdWlyZSgnbGliL2NvbmZpZy9yb3V0ZScpO1xudmFyIExheW91dFZpZXcgPSByZXF1aXJlKCcuL3ZpZXdzL2xheW91dCcpO1xudmFyIEl0ZW1zVmlldyA9IHJlcXVpcmUoJy4vdmlld3MvaXRlbXMnKTtcbnZhciBUb3RhbHNWaWV3ID0gcmVxdWlyZSgnLi92aWV3cy90b3RhbHMnKTtcbnZhciBBY3Rpb25zVmlldyA9IHJlcXVpcmUoJy4vdmlld3MvYWN0aW9ucycpO1xudmFyIE5vdGVzVmlldyA9IHJlcXVpcmUoJy4vdmlld3Mvbm90ZXMnKTtcbnZhciBDdXN0b21lclNlbGVjdCA9IHJlcXVpcmUoJ2xpYi9jb21wb25lbnRzL2N1c3RvbWVyLXNlbGVjdC92aWV3Jyk7XG52YXIgYmIgPSByZXF1aXJlKCdiYWNrYm9uZScpO1xudmFyIGVudGl0aWVzQ2hhbm5lbCA9IGJiLlJhZGlvLmNoYW5uZWwoJ2VudGl0aWVzJyk7XG52YXIgcG9zQ2hhbm5lbCA9IGJiLlJhZGlvLmNoYW5uZWwoJ3BvcycpO1xudmFyIGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKSgnY2FydCcpO1xudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcbnZhciBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG52YXIgUE9TID0gcmVxdWlyZSgnbGliL3V0aWxpdGllcy9nbG9iYWwnKTtcblxudmFyIENhcnRSb3V0ZSA9IFJvdXRlLmV4dGVuZCh7XG4gIHZpZXdzOiB7fSxcblxuICBpbml0aWFsaXplOiBmdW5jdGlvbiggb3B0aW9ucyApIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB0aGlzLm9yZGVyX2lkID0gb3B0aW9ucy5vcmRlcl9pZDtcbiAgICB0aGlzLmNvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyO1xuICAgIHRoaXMuY29sbGVjdGlvbiA9IG9wdGlvbnMuY29sbGVjdGlvbjtcblxuICAgIC8vIGxpc3RlbiBmb3IgY2FydDphZGQgY29tbWFuZHNcbiAgICBwb3NDaGFubmVsLmNvbXBseSggJ2NhcnQ6YWRkJywgdGhpcy5hZGRUb0NhcnQsIHRoaXMgKTtcbiAgfSxcblxuICBmZXRjaDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuY29sbGVjdGlvbi5pc05ldygpKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb2xsZWN0aW9uLmZldGNoKHsgbG9jYWw6IHRydWUgfSk7XG4gICAgfVxuICB9LFxuXG4gIG9uQmVmb3JlUmVuZGVyOiBmdW5jdGlvbigpe1xuICAgIGlmKCB0aGlzLm9yZGVyX2lkICkge1xuICAgICAgdGhpcy5vcmRlciA9IHRoaXMuY29sbGVjdGlvbi5maW5kV2hlcmUoe1xuICAgICAgICBsb2NhbF9pZDogdGhpcy5vcmRlcl9pZFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmKCB0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoID4gMCApIHtcbiAgICAgIHRoaXMub3JkZXIgPSB0aGlzLmNvbGxlY3Rpb24uYXQoMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub3JkZXIgPSB0aGlzLmNvbGxlY3Rpb24uY3JlYXRlKCk7XG4gICAgfVxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5sYXlvdXQgPSBuZXcgTGF5b3V0Vmlldyh7IG9yZGVyOiB0aGlzLm9yZGVyIH0pO1xuXG4gICAgdGhpcy5saXN0ZW5UbyggdGhpcy5sYXlvdXQsICdzaG93JywgZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnNob3dDYXJ0KCk7XG4gICAgICB0aGlzLnNob3dUb3RhbHMoKTtcbiAgICAgIHRoaXMuc2hvd0N1c3RvbWVyKCk7XG4gICAgICB0aGlzLnNob3dBY3Rpb25zKCk7XG4gICAgICB0aGlzLnNob3dOb3RlcygpO1xuXG4gICAgICB0aGlzLmxheW91dC5zaG93T3JIaWRlKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmNvbnRhaW5lci5zaG93KCB0aGlzLmxheW91dCApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBBZGQvdXBkYXRlIHRhYiBsYWJlbFxuICAgKi9cbiAgdXBkYXRlVGFiTGFiZWw6IF8uZGVib3VuY2UoIGZ1bmN0aW9uKCBvcmRlciApIHtcbiAgICB2YXIgbGFiZWwgPSAkKCcjdG1wbC1jYXJ0JykuZGF0YSgndGl0bGUnKTtcbiAgICBpZiggb3JkZXIgKXtcbiAgICAgIC8qIGdsb2JhbCBhY2NvdW50aW5nICovXG4gICAgICBsYWJlbCArPSAnIC0gJyArIGFjY291bnRpbmcuZm9ybWF0TW9uZXkoIG9yZGVyLmdldCgndG90YWwnKSApO1xuICAgIH1cbiAgICBwb3NDaGFubmVsLmNvbW1hbmQoICd1cGRhdGU6dGFiOmxhYmVsJywgbGFiZWwsICdyaWdodCcgKTtcbiAgfSwgMTAwKSxcblxuICAvKipcbiAgICpcbiAgICovXG4gIGFkZFRvQ2FydDogZnVuY3Rpb24oIGl0ZW0gKSB7XG4gICAgdmFyIGF0dHJpYnV0ZXMgPSBpdGVtIGluc3RhbmNlb2YgYmIuTW9kZWwgPyBpdGVtLmF0dHJpYnV0ZXMgOiBpdGVtO1xuICAgIHZhciByb3c7XG5cbiAgICBpZiggXy5pc1VuZGVmaW5lZCggdGhpcy5vcmRlci5jYXJ0ICkgKSB7XG4gICAgICBkZWJ1ZygndGhlcmUgaXMgbm8gY2FydCcpO1xuICAgIH1cblxuICAgIGlmKCBhdHRyaWJ1dGVzLmlkICkge1xuICAgICAgcm93ID0gdGhpcy5vcmRlci5jYXJ0LmZpbmRXaGVyZSh7IGlkOiBhdHRyaWJ1dGVzLmlkIH0pO1xuICAgIH1cblxuICAgIGlmKCByb3cgaW5zdGFuY2VvZiBiYi5Nb2RlbCApIHtcbiAgICAgIHJvdy5xdWFudGl0eSgnaW5jcmVhc2UnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcm93ID0gdGhpcy5vcmRlci5jYXJ0LmFkZCggYXR0cmlidXRlcyApO1xuICAgIH1cblxuICAgIHJvdy50cmlnZ2VyKCAnZm9jdXM6cm93JyApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDYXJ0IEl0ZW1zXG4gICAqL1xuICBzaG93Q2FydDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHZpZXcgPSBuZXcgSXRlbXNWaWV3KHtcbiAgICAgIGNvbGxlY3Rpb246IHRoaXMub3JkZXIuY2FydFxuICAgIH0pO1xuICAgIHRoaXMubGF5b3V0Lmxpc3RSZWdpb24uc2hvdyh2aWV3KTtcbiAgfSxcblxuICAvKipcbiAgICogQ2FydCBUb3RhbHNcbiAgICovXG4gIHNob3dUb3RhbHM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2aWV3ID0gbmV3IFRvdGFsc1ZpZXcoe1xuICAgICAgbW9kZWw6IHRoaXMub3JkZXJcbiAgICB9KTtcbiAgICB0aGlzLm9uKCdkaXNjb3VudDpjbGlja2VkJywgdmlldy5zaG93RGlzY291bnRSb3cpO1xuICAgIHRoaXMubGF5b3V0LnRvdGFsc1JlZ2lvbi5zaG93KHZpZXcpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDdXN0b21lciBTZWxlY3RcbiAgICovXG4gIHNob3dDdXN0b21lcjogZnVuY3Rpb24oKXtcbiAgICB2YXIgdmlldyA9IG5ldyBDdXN0b21lclNlbGVjdCgpO1xuXG4gICAgdGhpcy5saXN0ZW5UbyggdmlldywgJ2N1c3RvbWVyOnNlbGVjdCcsIGZ1bmN0aW9uKCBpZCwgbmFtZSApIHtcbiAgICAgIHRoaXMub3JkZXIuc2F2ZSh7XG4gICAgICAgIGN1c3RvbWVyX2lkOiBpZCxcbiAgICAgICAgY3VzdG9tZXJfbmFtZTogbmFtZVxuICAgICAgfSk7XG4gICAgfSwgdGhpcyk7XG5cbiAgICAvLyBiaXQgb2YgYSBoYWNrXG4gICAgLy8gZ2V0IHRoZSBcIkN1c3RvbWVyOlwiIHRyYW5zbGF0aW9uIGFuZCBhZGQgaXQgdG8gdGhlIHZpZXdcbiAgICB0aGlzLmxheW91dC5jdXN0b21lclJlZ2lvbi5vbiggJ2JlZm9yZTpzaG93JywgZnVuY3Rpb24odmlldyl7XG4gICAgICB2YXIgbGFiZWwgPSB0aGlzLiRlbC5odG1sKCk7XG4gICAgICB2aWV3LiRlbC5wcmVwZW5kKCBsYWJlbCApO1xuICAgIH0pO1xuXG4gICAgdGhpcy5sYXlvdXQuY3VzdG9tZXJSZWdpb24uc2hvdyggdmlldyApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUT0RPOiBhYnN0cmFjdCBhcyBhIGNvbGxlY3Rpb24gb2YgYnV0dG9uIG1vZGVscz9cbiAgICovXG4gIHNob3dBY3Rpb25zOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdmlldyA9IG5ldyBBY3Rpb25zVmlldygpLFxuICAgICAgICBzZWxmID0gdGhpcztcblxuICAgIHZhciBhY3Rpb25zID0ge1xuICAgICAgJ3ZvaWQnOiBmdW5jdGlvbigpe1xuICAgICAgICBzZWxmLm9yZGVyLnZvaWRPcmRlcigpO1xuICAgICAgfSxcbiAgICAgIG5vdGU6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHNlbGYubGF5b3V0Lm5vdGVzUmVnaW9uLmN1cnJlbnRWaWV3LnNob3dOb3RlRmllbGQoKTtcbiAgICAgIH0sXG4gICAgICBkaXNjb3VudDogZnVuY3Rpb24oKXtcbiAgICAgICAgc2VsZi5sYXlvdXQudG90YWxzUmVnaW9uLmN1cnJlbnRWaWV3LnNob3dEaXNjb3VudFJvdygpO1xuICAgICAgfSxcbiAgICAgIGZlZTogZnVuY3Rpb24oYXJncyl7XG4gICAgICAgIHNlbGYuYWRkVG9DYXJ0KHsgdGl0bGU6IGFyZ3MudGl0bGUsIHR5cGU6ICdmZWUnIH0pO1xuICAgICAgfSxcbiAgICAgIHNoaXBwaW5nOiBmdW5jdGlvbihhcmdzKXtcbiAgICAgICAgc2VsZi5hZGRUb0NhcnQoeyB0aXRsZTogYXJncy50aXRsZSwgdHlwZTogJ3NoaXBwaW5nJyB9KTtcbiAgICAgIH0sXG4gICAgICBjaGVja291dDogZnVuY3Rpb24oKXtcbiAgICAgICAgLy9wb3NDaGFubmVsLmNvbW1hbmQoJ3Nob3c6Y2hlY2tvdXQnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5saXN0ZW5UbyggdmlldywgJ2J1dHRvbjpjbGlja2VkJywgZnVuY3Rpb24oYXJncykge1xuICAgICAgdmFyIGFjdGlvbiA9IGFyZ3MuYWN0aW9uO1xuICAgICAgaWYoYWN0aW9ucy5oYXNPd25Qcm9wZXJ0eShhY3Rpb24pKXtcbiAgICAgICAgYWN0aW9uc1thY3Rpb25dKGFyZ3MpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5sYXlvdXQuYWN0aW9uc1JlZ2lvbi5zaG93KCB2aWV3ICk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIE9yZGVyIE5vdGVzXG4gICAqL1xuICBzaG93Tm90ZXM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2aWV3ID0gbmV3IE5vdGVzVmlldyh7XG4gICAgICBtb2RlbDogdGhpcy5vcmRlclxuICAgIH0pO1xuICAgIHRoaXMub24oICdub3RlOmNsaWNrZWQnLCB2aWV3LnNob3dOb3RlRmllbGQgKTtcbiAgICB0aGlzLmxheW91dC5ub3Rlc1JlZ2lvbi5zaG93KCB2aWV3ICk7XG4gIH1cblxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FydFJvdXRlO1xuUE9TLmF0dGFjaCgnUE9TQXBwLkNhcnQuUm91dGUnLCBDYXJ0Um91dGUpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FwcHMvcG9zL2NhcnQvcm91dGUuanNcbiAqKiBtb2R1bGUgaWQgPSA0OFxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNDguanMifQ==");

/***/ },
/* 49 */
/*!**************************************!*\
  !*** ./~/apps/support/form/route.js ***!
  \**************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Route = __webpack_require__(/*! lib/config/route */ 55);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\nvar FormView = __webpack_require__(/*! ./view */ 68);\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar enititesChannel = bb.Radio.channel('entities');\n\nvar FormRoute = Route.extend({\n\n  initialize: function(options){\n    this.container = options.container;\n  },\n\n  fetch: function(){\n\n  },\n\n  render: function(){\n    var view = new FormView();\n\n    var ajaxurl = enititesChannel.request('get', {\n      type: 'option',\n      name: 'ajaxurl'\n    });\n\n    this.listenTo( view, 'send:email', function( data ){\n      $.post( ajaxurl, {\n        action: 'wc_pos_send_support_email',\n        payload: data\n      });\n    });\n\n    this.container.show( view );\n  }\n\n});\n\nmodule.exports = FormRoute;\nPOS.attach('SupportApp.Form.Route', FormRoute);\n//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvc3VwcG9ydC9mb3JtL3JvdXRlLmpzPzYyMDEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7O0FBRUw7QUFDQTs7QUFFQSxDQUFDOztBQUVEO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUm91dGUgPSByZXF1aXJlKCdsaWIvY29uZmlnL3JvdXRlJyk7XG52YXIgUE9TID0gcmVxdWlyZSgnbGliL3V0aWxpdGllcy9nbG9iYWwnKTtcbnZhciBGb3JtVmlldyA9IHJlcXVpcmUoJy4vdmlldycpO1xudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcbnZhciBiYiA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG52YXIgZW5pdGl0ZXNDaGFubmVsID0gYmIuUmFkaW8uY2hhbm5lbCgnZW50aXRpZXMnKTtcblxudmFyIEZvcm1Sb3V0ZSA9IFJvdXRlLmV4dGVuZCh7XG5cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucyl7XG4gICAgdGhpcy5jb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lcjtcbiAgfSxcblxuICBmZXRjaDogZnVuY3Rpb24oKXtcblxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKXtcbiAgICB2YXIgdmlldyA9IG5ldyBGb3JtVmlldygpO1xuXG4gICAgdmFyIGFqYXh1cmwgPSBlbml0aXRlc0NoYW5uZWwucmVxdWVzdCgnZ2V0Jywge1xuICAgICAgdHlwZTogJ29wdGlvbicsXG4gICAgICBuYW1lOiAnYWpheHVybCdcbiAgICB9KTtcblxuICAgIHRoaXMubGlzdGVuVG8oIHZpZXcsICdzZW5kOmVtYWlsJywgZnVuY3Rpb24oIGRhdGEgKXtcbiAgICAgICQucG9zdCggYWpheHVybCwge1xuICAgICAgICBhY3Rpb246ICd3Y19wb3Nfc2VuZF9zdXBwb3J0X2VtYWlsJyxcbiAgICAgICAgcGF5bG9hZDogZGF0YVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmNvbnRhaW5lci5zaG93KCB2aWV3ICk7XG4gIH1cblxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gRm9ybVJvdXRlO1xuUE9TLmF0dGFjaCgnU3VwcG9ydEFwcC5Gb3JtLlJvdXRlJywgRm9ybVJvdXRlKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FwcHMvc3VwcG9ydC9mb3JtL3JvdXRlLmpzXG4gKiogbW9kdWxlIGlkID0gNDlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjQ5LmpzIn0=");

/***/ },
/* 50 */
/*!****************************************!*\
  !*** ./~/apps/support/status/route.js ***!
  \****************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Route = __webpack_require__(/*! lib/config/route */ 55);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\nvar StatusView = __webpack_require__(/*! ./view */ 69);\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar enititesChannel = bb.Radio.channel('entities');\n\nvar StatusRoute = Route.extend({\n\n  initialize: function(options){\n    this.container = options.container;\n  },\n\n  fetch: function(){\n    var ajaxurl = enititesChannel.request('get', {\n      type: 'option',\n      name: 'ajaxurl'\n    });\n    this.results = $.get( ajaxurl, {\n      action: 'wc_pos_system_status'\n    });\n    return this.results;\n  },\n\n  render: function(){\n    var view = new StatusView(this.results);\n    this.container.show(view);\n  }\n\n});\n\nmodule.exports = StatusRoute;\nPOS.attach('SupportApp.Form.Status', StatusRoute);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvc3VwcG9ydC9zdGF0dXMvcm91dGUuanM/ZjI4YiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRDtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJvdXRlID0gcmVxdWlyZSgnbGliL2NvbmZpZy9yb3V0ZScpO1xudmFyIFBPUyA9IHJlcXVpcmUoJ2xpYi91dGlsaXRpZXMvZ2xvYmFsJyk7XG52YXIgU3RhdHVzVmlldyA9IHJlcXVpcmUoJy4vdmlldycpO1xudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcbnZhciBiYiA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG52YXIgZW5pdGl0ZXNDaGFubmVsID0gYmIuUmFkaW8uY2hhbm5lbCgnZW50aXRpZXMnKTtcblxudmFyIFN0YXR1c1JvdXRlID0gUm91dGUuZXh0ZW5kKHtcblxuICBpbml0aWFsaXplOiBmdW5jdGlvbihvcHRpb25zKXtcbiAgICB0aGlzLmNvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyO1xuICB9LFxuXG4gIGZldGNoOiBmdW5jdGlvbigpe1xuICAgIHZhciBhamF4dXJsID0gZW5pdGl0ZXNDaGFubmVsLnJlcXVlc3QoJ2dldCcsIHtcbiAgICAgIHR5cGU6ICdvcHRpb24nLFxuICAgICAgbmFtZTogJ2FqYXh1cmwnXG4gICAgfSk7XG4gICAgdGhpcy5yZXN1bHRzID0gJC5nZXQoIGFqYXh1cmwsIHtcbiAgICAgIGFjdGlvbjogJ3djX3Bvc19zeXN0ZW1fc3RhdHVzJ1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLnJlc3VsdHM7XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpe1xuICAgIHZhciB2aWV3ID0gbmV3IFN0YXR1c1ZpZXcodGhpcy5yZXN1bHRzKTtcbiAgICB0aGlzLmNvbnRhaW5lci5zaG93KHZpZXcpO1xuICB9XG5cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN0YXR1c1JvdXRlO1xuUE9TLmF0dGFjaCgnU3VwcG9ydEFwcC5Gb3JtLlN0YXR1cycsIFN0YXR1c1JvdXRlKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hcHBzL3N1cHBvcnQvc3RhdHVzL3JvdXRlLmpzXG4gKiogbW9kdWxlIGlkID0gNTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjUwLmpzIn0=");

/***/ },
/* 51 */
/*!****************************!*\
  !*** ./~/debug/browser.js ***!
  \****************************/
/***/ function(module, exports, __webpack_require__) {

	eval("\n/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = __webpack_require__(/*! ./debug */ 77);\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Use chrome.storage.local if we are in an app\n */\n\nvar storage;\n\nif (typeof chrome !== 'undefined' && typeof chrome.storage !== 'undefined')\n  storage = chrome.storage.local;\nelse\n  storage = window.localStorage;\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  return ('WebkitAppearance' in document.documentElement.style) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (window.console && (console.firebug || (console.exception && console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  return JSON.stringify(v);\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs() {\n  var args = arguments;\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return args;\n\n  var c = 'color: ' + this.color;\n  args = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n  return args;\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      storage.removeItem('debug');\n    } else {\n      storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = storage.debug;\n  } catch(e) {}\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjazovLy8uL34vZGVidWcvYnJvd3Nlci5qcz9kNDlkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICpcbiAqIEV4cG9zZSBgZGVidWcoKWAgYXMgdGhlIG1vZHVsZS5cbiAqL1xuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2RlYnVnJyk7XG5leHBvcnRzLmxvZyA9IGxvZztcbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuXG4vKipcbiAqIFVzZSBjaHJvbWUuc3RvcmFnZS5sb2NhbCBpZiB3ZSBhcmUgaW4gYW4gYXBwXG4gKi9cblxudmFyIHN0b3JhZ2U7XG5cbmlmICh0eXBlb2YgY2hyb21lICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY2hyb21lLnN0b3JhZ2UgIT09ICd1bmRlZmluZWQnKVxuICBzdG9yYWdlID0gY2hyb21lLnN0b3JhZ2UubG9jYWw7XG5lbHNlXG4gIHN0b3JhZ2UgPSB3aW5kb3cubG9jYWxTdG9yYWdlO1xuXG4vKipcbiAqIENvbG9ycy5cbiAqL1xuXG5leHBvcnRzLmNvbG9ycyA9IFtcbiAgJ2xpZ2h0c2VhZ3JlZW4nLFxuICAnZm9yZXN0Z3JlZW4nLFxuICAnZ29sZGVucm9kJyxcbiAgJ2RvZGdlcmJsdWUnLFxuICAnZGFya29yY2hpZCcsXG4gICdjcmltc29uJ1xuXTtcblxuLyoqXG4gKiBDdXJyZW50bHkgb25seSBXZWJLaXQtYmFzZWQgV2ViIEluc3BlY3RvcnMsIEZpcmVmb3ggPj0gdjMxLFxuICogYW5kIHRoZSBGaXJlYnVnIGV4dGVuc2lvbiAoYW55IEZpcmVmb3ggdmVyc2lvbikgYXJlIGtub3duXG4gKiB0byBzdXBwb3J0IFwiJWNcIiBDU1MgY3VzdG9taXphdGlvbnMuXG4gKlxuICogVE9ETzogYWRkIGEgYGxvY2FsU3RvcmFnZWAgdmFyaWFibGUgdG8gZXhwbGljaXRseSBlbmFibGUvZGlzYWJsZSBjb2xvcnNcbiAqL1xuXG5mdW5jdGlvbiB1c2VDb2xvcnMoKSB7XG4gIC8vIGlzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG4gIHJldHVybiAoJ1dlYmtpdEFwcGVhcmFuY2UnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSkgfHxcbiAgICAvLyBpcyBmaXJlYnVnPyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zOTgxMjAvMzc2NzczXG4gICAgKHdpbmRvdy5jb25zb2xlICYmIChjb25zb2xlLmZpcmVidWcgfHwgKGNvbnNvbGUuZXhjZXB0aW9uICYmIGNvbnNvbGUudGFibGUpKSkgfHxcbiAgICAvLyBpcyBmaXJlZm94ID49IHYzMT9cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1Rvb2xzL1dlYl9Db25zb2xlI1N0eWxpbmdfbWVzc2FnZXNcbiAgICAobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykgJiYgcGFyc2VJbnQoUmVnRXhwLiQxLCAxMCkgPj0gMzEpO1xufVxuXG4vKipcbiAqIE1hcCAlaiB0byBgSlNPTi5zdHJpbmdpZnkoKWAsIHNpbmNlIG5vIFdlYiBJbnNwZWN0b3JzIGRvIHRoYXQgYnkgZGVmYXVsdC5cbiAqL1xuXG5leHBvcnRzLmZvcm1hdHRlcnMuaiA9IGZ1bmN0aW9uKHYpIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHYpO1xufTtcblxuXG4vKipcbiAqIENvbG9yaXplIGxvZyBhcmd1bWVudHMgaWYgZW5hYmxlZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGZvcm1hdEFyZ3MoKSB7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICB2YXIgdXNlQ29sb3JzID0gdGhpcy51c2VDb2xvcnM7XG5cbiAgYXJnc1swXSA9ICh1c2VDb2xvcnMgPyAnJWMnIDogJycpXG4gICAgKyB0aGlzLm5hbWVzcGFjZVxuICAgICsgKHVzZUNvbG9ycyA/ICcgJWMnIDogJyAnKVxuICAgICsgYXJnc1swXVxuICAgICsgKHVzZUNvbG9ycyA/ICclYyAnIDogJyAnKVxuICAgICsgJysnICsgZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpO1xuXG4gIGlmICghdXNlQ29sb3JzKSByZXR1cm4gYXJncztcblxuICB2YXIgYyA9ICdjb2xvcjogJyArIHRoaXMuY29sb3I7XG4gIGFyZ3MgPSBbYXJnc1swXSwgYywgJ2NvbG9yOiBpbmhlcml0J10uY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MsIDEpKTtcblxuICAvLyB0aGUgZmluYWwgXCIlY1wiIGlzIHNvbWV3aGF0IHRyaWNreSwgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBvdGhlclxuICAvLyBhcmd1bWVudHMgcGFzc2VkIGVpdGhlciBiZWZvcmUgb3IgYWZ0ZXIgdGhlICVjLCBzbyB3ZSBuZWVkIHRvXG4gIC8vIGZpZ3VyZSBvdXQgdGhlIGNvcnJlY3QgaW5kZXggdG8gaW5zZXJ0IHRoZSBDU1MgaW50b1xuICB2YXIgaW5kZXggPSAwO1xuICB2YXIgbGFzdEMgPSAwO1xuICBhcmdzWzBdLnJlcGxhY2UoLyVbYS16JV0vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICBpZiAoJyUlJyA9PT0gbWF0Y2gpIHJldHVybjtcbiAgICBpbmRleCsrO1xuICAgIGlmICgnJWMnID09PSBtYXRjaCkge1xuICAgICAgLy8gd2Ugb25seSBhcmUgaW50ZXJlc3RlZCBpbiB0aGUgKmxhc3QqICVjXG4gICAgICAvLyAodGhlIHVzZXIgbWF5IGhhdmUgcHJvdmlkZWQgdGhlaXIgb3duKVxuICAgICAgbGFzdEMgPSBpbmRleDtcbiAgICB9XG4gIH0pO1xuXG4gIGFyZ3Muc3BsaWNlKGxhc3RDLCAwLCBjKTtcbiAgcmV0dXJuIGFyZ3M7XG59XG5cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5sb2coKWAgd2hlbiBhdmFpbGFibGUuXG4gKiBOby1vcCB3aGVuIGBjb25zb2xlLmxvZ2AgaXMgbm90IGEgXCJmdW5jdGlvblwiLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gbG9nKCkge1xuICAvLyB0aGlzIGhhY2tlcnkgaXMgcmVxdWlyZWQgZm9yIElFOC85LCB3aGVyZVxuICAvLyB0aGUgYGNvbnNvbGUubG9nYCBmdW5jdGlvbiBkb2Vzbid0IGhhdmUgJ2FwcGx5J1xuICByZXR1cm4gJ29iamVjdCcgPT09IHR5cGVvZiBjb25zb2xlXG4gICAgJiYgY29uc29sZS5sb2dcbiAgICAmJiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjb25zb2xlLmxvZywgY29uc29sZSwgYXJndW1lbnRzKTtcbn1cblxuLyoqXG4gKiBTYXZlIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG4gIHRyeSB7XG4gICAgaWYgKG51bGwgPT0gbmFtZXNwYWNlcykge1xuICAgICAgc3RvcmFnZS5yZW1vdmVJdGVtKCdkZWJ1ZycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdG9yYWdlLmRlYnVnID0gbmFtZXNwYWNlcztcbiAgICB9XG4gIH0gY2F0Y2goZSkge31cbn1cblxuLyoqXG4gKiBMb2FkIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHJldHVybnMgdGhlIHByZXZpb3VzbHkgcGVyc2lzdGVkIGRlYnVnIG1vZGVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBsb2FkKCkge1xuICB2YXIgcjtcbiAgdHJ5IHtcbiAgICByID0gc3RvcmFnZS5kZWJ1ZztcbiAgfSBjYXRjaChlKSB7fVxuICByZXR1cm4gcjtcbn1cblxuLyoqXG4gKiBFbmFibGUgbmFtZXNwYWNlcyBsaXN0ZWQgaW4gYGxvY2FsU3RvcmFnZS5kZWJ1Z2AgaW5pdGlhbGx5LlxuICovXG5cbmV4cG9ydHMuZW5hYmxlKGxvYWQoKSk7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9kZWJ1Zy9icm93c2VyLmpzXG4gKiogbW9kdWxlIGlkID0gNTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyXG4gKiovXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjazovLy8uL34vZGVidWcvYnJvd3Nlci5qcz9jYzI0XG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNTEuanMifQ==");

/***/ },
/* 52 */
/*!*************************************!*\
  !*** ./~/lib/config/layout-view.js ***!
  \*************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\n\nmodule.exports = POS.LayoutView = bb.Marionette.LayoutView.extend({\n\n  working: function( action ) {\n    if (action === 'start') {\n      this.$el.addClass('working');\n    } else {\n      this.$el.removeClass('working');\n    }\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjazovLy8uL34vbGliL2NvbmZpZy9sYXlvdXQtdmlldy5qcz9lZmYwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGJiID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBQT1MgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL2dsb2JhbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBPUy5MYXlvdXRWaWV3ID0gYmIuTWFyaW9uZXR0ZS5MYXlvdXRWaWV3LmV4dGVuZCh7XG5cbiAgd29ya2luZzogZnVuY3Rpb24oIGFjdGlvbiApIHtcbiAgICBpZiAoYWN0aW9uID09PSAnc3RhcnQnKSB7XG4gICAgICB0aGlzLiRlbC5hZGRDbGFzcygnd29ya2luZycpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLiRlbC5yZW1vdmVDbGFzcygnd29ya2luZycpO1xuICAgIH1cbiAgfVxuXG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9saWIvY29uZmlnL2xheW91dC12aWV3LmpzXG4gKiogbW9kdWxlIGlkID0gNTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyXG4gKiovXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjazovLy8uL34vbGliL2NvbmZpZy9sYXlvdXQtdmlldy5qcz9hNzM2XG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNTIuanMifQ==");

/***/ },
/* 53 */
/*!***********************************!*\
  !*** ./~/lib/config/item-view.js ***!
  \***********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\n\nmodule.exports = POS.ItemView = bb.Marionette.ItemView;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvaXRlbS12aWV3LmpzPzY3YWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQSIsInNvdXJjZXNDb250ZW50IjpbInZhciBiYiA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG52YXIgUE9TID0gcmVxdWlyZSgnbGliL3V0aWxpdGllcy9nbG9iYWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBQT1MuSXRlbVZpZXcgPSBiYi5NYXJpb25ldHRlLkl0ZW1WaWV3O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xpYi9jb25maWcvaXRlbS12aWV3LmpzXG4gKiogbW9kdWxlIGlkID0gNTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjUzLmpzIn0=");

/***/ },
/* 54 */
/*!***********************************!*\
  !*** ./~/lib/utilities/parser.js ***!
  \***********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * TODO: this file is bit of a mess\n * a cleaner solution may be to combine with\n * FilteredCollection and create one class\n */\n\n/* jshint -W109, -W083, -W071, -W074 */\n\nvar _ = __webpack_require__(/*! lodash */ 1);\n\n/**\n * Search Parser\n * Used to extract keywords and facets from the search query.\n * based on https://github.com/documentcloud/visualsearch/\n */\n\nvar QUOTES_RE   = \"('[^']+'|\\\"[^\\\"]+\\\")\";\nvar FREETEXT_RE = \"('[^']+'|\\\"[^\\\"]+\\\"|[^'\\\"\\\\s]\\\\S*)\";\nvar CATEGORY_RE = FREETEXT_RE +                     ':\\\\s*';\nvar FREETEXT_CAT = '';\n\nmodule.exports = {\n  ALL_FIELDS : new RegExp(CATEGORY_RE + FREETEXT_RE, 'g'),\n  CATEGORY   : new RegExp(CATEGORY_RE),\n\n  parse : function(query) {\n    var searchFacets = this._extractAllFacets(query);\n    return searchFacets;\n  },\n\n  // Walks the query and extracts facets, categories, and free text.\n  _extractAllFacets : function(query) {\n    var facets = {};\n    var originalQuery = query;\n    while (query) {\n      var key, value;\n      originalQuery = query;\n      var field = this._extractNextField(query);\n      if (!field) {\n        key   = FREETEXT_CAT;\n        value = this._extractSearchText(query);\n        query = query.replace(value, '').trim();\n      } else if (field.indexOf(':') !== -1) {\n        key   = field.match(this.CATEGORY)[1].replace(/(^['\"]|['\"]$)/g, '');\n        value = field.replace(this.CATEGORY, '').replace(/(^['\"]|['\"]$)/g, '');\n        query = query.replace(field, '').trim();\n      } else if (field.indexOf(':') === -1) {\n        key   = FREETEXT_CAT;\n        value = field;\n        query = query.replace(value, '').trim();\n      }\n\n      if ( value ) {\n        _( value.split('|') ).each(function( value ){\n          var val = value.trim().toLowerCase();\n          if( val ) {\n            if( facets[key] ) {\n              facets[key].push(val);\n            } else {\n              facets[key] = [val];\n            }\n          }\n        });\n      }\n      if (originalQuery === query) {\n        break;\n      }\n    }\n    return facets;\n  },\n\n  // Extracts the first field found, capturing any free text that comes\n  // before the category.\n  _extractNextField : function(query) {\n    var textRe = new RegExp('^\\\\s*(\\\\S+)\\\\s+(?=' +\n    QUOTES_RE + FREETEXT_RE +\n    ')');\n    var textMatch = query.match(textRe);\n    if (textMatch && textMatch.length >= 1) {\n      return textMatch[1];\n    } else {\n      return this._extractFirstField(query);\n    }\n  },\n\n  // If there is no free text before the facet,\n  // extract the category and value.\n  _extractFirstField : function(query) {\n    var fields = query.match(this.ALL_FIELDS);\n    return fields && fields.length && fields[0];\n  },\n\n  // If the found match is not a category and facet,\n  // extract the trimmed free text.\n  _extractSearchText : function(query) {\n    query = query || '';\n    var text = query.replace(this.ALL_FIELDS, '').trim();\n    return text;\n  }\n\n};//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi91dGlsaXRpZXMvcGFyc2VyLmpzPzQ1OGYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVE9ETzogdGhpcyBmaWxlIGlzIGJpdCBvZiBhIG1lc3NcbiAqIGEgY2xlYW5lciBzb2x1dGlvbiBtYXkgYmUgdG8gY29tYmluZSB3aXRoXG4gKiBGaWx0ZXJlZENvbGxlY3Rpb24gYW5kIGNyZWF0ZSBvbmUgY2xhc3NcbiAqL1xuXG4vKiBqc2hpbnQgLVcxMDksIC1XMDgzLCAtVzA3MSwgLVcwNzQgKi9cblxudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxuLyoqXG4gKiBTZWFyY2ggUGFyc2VyXG4gKiBVc2VkIHRvIGV4dHJhY3Qga2V5d29yZHMgYW5kIGZhY2V0cyBmcm9tIHRoZSBzZWFyY2ggcXVlcnkuXG4gKiBiYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vZG9jdW1lbnRjbG91ZC92aXN1YWxzZWFyY2gvXG4gKi9cblxudmFyIFFVT1RFU19SRSAgID0gXCIoJ1teJ10rJ3xcXFwiW15cXFwiXStcXFwiKVwiO1xudmFyIEZSRUVURVhUX1JFID0gXCIoJ1teJ10rJ3xcXFwiW15cXFwiXStcXFwifFteJ1xcXCJcXFxcc11cXFxcUyopXCI7XG52YXIgQ0FURUdPUllfUkUgPSBGUkVFVEVYVF9SRSArICAgICAgICAgICAgICAgICAgICAgJzpcXFxccyonO1xudmFyIEZSRUVURVhUX0NBVCA9ICcnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgQUxMX0ZJRUxEUyA6IG5ldyBSZWdFeHAoQ0FURUdPUllfUkUgKyBGUkVFVEVYVF9SRSwgJ2cnKSxcbiAgQ0FURUdPUlkgICA6IG5ldyBSZWdFeHAoQ0FURUdPUllfUkUpLFxuXG4gIHBhcnNlIDogZnVuY3Rpb24ocXVlcnkpIHtcbiAgICB2YXIgc2VhcmNoRmFjZXRzID0gdGhpcy5fZXh0cmFjdEFsbEZhY2V0cyhxdWVyeSk7XG4gICAgcmV0dXJuIHNlYXJjaEZhY2V0cztcbiAgfSxcblxuICAvLyBXYWxrcyB0aGUgcXVlcnkgYW5kIGV4dHJhY3RzIGZhY2V0cywgY2F0ZWdvcmllcywgYW5kIGZyZWUgdGV4dC5cbiAgX2V4dHJhY3RBbGxGYWNldHMgOiBmdW5jdGlvbihxdWVyeSkge1xuICAgIHZhciBmYWNldHMgPSB7fTtcbiAgICB2YXIgb3JpZ2luYWxRdWVyeSA9IHF1ZXJ5O1xuICAgIHdoaWxlIChxdWVyeSkge1xuICAgICAgdmFyIGtleSwgdmFsdWU7XG4gICAgICBvcmlnaW5hbFF1ZXJ5ID0gcXVlcnk7XG4gICAgICB2YXIgZmllbGQgPSB0aGlzLl9leHRyYWN0TmV4dEZpZWxkKHF1ZXJ5KTtcbiAgICAgIGlmICghZmllbGQpIHtcbiAgICAgICAga2V5ICAgPSBGUkVFVEVYVF9DQVQ7XG4gICAgICAgIHZhbHVlID0gdGhpcy5fZXh0cmFjdFNlYXJjaFRleHQocXVlcnkpO1xuICAgICAgICBxdWVyeSA9IHF1ZXJ5LnJlcGxhY2UodmFsdWUsICcnKS50cmltKCk7XG4gICAgICB9IGVsc2UgaWYgKGZpZWxkLmluZGV4T2YoJzonKSAhPT0gLTEpIHtcbiAgICAgICAga2V5ICAgPSBmaWVsZC5tYXRjaCh0aGlzLkNBVEVHT1JZKVsxXS5yZXBsYWNlKC8oXlsnXCJdfFsnXCJdJCkvZywgJycpO1xuICAgICAgICB2YWx1ZSA9IGZpZWxkLnJlcGxhY2UodGhpcy5DQVRFR09SWSwgJycpLnJlcGxhY2UoLyheWydcIl18WydcIl0kKS9nLCAnJyk7XG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkucmVwbGFjZShmaWVsZCwgJycpLnRyaW0oKTtcbiAgICAgIH0gZWxzZSBpZiAoZmllbGQuaW5kZXhPZignOicpID09PSAtMSkge1xuICAgICAgICBrZXkgICA9IEZSRUVURVhUX0NBVDtcbiAgICAgICAgdmFsdWUgPSBmaWVsZDtcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5yZXBsYWNlKHZhbHVlLCAnJykudHJpbSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIHZhbHVlICkge1xuICAgICAgICBfKCB2YWx1ZS5zcGxpdCgnfCcpICkuZWFjaChmdW5jdGlvbiggdmFsdWUgKXtcbiAgICAgICAgICB2YXIgdmFsID0gdmFsdWUudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgaWYoIHZhbCApIHtcbiAgICAgICAgICAgIGlmKCBmYWNldHNba2V5XSApIHtcbiAgICAgICAgICAgICAgZmFjZXRzW2tleV0ucHVzaCh2YWwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZmFjZXRzW2tleV0gPSBbdmFsXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKG9yaWdpbmFsUXVlcnkgPT09IHF1ZXJ5KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFjZXRzO1xuICB9LFxuXG4gIC8vIEV4dHJhY3RzIHRoZSBmaXJzdCBmaWVsZCBmb3VuZCwgY2FwdHVyaW5nIGFueSBmcmVlIHRleHQgdGhhdCBjb21lc1xuICAvLyBiZWZvcmUgdGhlIGNhdGVnb3J5LlxuICBfZXh0cmFjdE5leHRGaWVsZCA6IGZ1bmN0aW9uKHF1ZXJ5KSB7XG4gICAgdmFyIHRleHRSZSA9IG5ldyBSZWdFeHAoJ15cXFxccyooXFxcXFMrKVxcXFxzKyg/PScgK1xuICAgIFFVT1RFU19SRSArIEZSRUVURVhUX1JFICtcbiAgICAnKScpO1xuICAgIHZhciB0ZXh0TWF0Y2ggPSBxdWVyeS5tYXRjaCh0ZXh0UmUpO1xuICAgIGlmICh0ZXh0TWF0Y2ggJiYgdGV4dE1hdGNoLmxlbmd0aCA+PSAxKSB7XG4gICAgICByZXR1cm4gdGV4dE1hdGNoWzFdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fZXh0cmFjdEZpcnN0RmllbGQocXVlcnkpO1xuICAgIH1cbiAgfSxcblxuICAvLyBJZiB0aGVyZSBpcyBubyBmcmVlIHRleHQgYmVmb3JlIHRoZSBmYWNldCxcbiAgLy8gZXh0cmFjdCB0aGUgY2F0ZWdvcnkgYW5kIHZhbHVlLlxuICBfZXh0cmFjdEZpcnN0RmllbGQgOiBmdW5jdGlvbihxdWVyeSkge1xuICAgIHZhciBmaWVsZHMgPSBxdWVyeS5tYXRjaCh0aGlzLkFMTF9GSUVMRFMpO1xuICAgIHJldHVybiBmaWVsZHMgJiYgZmllbGRzLmxlbmd0aCAmJiBmaWVsZHNbMF07XG4gIH0sXG5cbiAgLy8gSWYgdGhlIGZvdW5kIG1hdGNoIGlzIG5vdCBhIGNhdGVnb3J5IGFuZCBmYWNldCxcbiAgLy8gZXh0cmFjdCB0aGUgdHJpbW1lZCBmcmVlIHRleHQuXG4gIF9leHRyYWN0U2VhcmNoVGV4dCA6IGZ1bmN0aW9uKHF1ZXJ5KSB7XG4gICAgcXVlcnkgPSBxdWVyeSB8fCAnJztcbiAgICB2YXIgdGV4dCA9IHF1ZXJ5LnJlcGxhY2UodGhpcy5BTExfRklFTERTLCAnJykudHJpbSgpO1xuICAgIHJldHVybiB0ZXh0O1xuICB9XG5cbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbGliL3V0aWxpdGllcy9wYXJzZXIuanNcbiAqKiBtb2R1bGUgaWQgPSA1NFxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNTQuanMifQ==");

/***/ },
/* 55 */
/*!*******************************!*\
  !*** ./~/lib/config/route.js ***!
  \*******************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\n\nmodule.exports = POS.Route = bb.Marionette.Object.extend({\n  constructor: function() {\n    this.initialize.apply(this, arguments);\n  },\n\n  _triggerMethod: function(name, args) {\n    if (this.router) {\n      this.router.triggerMethod.apply(\n        this.router,\n        [name + ':route'].concat(args)\n      );\n    }\n    this.triggerMethod.apply(this, [name].concat(args));\n  },\n\n  enter: function(args) {\n    var self = this;\n    this._triggerMethod('before:enter', args);\n    this._triggerMethod('before:fetch', args);\n\n    return $.when(this.fetch.apply(this, args)).then(function() {\n      self._triggerMethod('fetch', args);\n      self._triggerMethod('before:render', args);\n    }).then(function() {\n      return self.render.apply(self, args);\n    }).then(function() {\n      self._triggerMethod('render', args);\n      self._triggerMethod('enter', args);\n    }).fail(function() {\n      self._triggerMethod('error', args);\n    });\n  },\n\n  navigate: function() {\n    bb.history.navigate.apply(bb.history, arguments);\n  },\n\n  fetch  : function() {},\n  render : function() {}\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvcm91dGUuanM/NmQxMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVILHdCQUF3QjtBQUN4QjtBQUNBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYmIgPSByZXF1aXJlKCdiYWNrYm9uZScpO1xudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcbnZhciBQT1MgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL2dsb2JhbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBPUy5Sb3V0ZSA9IGJiLk1hcmlvbmV0dGUuT2JqZWN0LmV4dGVuZCh7XG4gIGNvbnN0cnVjdG9yOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfSxcblxuICBfdHJpZ2dlck1ldGhvZDogZnVuY3Rpb24obmFtZSwgYXJncykge1xuICAgIGlmICh0aGlzLnJvdXRlcikge1xuICAgICAgdGhpcy5yb3V0ZXIudHJpZ2dlck1ldGhvZC5hcHBseShcbiAgICAgICAgdGhpcy5yb3V0ZXIsXG4gICAgICAgIFtuYW1lICsgJzpyb3V0ZSddLmNvbmNhdChhcmdzKVxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy50cmlnZ2VyTWV0aG9kLmFwcGx5KHRoaXMsIFtuYW1lXS5jb25jYXQoYXJncykpO1xuICB9LFxuXG4gIGVudGVyOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuX3RyaWdnZXJNZXRob2QoJ2JlZm9yZTplbnRlcicsIGFyZ3MpO1xuICAgIHRoaXMuX3RyaWdnZXJNZXRob2QoJ2JlZm9yZTpmZXRjaCcsIGFyZ3MpO1xuXG4gICAgcmV0dXJuICQud2hlbih0aGlzLmZldGNoLmFwcGx5KHRoaXMsIGFyZ3MpKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5fdHJpZ2dlck1ldGhvZCgnZmV0Y2gnLCBhcmdzKTtcbiAgICAgIHNlbGYuX3RyaWdnZXJNZXRob2QoJ2JlZm9yZTpyZW5kZXInLCBhcmdzKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHNlbGYucmVuZGVyLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLl90cmlnZ2VyTWV0aG9kKCdyZW5kZXInLCBhcmdzKTtcbiAgICAgIHNlbGYuX3RyaWdnZXJNZXRob2QoJ2VudGVyJywgYXJncyk7XG4gICAgfSkuZmFpbChmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuX3RyaWdnZXJNZXRob2QoJ2Vycm9yJywgYXJncyk7XG4gICAgfSk7XG4gIH0sXG5cbiAgbmF2aWdhdGU6IGZ1bmN0aW9uKCkge1xuICAgIGJiLmhpc3RvcnkubmF2aWdhdGUuYXBwbHkoYmIuaGlzdG9yeSwgYXJndW1lbnRzKTtcbiAgfSxcblxuICBmZXRjaCAgOiBmdW5jdGlvbigpIHt9LFxuICByZW5kZXIgOiBmdW5jdGlvbigpIHt9XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9saWIvY29uZmlnL3JvdXRlLmpzXG4gKiogbW9kdWxlIGlkID0gNTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjU1LmpzIn0=");

/***/ },
/* 56 */
/*!*****************************************!*\
  !*** ./~/lib/config/dual-collection.js ***!
  \*****************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\nvar entitiesChannel = bb.Radio.channel('entities');\nvar debug = __webpack_require__(/*! debug */ 51)('dualCollection');\n\nmodule.exports = POS.DualCollection = bb.DualCollection.extend({\n  constructor: function() {\n    bb.DualCollection.apply(this, arguments);\n\n    this._isReady = $.Deferred();\n    this.once('idb:ready', function() {\n      this._isReady.resolve();\n    });\n\n    this._isNew = true;\n    this.once('sync', function() {\n      this._isNew = false;\n    });\n  },\n\n  url: function(){\n    var wc_api = entitiesChannel.request( 'get:options', 'wc_api' );\n    return wc_api + this.name;\n  },\n\n  isNew: function() {\n    return this._isNew;\n  },\n\n  fetch: function(options){\n    var self = this;\n    return $.when(this._isReady).then(function() {\n      debug('fetching: ' + self.name);\n      return bb.DualCollection.prototype.fetch.call(self, options);\n    });\n  },\n\n  state: {\n    pageSize: 10\n  },\n\n  parseState: function (resp, queryParams, state, options) {\n    // totals are always in the WC API headers\n    var totalRecords = options.xhr.getResponseHeader('X-WC-Total');\n    var totalPages = options.xhr.getResponseHeader('X-WC-Total');\n\n    // return as decimal\n    return {\n      totalRecords: parseInt(totalRecords, 10),\n      totalPages: parseInt(totalPages, 10)\n    };\n  },\n\n  parse: function (resp) {\n    return resp[this.name] ? resp[this.name] : resp ;\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvZHVhbC1jb2xsZWN0aW9uLmpzPzlmZTYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBiYiA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xudmFyIFBPUyA9IHJlcXVpcmUoJ2xpYi91dGlsaXRpZXMvZ2xvYmFsJyk7XG52YXIgZW50aXRpZXNDaGFubmVsID0gYmIuUmFkaW8uY2hhbm5lbCgnZW50aXRpZXMnKTtcbnZhciBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ2R1YWxDb2xsZWN0aW9uJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUE9TLkR1YWxDb2xsZWN0aW9uID0gYmIuRHVhbENvbGxlY3Rpb24uZXh0ZW5kKHtcbiAgY29uc3RydWN0b3I6IGZ1bmN0aW9uKCkge1xuICAgIGJiLkR1YWxDb2xsZWN0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLl9pc1JlYWR5ID0gJC5EZWZlcnJlZCgpO1xuICAgIHRoaXMub25jZSgnaWRiOnJlYWR5JywgZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9pc1JlYWR5LnJlc29sdmUoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2lzTmV3ID0gdHJ1ZTtcbiAgICB0aGlzLm9uY2UoJ3N5bmMnLCBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX2lzTmV3ID0gZmFsc2U7XG4gICAgfSk7XG4gIH0sXG5cbiAgdXJsOiBmdW5jdGlvbigpe1xuICAgIHZhciB3Y19hcGkgPSBlbnRpdGllc0NoYW5uZWwucmVxdWVzdCggJ2dldDpvcHRpb25zJywgJ3djX2FwaScgKTtcbiAgICByZXR1cm4gd2NfYXBpICsgdGhpcy5uYW1lO1xuICB9LFxuXG4gIGlzTmV3OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5faXNOZXc7XG4gIH0sXG5cbiAgZmV0Y2g6IGZ1bmN0aW9uKG9wdGlvbnMpe1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gJC53aGVuKHRoaXMuX2lzUmVhZHkpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICBkZWJ1ZygnZmV0Y2hpbmc6ICcgKyBzZWxmLm5hbWUpO1xuICAgICAgcmV0dXJuIGJiLkR1YWxDb2xsZWN0aW9uLnByb3RvdHlwZS5mZXRjaC5jYWxsKHNlbGYsIG9wdGlvbnMpO1xuICAgIH0pO1xuICB9LFxuXG4gIHN0YXRlOiB7XG4gICAgcGFnZVNpemU6IDEwXG4gIH0sXG5cbiAgcGFyc2VTdGF0ZTogZnVuY3Rpb24gKHJlc3AsIHF1ZXJ5UGFyYW1zLCBzdGF0ZSwgb3B0aW9ucykge1xuICAgIC8vIHRvdGFscyBhcmUgYWx3YXlzIGluIHRoZSBXQyBBUEkgaGVhZGVyc1xuICAgIHZhciB0b3RhbFJlY29yZHMgPSBvcHRpb25zLnhoci5nZXRSZXNwb25zZUhlYWRlcignWC1XQy1Ub3RhbCcpO1xuICAgIHZhciB0b3RhbFBhZ2VzID0gb3B0aW9ucy54aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ1gtV0MtVG90YWwnKTtcblxuICAgIC8vIHJldHVybiBhcyBkZWNpbWFsXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvdGFsUmVjb3JkczogcGFyc2VJbnQodG90YWxSZWNvcmRzLCAxMCksXG4gICAgICB0b3RhbFBhZ2VzOiBwYXJzZUludCh0b3RhbFBhZ2VzLCAxMClcbiAgICB9O1xuICB9LFxuXG4gIHBhcnNlOiBmdW5jdGlvbiAocmVzcCkge1xuICAgIHJldHVybiByZXNwW3RoaXMubmFtZV0gPyByZXNwW3RoaXMubmFtZV0gOiByZXNwIDtcbiAgfVxuXG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9saWIvY29uZmlnL2R1YWwtY29sbGVjdGlvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDU2XG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI1Ni5qcyJ9");

/***/ },
/* 57 */
/*!**************************************!*\
  !*** ./~/entities/products/model.js ***!
  \**************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var DualModel = __webpack_require__(/*! lib/config/dual-model */ 79);\nvar _ = __webpack_require__(/*! lodash */ 1);\n\nmodule.exports = DualModel.extend({\n  name: 'product',\n\n  // this is an array of fields used by FilterCollection.matchmaker()\n  fields: ['title'],\n\n  parse: function (resp) {\n    if( resp.product ){\n      if( resp.product.type === 'variable' ) {\n        this.serverResponse(resp);\n      }\n      return resp.product;\n    } else {\n      return resp;\n    }\n  },\n\n  serverResponse: function(resp){\n    _.each( resp.product.variations, function( variation ){\n      variation.type      = 'variation';\n      variation.title     = resp.product.title;\n      variation.parent    = resp.product.id;\n      variation.categories= resp.product.categories;\n      resp.product.push( variation );\n    });\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VudGl0aWVzL3Byb2R1Y3RzL21vZGVsLmpzP2M5NjMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBEdWFsTW9kZWwgPSByZXF1aXJlKCdsaWIvY29uZmlnL2R1YWwtbW9kZWwnKTtcbnZhciBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gRHVhbE1vZGVsLmV4dGVuZCh7XG4gIG5hbWU6ICdwcm9kdWN0JyxcblxuICAvLyB0aGlzIGlzIGFuIGFycmF5IG9mIGZpZWxkcyB1c2VkIGJ5IEZpbHRlckNvbGxlY3Rpb24ubWF0Y2htYWtlcigpXG4gIGZpZWxkczogWyd0aXRsZSddLFxuXG4gIHBhcnNlOiBmdW5jdGlvbiAocmVzcCkge1xuICAgIGlmKCByZXNwLnByb2R1Y3QgKXtcbiAgICAgIGlmKCByZXNwLnByb2R1Y3QudHlwZSA9PT0gJ3ZhcmlhYmxlJyApIHtcbiAgICAgICAgdGhpcy5zZXJ2ZXJSZXNwb25zZShyZXNwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwLnByb2R1Y3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByZXNwO1xuICAgIH1cbiAgfSxcblxuICBzZXJ2ZXJSZXNwb25zZTogZnVuY3Rpb24ocmVzcCl7XG4gICAgXy5lYWNoKCByZXNwLnByb2R1Y3QudmFyaWF0aW9ucywgZnVuY3Rpb24oIHZhcmlhdGlvbiApe1xuICAgICAgdmFyaWF0aW9uLnR5cGUgICAgICA9ICd2YXJpYXRpb24nO1xuICAgICAgdmFyaWF0aW9uLnRpdGxlICAgICA9IHJlc3AucHJvZHVjdC50aXRsZTtcbiAgICAgIHZhcmlhdGlvbi5wYXJlbnQgICAgPSByZXNwLnByb2R1Y3QuaWQ7XG4gICAgICB2YXJpYXRpb24uY2F0ZWdvcmllcz0gcmVzcC5wcm9kdWN0LmNhdGVnb3JpZXM7XG4gICAgICByZXNwLnByb2R1Y3QucHVzaCggdmFyaWF0aW9uICk7XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2VudGl0aWVzL3Byb2R1Y3RzL21vZGVsLmpzXG4gKiogbW9kdWxlIGlkID0gNTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjU3LmpzIn0=");

/***/ },
/* 58 */
/*!************************************!*\
  !*** ./~/entities/orders/model.js ***!
  \************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var DualModel = __webpack_require__(/*! lib/config/dual-model */ 79);\nvar Cart = __webpack_require__(/*! entities/cart/collection */ 43);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar entitiesChannel = bb.Radio.channel('entities');\n\nmodule.exports = DualModel.extend({\n  name: 'order',\n  defaults: {\n    note: ''\n  },\n\n  initialize: function(){\n    if( !this.hasRemoteId() ){\n      this.attachCart();\n    }\n  },\n\n  /**\n   * Attach cart\n   */\n  attachCart: function(){\n    var cart = entitiesChannel.request('get', {\n      new     : true,\n      type    : 'collection',\n      name    : 'cart',\n      order_id: this.get('local_id')\n    });\n\n    cart.once('idb:ready', function() {\n      cart.fetchOrder();\n    });\n\n    this.listenTo(cart, 'update:totals', function(totals){\n      this.save(totals);\n    });\n\n    this.cart = cart;\n  },\n\n  voidOrder: function(){\n    _.invoke( this.cart.toArray(), 'destroy' );\n  },\n\n  /**\n   * Convenience method to sum attributes\n   */\n  sum: function(array){\n    var sum = 0;\n    for (var i = 0; i < array.length; i++) {\n      sum += this.get(array[i]);\n    }\n    return sum;\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VudGl0aWVzL29yZGVycy9tb2RlbC5qcz9kYzg3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixrQkFBa0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIER1YWxNb2RlbCA9IHJlcXVpcmUoJ2xpYi9jb25maWcvZHVhbC1tb2RlbCcpO1xudmFyIENhcnQgPSByZXF1aXJlKCdlbnRpdGllcy9jYXJ0L2NvbGxlY3Rpb24nKTtcbnZhciBiYiA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG52YXIgZW50aXRpZXNDaGFubmVsID0gYmIuUmFkaW8uY2hhbm5lbCgnZW50aXRpZXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBEdWFsTW9kZWwuZXh0ZW5kKHtcbiAgbmFtZTogJ29yZGVyJyxcbiAgZGVmYXVsdHM6IHtcbiAgICBub3RlOiAnJ1xuICB9LFxuXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKCl7XG4gICAgaWYoICF0aGlzLmhhc1JlbW90ZUlkKCkgKXtcbiAgICAgIHRoaXMuYXR0YWNoQ2FydCgpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQXR0YWNoIGNhcnRcbiAgICovXG4gIGF0dGFjaENhcnQ6IGZ1bmN0aW9uKCl7XG4gICAgdmFyIGNhcnQgPSBlbnRpdGllc0NoYW5uZWwucmVxdWVzdCgnZ2V0Jywge1xuICAgICAgbmV3ICAgICA6IHRydWUsXG4gICAgICB0eXBlICAgIDogJ2NvbGxlY3Rpb24nLFxuICAgICAgbmFtZSAgICA6ICdjYXJ0JyxcbiAgICAgIG9yZGVyX2lkOiB0aGlzLmdldCgnbG9jYWxfaWQnKVxuICAgIH0pO1xuXG4gICAgY2FydC5vbmNlKCdpZGI6cmVhZHknLCBmdW5jdGlvbigpIHtcbiAgICAgIGNhcnQuZmV0Y2hPcmRlcigpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5saXN0ZW5UbyhjYXJ0LCAndXBkYXRlOnRvdGFscycsIGZ1bmN0aW9uKHRvdGFscyl7XG4gICAgICB0aGlzLnNhdmUodG90YWxzKTtcbiAgICB9KTtcblxuICAgIHRoaXMuY2FydCA9IGNhcnQ7XG4gIH0sXG5cbiAgdm9pZE9yZGVyOiBmdW5jdGlvbigpe1xuICAgIF8uaW52b2tlKCB0aGlzLmNhcnQudG9BcnJheSgpLCAnZGVzdHJveScgKTtcbiAgfSxcblxuICAvKipcbiAgICogQ29udmVuaWVuY2UgbWV0aG9kIHRvIHN1bSBhdHRyaWJ1dGVzXG4gICAqL1xuICBzdW06IGZ1bmN0aW9uKGFycmF5KXtcbiAgICB2YXIgc3VtID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBzdW0gKz0gdGhpcy5nZXQoYXJyYXlbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gc3VtO1xuICB9XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9lbnRpdGllcy9vcmRlcnMvbW9kZWwuanNcbiAqKiBtb2R1bGUgaWQgPSA1OFxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNTguanMifQ==");

/***/ },
/* 59 */
/*!***********************************!*\
  !*** ./~/lib/config/indexeddb.js ***!
  \***********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\n\n//bb.IndexedDB.prototype.sayHello = function(){\n//  console.log('Hello');\n//}\n\nmodule.exports = POS.IndexedDB = bb.IndexedDB;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvaW5kZXhlZGRiLmpzPzhjMzgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYmIgPSByZXF1aXJlKCdiYWNrYm9uZScpO1xudmFyIFBPUyA9IHJlcXVpcmUoJ2xpYi91dGlsaXRpZXMvZ2xvYmFsJyk7XG5cbi8vYmIuSW5kZXhlZERCLnByb3RvdHlwZS5zYXlIZWxsbyA9IGZ1bmN0aW9uKCl7XG4vLyAgY29uc29sZS5sb2coJ0hlbGxvJyk7XG4vL31cblxubW9kdWxlLmV4cG9ydHMgPSBQT1MuSW5kZXhlZERCID0gYmIuSW5kZXhlZERCO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xpYi9jb25maWcvaW5kZXhlZGRiLmpzXG4gKiogbW9kdWxlIGlkID0gNTlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjU5LmpzIn0=");

/***/ },
/* 60 */
/*!************************************!*\
  !*** ./~/lib/config/collection.js ***!
  \************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\n\nmodule.exports = POS.Collection = bb.Collection.extend({\n  constructor: function() {\n    bb.Collection.apply(this, arguments);\n    this._isNew = true;\n    this.once('sync', function() {\n      this._isNew = false;\n    });\n  },\n\n  isNew: function() {\n    return this._isNew;\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvY29sbGVjdGlvbi5qcz82NGM5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBiYiA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG52YXIgUE9TID0gcmVxdWlyZSgnbGliL3V0aWxpdGllcy9nbG9iYWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBQT1MuQ29sbGVjdGlvbiA9IGJiLkNvbGxlY3Rpb24uZXh0ZW5kKHtcbiAgY29uc3RydWN0b3I6IGZ1bmN0aW9uKCkge1xuICAgIGJiLkNvbGxlY3Rpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB0aGlzLl9pc05ldyA9IHRydWU7XG4gICAgdGhpcy5vbmNlKCdzeW5jJywgZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9pc05ldyA9IGZhbHNlO1xuICAgIH0pO1xuICB9LFxuXG4gIGlzTmV3OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5faXNOZXc7XG4gIH1cbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xpYi9jb25maWcvY29sbGVjdGlvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDYwXG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI2MC5qcyJ9");

/***/ },
/* 61 */
/*!***************************************!*\
  !*** ./~/entities/customers/model.js ***!
  \***************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Model = __webpack_require__(/*! lib/config/model */ 64);\n\nmodule.exports = Model.extend({});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VudGl0aWVzL2N1c3RvbWVycy9tb2RlbC5qcz8xYWQwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLGdDQUFnQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBNb2RlbCA9IHJlcXVpcmUoJ2xpYi9jb25maWcvbW9kZWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBNb2RlbC5leHRlbmQoe30pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2VudGl0aWVzL2N1c3RvbWVycy9tb2RlbC5qc1xuICoqIG1vZHVsZSBpZCA9IDYxXG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI2MS5qcyJ9");

/***/ },
/* 62 */
/*!**********************************!*\
  !*** ./~/entities/cart/model.js ***!
  \**********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Model = __webpack_require__(/*! lib/config/model */ 64);\n\nmodule.exports = Model.extend({\n\n  defaults : {\n    'subtotal'      : 0,\n    'subtotal_tax'  : 0,\n    'total_tax'     : 0,\n    'total'         : 0,\n    'item_price'    : 0,\n    'item_tax'      : 0,\n    'qty'           : 1,\n    'taxable'       : true,\n    'tax_class'     : ''\n  },\n\n  initialize: function( options ) {\n\n    if( this.collection && this.collection.order ) {\n      this.set({ order: this.collection.order.id });\n    }\n\n    // update on change to qty or item_price\n    this.on( 'change:qty change:item_price change:taxable change:tax_class', this.updateLineTotals );\n\n    // set item price on init, this will trigger updateLineTotals()\n    if( this.get('item_price') === 0 ) {\n      this.set({ 'item_price': parseFloat( this.get('price') ) });\n    }\n\n  },\n\n  updateLineTotals: function() {\n    console.log('recalc');\n    var qty             = this.get('qty'),\n        item_price      = this.get('item_price'),\n        type            = this.get('type'),\n        regular_price   = parseFloat( this.get('regular_price') ),\n        item_tax        = this.calcTax( item_price, qty),\n        item_subtotal_tax = this.calcTax( regular_price );\n\n    // if shipping or fee\n    if( type === 'shipping' || type === 'fee' ) {\n      regular_price = item_price;\n    }\n\n    // if price does not include tax\n    if( POS.getOption('tax').prices_include_tax === 'yes' ) {\n      regular_price -= item_subtotal_tax;\n      item_price -= item_tax;\n    }\n\n    this.save({\n      'item_subtotal'     : regular_price,\n      'item_subtotal_tax' : item_subtotal_tax,\n      'item_tax'          : POS.Utils.round( item_tax, 4 ),\n      'subtotal'          : POS.Utils.round( regular_price * qty, 4 ),\n      'subtotal_tax'      : POS.Utils.round( item_subtotal_tax * qty, 4 ),\n      'total_tax'         : POS.Utils.round( item_tax * qty, 4 ),\n      'total'             : POS.Utils.round( item_price * qty, 4 )\n    });\n\n  },\n\n  /**\n   * Calculate the line item tax total\n   * based on the calc_tax function in woocommerce/includes/class-wc-tax.php\n   */\n  calcTax: function( price, qty ) {\n    var item_tax = 0,\n      tax_class = this.get('tax_class'),\n      tax_rates = POS.getOption('tax_rates'),\n      rates = tax_rates[tax_class];\n\n    if( POS.getOption('tax').calc_taxes === 'yes' && this.get('taxable') && rates ) {\n      if( POS.getOption('tax').prices_include_tax === 'yes' ) {\n        item_tax = this.calcInclusiveTax( price, rates, qty );\n      }\n      else {\n        item_tax = this.calcExclusiveTax( price, rates, qty );\n      }\n    }\n\n    // use for init subtotal_tax\n    return item_tax;\n  },\n\n  /**\n   * Calculate the line item tax total\n   * based on the calc_inclusive_tax function in woocommerce/includes/class-wc-tax.php\n   */\n  calcInclusiveTax: function( price, rates, qty ) {\n    var regular_tax_rates = 0,\n      compound_tax_rates = 0,\n      non_compound_price = 0,\n      tax_amount = 0,\n      item_tax = 0,\n      line_tax = 0;\n\n    if( qty === undefined ) {\n      var subtotal_calc = true;\n      qty = 1;\n    }\n\n    _(rates).each( function(rate) {\n      if ( rate.compound === 'yes' ) {\n        compound_tax_rates = compound_tax_rates + parseFloat(rate.rate);\n      }\n      else {\n        regular_tax_rates = regular_tax_rates + parseFloat(rate.rate);\n      }\n    });\n\n    var regular_tax_rate  = 1 + ( regular_tax_rates / 100 );\n    var compound_tax_rate   = 1 + ( compound_tax_rates / 100 );\n    non_compound_price = price / compound_tax_rate;\n\n    _(rates).each( function(rate, key) {\n      var the_rate = parseFloat(rate.rate) / 100;\n      var the_price = 0;\n\n      if ( rate.compound === 'yes' ) {\n        the_price = price;\n        the_rate  = the_rate / compound_tax_rate;\n      }\n      else {\n        the_price = non_compound_price;\n        the_rate  = the_rate / regular_tax_rate;\n      }\n\n      var net_price = price - ( the_rate * the_price );\n      tax_amount = price - net_price;\n\n      // do the rounding now if required\n      var item_tax_ = POS.Utils.round( tax_amount, 4 );\n      var line_tax_ = POS.Utils.round( tax_amount * qty, 4 );\n\n      // set the itemized taxes\n      this.set( 'item_tax_' + key, item_tax_ );\n      this.set( 'line_tax_' + key, line_tax_ );\n      rate.tax_amount = line_tax_; // nested attribute, for WC API\n\n      // sum item taxes\n      item_tax += item_tax_;\n\n      // WC API v2\n      if( subtotal_calc ) {\n        rate.subtotal_tax = item_tax_;\n      }\n\n    }, this);\n\n    // return the item tax\n    return POS.Utils.round( item_tax, 4 );\n  },\n\n  /**\n   * Calculate the line item tax total\n   * based on the calc_exclusive_tax function in woocommerce/includes/class-wc-tax.php\n   */\n  calcExclusiveTax: function( price, rates, qty ) {\n    var taxes = [],\n      pre_compound_total = 0,\n      tax_amount = 0,\n      item_tax = 0,\n      line_tax =0;\n\n    if( qty === undefined ) {\n      var subtotal_calc = true;\n      qty = 1;\n    }\n\n    // multiple taxes\n    _(rates).each( function(rate, key) {\n      tax_amount = 0;\n      if ( rate.compound !== 'yes' ) {\n        tax_amount = price * ( parseFloat(rate.rate) / 100 );\n      }\n      taxes[ key ] = tax_amount;\n    });\n\n    if( taxes.length > 0 ) {\n      pre_compound_total = taxes.reduce( function(sum, num) { return sum + num; } );\n    }\n\n    // compound taxes\n    _(rates).each( function(rate, key) {\n      if ( rate.compound === 'yes' ) {\n        var the_price_inc_tax = price + pre_compound_total;\n        taxes[ key ] = the_price_inc_tax * ( parseFloat(rate.rate) / 100 );\n      }\n\n      // do the rounding now if required\n      var item_tax_ = POS.Utils.round( taxes[ key ], 4 );\n      var line_tax_ = POS.Utils.round( taxes[ key ] * qty, 4 );\n\n      // set the itemized taxes\n      this.set( 'item_tax_' + key, item_tax_ );\n      this.set( 'line_tax_' + key, line_tax_ );\n      rate.tax_amount = line_tax_; // nested attribute, for WC API\n\n      // sum item taxes\n      item_tax += item_tax_;\n\n      // WC API v2\n      if( subtotal_calc ) {\n        rate.subtotal_tax = item_tax_;\n      }\n\n    }, this);\n\n    // return the item tax\n    return POS.Utils.round( item_tax, 4 );\n  },\n\n  // Convenience method to increase or decrease qty\n  quantity: function( type ) {\n    var qty = this.get('qty');\n    this.set('qty', (type === 'increase' ? ++qty : --qty) );\n  },\n\n  // Convenience method to sum attributes\n  sum: function(array){\n    var sum = 0;\n    for (var i = 0; i < array.length; i++) {\n      sum += this.get(array[i]);\n    }\n    return sum;\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VudGl0aWVzL2NhcnQvbW9kZWwuanM/OTAwZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQSxnQkFBZ0Isa0NBQWtDO0FBQ2xEOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQixnREFBZ0Q7QUFDaEU7O0FBRUEsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUwsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDOztBQUVsQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsNkRBQTZELGtCQUFrQixFQUFFO0FBQ2pGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDOztBQUVsQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixrQkFBa0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIE1vZGVsID0gcmVxdWlyZSgnbGliL2NvbmZpZy9tb2RlbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1vZGVsLmV4dGVuZCh7XG5cbiAgZGVmYXVsdHMgOiB7XG4gICAgJ3N1YnRvdGFsJyAgICAgIDogMCxcbiAgICAnc3VidG90YWxfdGF4JyAgOiAwLFxuICAgICd0b3RhbF90YXgnICAgICA6IDAsXG4gICAgJ3RvdGFsJyAgICAgICAgIDogMCxcbiAgICAnaXRlbV9wcmljZScgICAgOiAwLFxuICAgICdpdGVtX3RheCcgICAgICA6IDAsXG4gICAgJ3F0eScgICAgICAgICAgIDogMSxcbiAgICAndGF4YWJsZScgICAgICAgOiB0cnVlLFxuICAgICd0YXhfY2xhc3MnICAgICA6ICcnXG4gIH0sXG5cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cbiAgICBpZiggdGhpcy5jb2xsZWN0aW9uICYmIHRoaXMuY29sbGVjdGlvbi5vcmRlciApIHtcbiAgICAgIHRoaXMuc2V0KHsgb3JkZXI6IHRoaXMuY29sbGVjdGlvbi5vcmRlci5pZCB9KTtcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgb24gY2hhbmdlIHRvIHF0eSBvciBpdGVtX3ByaWNlXG4gICAgdGhpcy5vbiggJ2NoYW5nZTpxdHkgY2hhbmdlOml0ZW1fcHJpY2UgY2hhbmdlOnRheGFibGUgY2hhbmdlOnRheF9jbGFzcycsIHRoaXMudXBkYXRlTGluZVRvdGFscyApO1xuXG4gICAgLy8gc2V0IGl0ZW0gcHJpY2Ugb24gaW5pdCwgdGhpcyB3aWxsIHRyaWdnZXIgdXBkYXRlTGluZVRvdGFscygpXG4gICAgaWYoIHRoaXMuZ2V0KCdpdGVtX3ByaWNlJykgPT09IDAgKSB7XG4gICAgICB0aGlzLnNldCh7ICdpdGVtX3ByaWNlJzogcGFyc2VGbG9hdCggdGhpcy5nZXQoJ3ByaWNlJykgKSB9KTtcbiAgICB9XG5cbiAgfSxcblxuICB1cGRhdGVMaW5lVG90YWxzOiBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygncmVjYWxjJyk7XG4gICAgdmFyIHF0eSAgICAgICAgICAgICA9IHRoaXMuZ2V0KCdxdHknKSxcbiAgICAgICAgaXRlbV9wcmljZSAgICAgID0gdGhpcy5nZXQoJ2l0ZW1fcHJpY2UnKSxcbiAgICAgICAgdHlwZSAgICAgICAgICAgID0gdGhpcy5nZXQoJ3R5cGUnKSxcbiAgICAgICAgcmVndWxhcl9wcmljZSAgID0gcGFyc2VGbG9hdCggdGhpcy5nZXQoJ3JlZ3VsYXJfcHJpY2UnKSApLFxuICAgICAgICBpdGVtX3RheCAgICAgICAgPSB0aGlzLmNhbGNUYXgoIGl0ZW1fcHJpY2UsIHF0eSksXG4gICAgICAgIGl0ZW1fc3VidG90YWxfdGF4ID0gdGhpcy5jYWxjVGF4KCByZWd1bGFyX3ByaWNlICk7XG5cbiAgICAvLyBpZiBzaGlwcGluZyBvciBmZWVcbiAgICBpZiggdHlwZSA9PT0gJ3NoaXBwaW5nJyB8fCB0eXBlID09PSAnZmVlJyApIHtcbiAgICAgIHJlZ3VsYXJfcHJpY2UgPSBpdGVtX3ByaWNlO1xuICAgIH1cblxuICAgIC8vIGlmIHByaWNlIGRvZXMgbm90IGluY2x1ZGUgdGF4XG4gICAgaWYoIFBPUy5nZXRPcHRpb24oJ3RheCcpLnByaWNlc19pbmNsdWRlX3RheCA9PT0gJ3llcycgKSB7XG4gICAgICByZWd1bGFyX3ByaWNlIC09IGl0ZW1fc3VidG90YWxfdGF4O1xuICAgICAgaXRlbV9wcmljZSAtPSBpdGVtX3RheDtcbiAgICB9XG5cbiAgICB0aGlzLnNhdmUoe1xuICAgICAgJ2l0ZW1fc3VidG90YWwnICAgICA6IHJlZ3VsYXJfcHJpY2UsXG4gICAgICAnaXRlbV9zdWJ0b3RhbF90YXgnIDogaXRlbV9zdWJ0b3RhbF90YXgsXG4gICAgICAnaXRlbV90YXgnICAgICAgICAgIDogUE9TLlV0aWxzLnJvdW5kKCBpdGVtX3RheCwgNCApLFxuICAgICAgJ3N1YnRvdGFsJyAgICAgICAgICA6IFBPUy5VdGlscy5yb3VuZCggcmVndWxhcl9wcmljZSAqIHF0eSwgNCApLFxuICAgICAgJ3N1YnRvdGFsX3RheCcgICAgICA6IFBPUy5VdGlscy5yb3VuZCggaXRlbV9zdWJ0b3RhbF90YXggKiBxdHksIDQgKSxcbiAgICAgICd0b3RhbF90YXgnICAgICAgICAgOiBQT1MuVXRpbHMucm91bmQoIGl0ZW1fdGF4ICogcXR5LCA0ICksXG4gICAgICAndG90YWwnICAgICAgICAgICAgIDogUE9TLlV0aWxzLnJvdW5kKCBpdGVtX3ByaWNlICogcXR5LCA0IClcbiAgICB9KTtcblxuICB9LFxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGxpbmUgaXRlbSB0YXggdG90YWxcbiAgICogYmFzZWQgb24gdGhlIGNhbGNfdGF4IGZ1bmN0aW9uIGluIHdvb2NvbW1lcmNlL2luY2x1ZGVzL2NsYXNzLXdjLXRheC5waHBcbiAgICovXG4gIGNhbGNUYXg6IGZ1bmN0aW9uKCBwcmljZSwgcXR5ICkge1xuICAgIHZhciBpdGVtX3RheCA9IDAsXG4gICAgICB0YXhfY2xhc3MgPSB0aGlzLmdldCgndGF4X2NsYXNzJyksXG4gICAgICB0YXhfcmF0ZXMgPSBQT1MuZ2V0T3B0aW9uKCd0YXhfcmF0ZXMnKSxcbiAgICAgIHJhdGVzID0gdGF4X3JhdGVzW3RheF9jbGFzc107XG5cbiAgICBpZiggUE9TLmdldE9wdGlvbigndGF4JykuY2FsY190YXhlcyA9PT0gJ3llcycgJiYgdGhpcy5nZXQoJ3RheGFibGUnKSAmJiByYXRlcyApIHtcbiAgICAgIGlmKCBQT1MuZ2V0T3B0aW9uKCd0YXgnKS5wcmljZXNfaW5jbHVkZV90YXggPT09ICd5ZXMnICkge1xuICAgICAgICBpdGVtX3RheCA9IHRoaXMuY2FsY0luY2x1c2l2ZVRheCggcHJpY2UsIHJhdGVzLCBxdHkgKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpdGVtX3RheCA9IHRoaXMuY2FsY0V4Y2x1c2l2ZVRheCggcHJpY2UsIHJhdGVzLCBxdHkgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB1c2UgZm9yIGluaXQgc3VidG90YWxfdGF4XG4gICAgcmV0dXJuIGl0ZW1fdGF4O1xuICB9LFxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGxpbmUgaXRlbSB0YXggdG90YWxcbiAgICogYmFzZWQgb24gdGhlIGNhbGNfaW5jbHVzaXZlX3RheCBmdW5jdGlvbiBpbiB3b29jb21tZXJjZS9pbmNsdWRlcy9jbGFzcy13Yy10YXgucGhwXG4gICAqL1xuICBjYWxjSW5jbHVzaXZlVGF4OiBmdW5jdGlvbiggcHJpY2UsIHJhdGVzLCBxdHkgKSB7XG4gICAgdmFyIHJlZ3VsYXJfdGF4X3JhdGVzID0gMCxcbiAgICAgIGNvbXBvdW5kX3RheF9yYXRlcyA9IDAsXG4gICAgICBub25fY29tcG91bmRfcHJpY2UgPSAwLFxuICAgICAgdGF4X2Ftb3VudCA9IDAsXG4gICAgICBpdGVtX3RheCA9IDAsXG4gICAgICBsaW5lX3RheCA9IDA7XG5cbiAgICBpZiggcXR5ID09PSB1bmRlZmluZWQgKSB7XG4gICAgICB2YXIgc3VidG90YWxfY2FsYyA9IHRydWU7XG4gICAgICBxdHkgPSAxO1xuICAgIH1cblxuICAgIF8ocmF0ZXMpLmVhY2goIGZ1bmN0aW9uKHJhdGUpIHtcbiAgICAgIGlmICggcmF0ZS5jb21wb3VuZCA9PT0gJ3llcycgKSB7XG4gICAgICAgIGNvbXBvdW5kX3RheF9yYXRlcyA9IGNvbXBvdW5kX3RheF9yYXRlcyArIHBhcnNlRmxvYXQocmF0ZS5yYXRlKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZWd1bGFyX3RheF9yYXRlcyA9IHJlZ3VsYXJfdGF4X3JhdGVzICsgcGFyc2VGbG9hdChyYXRlLnJhdGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHJlZ3VsYXJfdGF4X3JhdGUgID0gMSArICggcmVndWxhcl90YXhfcmF0ZXMgLyAxMDAgKTtcbiAgICB2YXIgY29tcG91bmRfdGF4X3JhdGUgICA9IDEgKyAoIGNvbXBvdW5kX3RheF9yYXRlcyAvIDEwMCApO1xuICAgIG5vbl9jb21wb3VuZF9wcmljZSA9IHByaWNlIC8gY29tcG91bmRfdGF4X3JhdGU7XG5cbiAgICBfKHJhdGVzKS5lYWNoKCBmdW5jdGlvbihyYXRlLCBrZXkpIHtcbiAgICAgIHZhciB0aGVfcmF0ZSA9IHBhcnNlRmxvYXQocmF0ZS5yYXRlKSAvIDEwMDtcbiAgICAgIHZhciB0aGVfcHJpY2UgPSAwO1xuXG4gICAgICBpZiAoIHJhdGUuY29tcG91bmQgPT09ICd5ZXMnICkge1xuICAgICAgICB0aGVfcHJpY2UgPSBwcmljZTtcbiAgICAgICAgdGhlX3JhdGUgID0gdGhlX3JhdGUgLyBjb21wb3VuZF90YXhfcmF0ZTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGVfcHJpY2UgPSBub25fY29tcG91bmRfcHJpY2U7XG4gICAgICAgIHRoZV9yYXRlICA9IHRoZV9yYXRlIC8gcmVndWxhcl90YXhfcmF0ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIG5ldF9wcmljZSA9IHByaWNlIC0gKCB0aGVfcmF0ZSAqIHRoZV9wcmljZSApO1xuICAgICAgdGF4X2Ftb3VudCA9IHByaWNlIC0gbmV0X3ByaWNlO1xuXG4gICAgICAvLyBkbyB0aGUgcm91bmRpbmcgbm93IGlmIHJlcXVpcmVkXG4gICAgICB2YXIgaXRlbV90YXhfID0gUE9TLlV0aWxzLnJvdW5kKCB0YXhfYW1vdW50LCA0ICk7XG4gICAgICB2YXIgbGluZV90YXhfID0gUE9TLlV0aWxzLnJvdW5kKCB0YXhfYW1vdW50ICogcXR5LCA0ICk7XG5cbiAgICAgIC8vIHNldCB0aGUgaXRlbWl6ZWQgdGF4ZXNcbiAgICAgIHRoaXMuc2V0KCAnaXRlbV90YXhfJyArIGtleSwgaXRlbV90YXhfICk7XG4gICAgICB0aGlzLnNldCggJ2xpbmVfdGF4XycgKyBrZXksIGxpbmVfdGF4XyApO1xuICAgICAgcmF0ZS50YXhfYW1vdW50ID0gbGluZV90YXhfOyAvLyBuZXN0ZWQgYXR0cmlidXRlLCBmb3IgV0MgQVBJXG5cbiAgICAgIC8vIHN1bSBpdGVtIHRheGVzXG4gICAgICBpdGVtX3RheCArPSBpdGVtX3RheF87XG5cbiAgICAgIC8vIFdDIEFQSSB2MlxuICAgICAgaWYoIHN1YnRvdGFsX2NhbGMgKSB7XG4gICAgICAgIHJhdGUuc3VidG90YWxfdGF4ID0gaXRlbV90YXhfO1xuICAgICAgfVxuXG4gICAgfSwgdGhpcyk7XG5cbiAgICAvLyByZXR1cm4gdGhlIGl0ZW0gdGF4XG4gICAgcmV0dXJuIFBPUy5VdGlscy5yb3VuZCggaXRlbV90YXgsIDQgKTtcbiAgfSxcblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBsaW5lIGl0ZW0gdGF4IHRvdGFsXG4gICAqIGJhc2VkIG9uIHRoZSBjYWxjX2V4Y2x1c2l2ZV90YXggZnVuY3Rpb24gaW4gd29vY29tbWVyY2UvaW5jbHVkZXMvY2xhc3Mtd2MtdGF4LnBocFxuICAgKi9cbiAgY2FsY0V4Y2x1c2l2ZVRheDogZnVuY3Rpb24oIHByaWNlLCByYXRlcywgcXR5ICkge1xuICAgIHZhciB0YXhlcyA9IFtdLFxuICAgICAgcHJlX2NvbXBvdW5kX3RvdGFsID0gMCxcbiAgICAgIHRheF9hbW91bnQgPSAwLFxuICAgICAgaXRlbV90YXggPSAwLFxuICAgICAgbGluZV90YXggPTA7XG5cbiAgICBpZiggcXR5ID09PSB1bmRlZmluZWQgKSB7XG4gICAgICB2YXIgc3VidG90YWxfY2FsYyA9IHRydWU7XG4gICAgICBxdHkgPSAxO1xuICAgIH1cblxuICAgIC8vIG11bHRpcGxlIHRheGVzXG4gICAgXyhyYXRlcykuZWFjaCggZnVuY3Rpb24ocmF0ZSwga2V5KSB7XG4gICAgICB0YXhfYW1vdW50ID0gMDtcbiAgICAgIGlmICggcmF0ZS5jb21wb3VuZCAhPT0gJ3llcycgKSB7XG4gICAgICAgIHRheF9hbW91bnQgPSBwcmljZSAqICggcGFyc2VGbG9hdChyYXRlLnJhdGUpIC8gMTAwICk7XG4gICAgICB9XG4gICAgICB0YXhlc1sga2V5IF0gPSB0YXhfYW1vdW50O1xuICAgIH0pO1xuXG4gICAgaWYoIHRheGVzLmxlbmd0aCA+IDAgKSB7XG4gICAgICBwcmVfY29tcG91bmRfdG90YWwgPSB0YXhlcy5yZWR1Y2UoIGZ1bmN0aW9uKHN1bSwgbnVtKSB7IHJldHVybiBzdW0gKyBudW07IH0gKTtcbiAgICB9XG5cbiAgICAvLyBjb21wb3VuZCB0YXhlc1xuICAgIF8ocmF0ZXMpLmVhY2goIGZ1bmN0aW9uKHJhdGUsIGtleSkge1xuICAgICAgaWYgKCByYXRlLmNvbXBvdW5kID09PSAneWVzJyApIHtcbiAgICAgICAgdmFyIHRoZV9wcmljZV9pbmNfdGF4ID0gcHJpY2UgKyBwcmVfY29tcG91bmRfdG90YWw7XG4gICAgICAgIHRheGVzWyBrZXkgXSA9IHRoZV9wcmljZV9pbmNfdGF4ICogKCBwYXJzZUZsb2F0KHJhdGUucmF0ZSkgLyAxMDAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gZG8gdGhlIHJvdW5kaW5nIG5vdyBpZiByZXF1aXJlZFxuICAgICAgdmFyIGl0ZW1fdGF4XyA9IFBPUy5VdGlscy5yb3VuZCggdGF4ZXNbIGtleSBdLCA0ICk7XG4gICAgICB2YXIgbGluZV90YXhfID0gUE9TLlV0aWxzLnJvdW5kKCB0YXhlc1sga2V5IF0gKiBxdHksIDQgKTtcblxuICAgICAgLy8gc2V0IHRoZSBpdGVtaXplZCB0YXhlc1xuICAgICAgdGhpcy5zZXQoICdpdGVtX3RheF8nICsga2V5LCBpdGVtX3RheF8gKTtcbiAgICAgIHRoaXMuc2V0KCAnbGluZV90YXhfJyArIGtleSwgbGluZV90YXhfICk7XG4gICAgICByYXRlLnRheF9hbW91bnQgPSBsaW5lX3RheF87IC8vIG5lc3RlZCBhdHRyaWJ1dGUsIGZvciBXQyBBUElcblxuICAgICAgLy8gc3VtIGl0ZW0gdGF4ZXNcbiAgICAgIGl0ZW1fdGF4ICs9IGl0ZW1fdGF4XztcblxuICAgICAgLy8gV0MgQVBJIHYyXG4gICAgICBpZiggc3VidG90YWxfY2FsYyApIHtcbiAgICAgICAgcmF0ZS5zdWJ0b3RhbF90YXggPSBpdGVtX3RheF87XG4gICAgICB9XG5cbiAgICB9LCB0aGlzKTtcblxuICAgIC8vIHJldHVybiB0aGUgaXRlbSB0YXhcbiAgICByZXR1cm4gUE9TLlV0aWxzLnJvdW5kKCBpdGVtX3RheCwgNCApO1xuICB9LFxuXG4gIC8vIENvbnZlbmllbmNlIG1ldGhvZCB0byBpbmNyZWFzZSBvciBkZWNyZWFzZSBxdHlcbiAgcXVhbnRpdHk6IGZ1bmN0aW9uKCB0eXBlICkge1xuICAgIHZhciBxdHkgPSB0aGlzLmdldCgncXR5Jyk7XG4gICAgdGhpcy5zZXQoJ3F0eScsICh0eXBlID09PSAnaW5jcmVhc2UnID8gKytxdHkgOiAtLXF0eSkgKTtcbiAgfSxcblxuICAvLyBDb252ZW5pZW5jZSBtZXRob2QgdG8gc3VtIGF0dHJpYnV0ZXNcbiAgc3VtOiBmdW5jdGlvbihhcnJheSl7XG4gICAgdmFyIHN1bSA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgc3VtICs9IHRoaXMuZ2V0KGFycmF5W2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHN1bTtcbiAgfVxufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vZW50aXRpZXMvY2FydC9tb2RlbC5qc1xuICoqIG1vZHVsZSBpZCA9IDYyXG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI2Mi5qcyJ9");

/***/ },
/* 63 */
/*!*************************************!*\
  !*** ./~/entities/coupons/model.js ***!
  \*************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Model = __webpack_require__(/*! lib/config/model */ 64);\n\nmodule.exports = Model.extend({});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VudGl0aWVzL2NvdXBvbnMvbW9kZWwuanM/MDhiZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxnQ0FBZ0MiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTW9kZWwgPSByZXF1aXJlKCdsaWIvY29uZmlnL21vZGVsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gTW9kZWwuZXh0ZW5kKHt9KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9lbnRpdGllcy9jb3Vwb25zL21vZGVsLmpzXG4gKiogbW9kdWxlIGlkID0gNjNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjYzLmpzIn0=");

/***/ },
/* 64 */
/*!*******************************!*\
  !*** ./~/lib/config/model.js ***!
  \*******************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Backbone = __webpack_require__(/*! backbone */ 2);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\n\nmodule.exports = POS.Model = Backbone.Model.extend({});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvbW9kZWwuanM/MjRhMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBLHFEQUFxRCIsInNvdXJjZXNDb250ZW50IjpbInZhciBCYWNrYm9uZSA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG52YXIgUE9TID0gcmVxdWlyZSgnbGliL3V0aWxpdGllcy9nbG9iYWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBQT1MuTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe30pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xpYi9jb25maWcvbW9kZWwuanNcbiAqKiBtb2R1bGUgaWQgPSA2NFxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNjQuanMifQ==");

/***/ },
/* 65 */
/*!**********************************************!*\
  !*** ./~/lib/components/hotkeys/behavior.js ***!
  \**********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Behavior = __webpack_require__(/*! lib/config/behavior */ 80);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar entitiesChannel = bb.Radio.channel('entities');\nvar debug = __webpack_require__(/*! debug */ 51)('hotkey');\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\n\nvar HotKeys = Behavior.extend({\n\n  initialize: function() {\n\n    var hotkeys = entitiesChannel.request( 'get', {\n      type: 'settings',\n      name: 'hotkeys'\n    });\n    _.each( this.view.keyEvents, function( method, id ) {\n      var trigger = hotkeys.get(id);\n      if( trigger ) {\n        $(document).bind('keydown', trigger.get('key'), this.view[method]);\n      } else {\n        debug('not found, id: ' + id );\n      }\n    }, this);\n\n  },\n\n  onClose: function() {\n    _.each( this.view.keyEvents, function( method ) {\n      $(document).unbind( 'keydown', this.view[method] );\n    }, this);\n  }\n\n});\n\nmodule.exports = HotKeys;\nPOS.attach('Behaviors.HotKeys', HotKeys);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb21wb25lbnRzL2hvdGtleXMvYmVoYXZpb3IuanM/OTg3NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7O0FBRUwsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUEsQ0FBQzs7QUFFRDtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEJlaGF2aW9yID0gcmVxdWlyZSgnbGliL2NvbmZpZy9iZWhhdmlvcicpO1xudmFyIGJiID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG52YXIgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xudmFyIGVudGl0aWVzQ2hhbm5lbCA9IGJiLlJhZGlvLmNoYW5uZWwoJ2VudGl0aWVzJyk7XG52YXIgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdob3RrZXknKTtcbnZhciBQT1MgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL2dsb2JhbCcpO1xuXG52YXIgSG90S2V5cyA9IEJlaGF2aW9yLmV4dGVuZCh7XG5cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgaG90a2V5cyA9IGVudGl0aWVzQ2hhbm5lbC5yZXF1ZXN0KCAnZ2V0Jywge1xuICAgICAgdHlwZTogJ3NldHRpbmdzJyxcbiAgICAgIG5hbWU6ICdob3RrZXlzJ1xuICAgIH0pO1xuICAgIF8uZWFjaCggdGhpcy52aWV3LmtleUV2ZW50cywgZnVuY3Rpb24oIG1ldGhvZCwgaWQgKSB7XG4gICAgICB2YXIgdHJpZ2dlciA9IGhvdGtleXMuZ2V0KGlkKTtcbiAgICAgIGlmKCB0cmlnZ2VyICkge1xuICAgICAgICAkKGRvY3VtZW50KS5iaW5kKCdrZXlkb3duJywgdHJpZ2dlci5nZXQoJ2tleScpLCB0aGlzLnZpZXdbbWV0aG9kXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWJ1Zygnbm90IGZvdW5kLCBpZDogJyArIGlkICk7XG4gICAgICB9XG4gICAgfSwgdGhpcyk7XG5cbiAgfSxcblxuICBvbkNsb3NlOiBmdW5jdGlvbigpIHtcbiAgICBfLmVhY2goIHRoaXMudmlldy5rZXlFdmVudHMsIGZ1bmN0aW9uKCBtZXRob2QgKSB7XG4gICAgICAkKGRvY3VtZW50KS51bmJpbmQoICdrZXlkb3duJywgdGhpcy52aWV3W21ldGhvZF0gKTtcbiAgICB9LCB0aGlzKTtcbiAgfVxuXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBIb3RLZXlzO1xuUE9TLmF0dGFjaCgnQmVoYXZpb3JzLkhvdEtleXMnLCBIb3RLZXlzKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9saWIvY29tcG9uZW50cy9ob3RrZXlzL2JlaGF2aW9yLmpzXG4gKiogbW9kdWxlIGlkID0gNjVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjY1LmpzIn0=");

/***/ },
/* 66 */
/*!**********************************************!*\
  !*** ./~/lib/components/tooltip/behavior.js ***!
  \**********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Behavior = __webpack_require__(/*! lib/config/behavior */ 80);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\n\nmodule.exports = POS.Behaviors.Tooltip = Behavior.extend({\n\n  initialize: function(options){\n\n    this.options = _.defaults(options, {\n\n    });\n\n  },\n\n  ui: {\n    tooltip: '*[data-toggle=\"tooltip\"]'\n  },\n\n  onRender: function() {\n    this.ui.tooltip.tooltip( this.options );\n  },\n\n  onBeforeDestroy: function() {\n    this.ui.tooltip.tooltip( 'destroy' );\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb21wb25lbnRzL3Rvb2x0aXAvYmVoYXZpb3IuanM/NmZmMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsS0FBSzs7QUFFTCxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEJlaGF2aW9yID0gcmVxdWlyZSgnbGliL2NvbmZpZy9iZWhhdmlvcicpO1xudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbnZhciBQT1MgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL2dsb2JhbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBPUy5CZWhhdmlvcnMuVG9vbHRpcCA9IEJlaGF2aW9yLmV4dGVuZCh7XG5cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucyl7XG5cbiAgICB0aGlzLm9wdGlvbnMgPSBfLmRlZmF1bHRzKG9wdGlvbnMsIHtcblxuICAgIH0pO1xuXG4gIH0sXG5cbiAgdWk6IHtcbiAgICB0b29sdGlwOiAnKltkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIl0nXG4gIH0sXG5cbiAgb25SZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudWkudG9vbHRpcC50b29sdGlwKCB0aGlzLm9wdGlvbnMgKTtcbiAgfSxcblxuICBvbkJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudWkudG9vbHRpcC50b29sdGlwKCAnZGVzdHJveScgKTtcbiAgfVxuXG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9saWIvY29tcG9uZW50cy90b29sdGlwL2JlaGF2aW9yLmpzXG4gKiogbW9kdWxlIGlkID0gNjZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjY2LmpzIn0=");

/***/ },
/* 67 */
/*!**************************************!*\
  !*** ./~/apps/pos/products/views.js ***!
  \**************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Views = {};\nvar LayoutView = __webpack_require__(/*! lib/config/layout-view */ 52);\nvar ItemView = __webpack_require__(/*! lib/config/item-view */ 53);\nvar CollectionView = __webpack_require__(/*! lib/config/collection-view */ 81);\nvar Filter = __webpack_require__(/*! lib/components/filter/behavior */ 82);\nvar hbs = __webpack_require__(/*! handlebars */ 22);\nvar $ = __webpack_require__(/*! jquery */ 3);\n\n/**\n * Products module layout\n */\nViews.Layout = LayoutView.extend({\n  template: hbs.compile('' +\n    '<div class=\"list-actions\"></div>' +\n    '<div class=\"list-tabs tabs infinite-tabs\"></div>' +\n    '<div class=\"list\"></div>' +\n    '<div class=\"list-footer\"></div>'\n  ),\n  tagName: 'section',\n  regions: {\n    actionsRegion   : '.list-actions',\n    tabsRegion      : '.list-tabs',\n    listRegion      : '.list'\n  },\n  attributes: {\n    'class'         : 'module products-module'\n  }\n});\n\n/**\n * Filter\n */\nViews.Actions = ItemView.extend({\n  initialize: function(){\n    this.template = hbs.compile( $('#tmpl-products-filter').html() );\n  },\n  behaviors: {\n    Filter: {\n      behaviorClass: Filter\n    }\n  }\n});\n\n/**\n * Single Product\n */\nViews.Item = ItemView.extend({\n  tagName: 'li',\n  initialize: function(){\n    this.template = hbs.compile( $('#tmpl-product').html() );\n  },\n  className: function(){\n    if( this.model.get('type') === 'variable' ) {\n      return 'variable';\n    }\n  },\n\n  ui: {\n    add: '.action-add',\n    variations: '.action-variations'\n  },\n\n  triggers: {\n    'click @ui.add'         : 'cart:add:clicked',\n    'click @ui.variations'  : 'product:variations:clicked'\n  }\n\n});\n\n/**\n * Product Collection\n */\nViews.Empty = ItemView.extend({\n  tagName: 'li',\n  className: 'empty',\n  template: '#tmpl-products-empty'\n});\n\nViews.List = CollectionView.extend({\n  tagName: 'ul',\n  className: 'striped',\n  childView: Views.Item,\n  emptyView: Views.Empty,\n\n  initialize: function() {\n    this.collection.bind('request', this.ajaxStart, this);\n    this.collection.bind('sync', this.ajaxComplete, this);\n  },\n\n  ajaxStart: function() {\n    this.$el.css({ 'opacity': 0.5 });\n  },\n\n  ajaxComplete: function() {\n    this.$el.removeAttr('style');\n  }\n\n});\n\n/**\n * export Product views\n */\nmodule.exports = Views;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL3Byb2R1Y3RzL3ZpZXdzLmpzPzU0ZWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLGtCQUFrQixpQkFBaUI7QUFDbkMsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXNDb250ZW50IjpbInZhciBWaWV3cyA9IHt9O1xudmFyIExheW91dFZpZXcgPSByZXF1aXJlKCdsaWIvY29uZmlnL2xheW91dC12aWV3Jyk7XG52YXIgSXRlbVZpZXcgPSByZXF1aXJlKCdsaWIvY29uZmlnL2l0ZW0tdmlldycpO1xudmFyIENvbGxlY3Rpb25WaWV3ID0gcmVxdWlyZSgnbGliL2NvbmZpZy9jb2xsZWN0aW9uLXZpZXcnKTtcbnZhciBGaWx0ZXIgPSByZXF1aXJlKCdsaWIvY29tcG9uZW50cy9maWx0ZXIvYmVoYXZpb3InKTtcbnZhciBoYnMgPSByZXF1aXJlKCdoYW5kbGViYXJzJyk7XG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuXG4vKipcbiAqIFByb2R1Y3RzIG1vZHVsZSBsYXlvdXRcbiAqL1xuVmlld3MuTGF5b3V0ID0gTGF5b3V0Vmlldy5leHRlbmQoe1xuICB0ZW1wbGF0ZTogaGJzLmNvbXBpbGUoJycgK1xuICAgICc8ZGl2IGNsYXNzPVwibGlzdC1hY3Rpb25zXCI+PC9kaXY+JyArXG4gICAgJzxkaXYgY2xhc3M9XCJsaXN0LXRhYnMgdGFicyBpbmZpbml0ZS10YWJzXCI+PC9kaXY+JyArXG4gICAgJzxkaXYgY2xhc3M9XCJsaXN0XCI+PC9kaXY+JyArXG4gICAgJzxkaXYgY2xhc3M9XCJsaXN0LWZvb3RlclwiPjwvZGl2PidcbiAgKSxcbiAgdGFnTmFtZTogJ3NlY3Rpb24nLFxuICByZWdpb25zOiB7XG4gICAgYWN0aW9uc1JlZ2lvbiAgIDogJy5saXN0LWFjdGlvbnMnLFxuICAgIHRhYnNSZWdpb24gICAgICA6ICcubGlzdC10YWJzJyxcbiAgICBsaXN0UmVnaW9uICAgICAgOiAnLmxpc3QnXG4gIH0sXG4gIGF0dHJpYnV0ZXM6IHtcbiAgICAnY2xhc3MnICAgICAgICAgOiAnbW9kdWxlIHByb2R1Y3RzLW1vZHVsZSdcbiAgfVxufSk7XG5cbi8qKlxuICogRmlsdGVyXG4gKi9cblZpZXdzLkFjdGlvbnMgPSBJdGVtVmlldy5leHRlbmQoe1xuICBpbml0aWFsaXplOiBmdW5jdGlvbigpe1xuICAgIHRoaXMudGVtcGxhdGUgPSBoYnMuY29tcGlsZSggJCgnI3RtcGwtcHJvZHVjdHMtZmlsdGVyJykuaHRtbCgpICk7XG4gIH0sXG4gIGJlaGF2aW9yczoge1xuICAgIEZpbHRlcjoge1xuICAgICAgYmVoYXZpb3JDbGFzczogRmlsdGVyXG4gICAgfVxuICB9XG59KTtcblxuLyoqXG4gKiBTaW5nbGUgUHJvZHVjdFxuICovXG5WaWV3cy5JdGVtID0gSXRlbVZpZXcuZXh0ZW5kKHtcbiAgdGFnTmFtZTogJ2xpJyxcbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKXtcbiAgICB0aGlzLnRlbXBsYXRlID0gaGJzLmNvbXBpbGUoICQoJyN0bXBsLXByb2R1Y3QnKS5odG1sKCkgKTtcbiAgfSxcbiAgY2xhc3NOYW1lOiBmdW5jdGlvbigpe1xuICAgIGlmKCB0aGlzLm1vZGVsLmdldCgndHlwZScpID09PSAndmFyaWFibGUnICkge1xuICAgICAgcmV0dXJuICd2YXJpYWJsZSc7XG4gICAgfVxuICB9LFxuXG4gIHVpOiB7XG4gICAgYWRkOiAnLmFjdGlvbi1hZGQnLFxuICAgIHZhcmlhdGlvbnM6ICcuYWN0aW9uLXZhcmlhdGlvbnMnXG4gIH0sXG5cbiAgdHJpZ2dlcnM6IHtcbiAgICAnY2xpY2sgQHVpLmFkZCcgICAgICAgICA6ICdjYXJ0OmFkZDpjbGlja2VkJyxcbiAgICAnY2xpY2sgQHVpLnZhcmlhdGlvbnMnICA6ICdwcm9kdWN0OnZhcmlhdGlvbnM6Y2xpY2tlZCdcbiAgfVxuXG59KTtcblxuLyoqXG4gKiBQcm9kdWN0IENvbGxlY3Rpb25cbiAqL1xuVmlld3MuRW1wdHkgPSBJdGVtVmlldy5leHRlbmQoe1xuICB0YWdOYW1lOiAnbGknLFxuICBjbGFzc05hbWU6ICdlbXB0eScsXG4gIHRlbXBsYXRlOiAnI3RtcGwtcHJvZHVjdHMtZW1wdHknXG59KTtcblxuVmlld3MuTGlzdCA9IENvbGxlY3Rpb25WaWV3LmV4dGVuZCh7XG4gIHRhZ05hbWU6ICd1bCcsXG4gIGNsYXNzTmFtZTogJ3N0cmlwZWQnLFxuICBjaGlsZFZpZXc6IFZpZXdzLkl0ZW0sXG4gIGVtcHR5VmlldzogVmlld3MuRW1wdHksXG5cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5jb2xsZWN0aW9uLmJpbmQoJ3JlcXVlc3QnLCB0aGlzLmFqYXhTdGFydCwgdGhpcyk7XG4gICAgdGhpcy5jb2xsZWN0aW9uLmJpbmQoJ3N5bmMnLCB0aGlzLmFqYXhDb21wbGV0ZSwgdGhpcyk7XG4gIH0sXG5cbiAgYWpheFN0YXJ0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRlbC5jc3MoeyAnb3BhY2l0eSc6IDAuNSB9KTtcbiAgfSxcblxuICBhamF4Q29tcGxldGU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJGVsLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG4gIH1cblxufSk7XG5cbi8qKlxuICogZXhwb3J0IFByb2R1Y3Qgdmlld3NcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBWaWV3cztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hcHBzL3Bvcy9wcm9kdWN0cy92aWV3cy5qc1xuICoqIG1vZHVsZSBpZCA9IDY3XG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI2Ny5qcyJ9");

/***/ },
/* 68 */
/*!*************************************!*\
  !*** ./~/apps/support/form/view.js ***!
  \*************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var ItemView = __webpack_require__(/*! lib/config/item-view */ 53);\nvar Backbone = __webpack_require__(/*! backbone */ 2);\n\nmodule.exports = ItemView.extend({\n  template: '#tmpl-support-form',\n  tagName: 'form',\n  attributes: {\n    'class'         : 'module support-module',\n    'data-title'    : 'Support Form'\n  },\n\n  events: {\n    'submit': 'send'\n  },\n\n  send: function(e) {\n    e.preventDefault();\n    var data = Backbone.Syphon.serialize( this );\n    this.trigger( 'send:email', data );\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvc3VwcG9ydC9mb3JtL3ZpZXcuanM/OWQ5YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgSXRlbVZpZXcgPSByZXF1aXJlKCdsaWIvY29uZmlnL2l0ZW0tdmlldycpO1xudmFyIEJhY2tib25lID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBJdGVtVmlldy5leHRlbmQoe1xuICB0ZW1wbGF0ZTogJyN0bXBsLXN1cHBvcnQtZm9ybScsXG4gIHRhZ05hbWU6ICdmb3JtJyxcbiAgYXR0cmlidXRlczoge1xuICAgICdjbGFzcycgICAgICAgICA6ICdtb2R1bGUgc3VwcG9ydC1tb2R1bGUnLFxuICAgICdkYXRhLXRpdGxlJyAgICA6ICdTdXBwb3J0IEZvcm0nXG4gIH0sXG5cbiAgZXZlbnRzOiB7XG4gICAgJ3N1Ym1pdCc6ICdzZW5kJ1xuICB9LFxuXG4gIHNlbmQ6IGZ1bmN0aW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIGRhdGEgPSBCYWNrYm9uZS5TeXBob24uc2VyaWFsaXplKCB0aGlzICk7XG4gICAgdGhpcy50cmlnZ2VyKCAnc2VuZDplbWFpbCcsIGRhdGEgKTtcbiAgfVxufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXBwcy9zdXBwb3J0L2Zvcm0vdmlldy5qc1xuICoqIG1vZHVsZSBpZCA9IDY4XG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI2OC5qcyJ9");

/***/ },
/* 69 */
/*!***************************************!*\
  !*** ./~/apps/support/status/view.js ***!
  \***************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var ItemView = __webpack_require__(/*! lib/config/item-view */ 53);\nvar Handlebars = __webpack_require__(/*! handlebars */ 22);\nvar $ = __webpack_require__(/*! jquery */ 3);\n\nmodule.exports = ItemView.extend({\n  tagName: 'section',\n  attributes: {\n    'class'         : 'module status-module',\n    'data-title'    : 'System Status'\n  },\n\n  initialize: function(options) {\n    this.template = Handlebars.compile( $('#tmpl-pos-status').html() );\n    this.results = options;\n  },\n\n  serializeData: function() {\n    return this.results.responseJSON;\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvc3VwcG9ydC9zdGF0dXMvdmlldy5qcz8zNzdiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgSXRlbVZpZXcgPSByZXF1aXJlKCdsaWIvY29uZmlnL2l0ZW0tdmlldycpO1xudmFyIEhhbmRsZWJhcnMgPSByZXF1aXJlKCdoYW5kbGViYXJzJyk7XG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEl0ZW1WaWV3LmV4dGVuZCh7XG4gIHRhZ05hbWU6ICdzZWN0aW9uJyxcbiAgYXR0cmlidXRlczoge1xuICAgICdjbGFzcycgICAgICAgICA6ICdtb2R1bGUgc3RhdHVzLW1vZHVsZScsXG4gICAgJ2RhdGEtdGl0bGUnICAgIDogJ1N5c3RlbSBTdGF0dXMnXG4gIH0sXG5cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHRoaXMudGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoICQoJyN0bXBsLXBvcy1zdGF0dXMnKS5odG1sKCkgKTtcbiAgICB0aGlzLnJlc3VsdHMgPSBvcHRpb25zO1xuICB9LFxuXG4gIHNlcmlhbGl6ZURhdGE6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnJlc3VsdHMucmVzcG9uc2VKU09OO1xuICB9XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hcHBzL3N1cHBvcnQvc3RhdHVzL3ZpZXcuanNcbiAqKiBtb2R1bGUgaWQgPSA2OVxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNjkuanMifQ==");

/***/ },
/* 70 */
/*!***************************************!*\
  !*** ./~/lib/components/tabs/view.js ***!
  \***************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var ItemView = __webpack_require__(/*! lib/config/item-view */ 53);\nvar CollectionView = __webpack_require__(/*! lib/config/collection-view */ 81);\nvar Handlebars = __webpack_require__(/*! handlebars */ 22);\nvar Collection = __webpack_require__(/*! ./entities */ 83);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\n\nvar Tab = ItemView.extend({\n  tagName: 'li',\n\n  initialize: function () {\n    this.template = Handlebars.compile('' +\n      '{{#unless fixed}}' +\n      '<a href=\"#\">' +\n        '<i class=\"icon icon-times-circle action-remove\"></i>' +\n      '</a>' +\n      '{{/unless}}' +\n      '{{{ label }}}'\n    );\n  },\n\n  className: function () {\n    if (this.model.get('active')) {\n      return 'active';\n    }\n  },\n\n  triggers: {\n    'click': 'tab:clicked',\n    'click .action-remove': 'tab:removed'\n  },\n\n  onTabClicked: function () {\n    if (!this.model.get('active')) {\n      this.model.set({active: true});\n    }\n  }\n\n});\n\nvar Tabs = CollectionView.extend({\n  tagName: 'ul',\n  childView: Tab,\n  // className: 'nav nav-tabs',\n  attributes: {\n    'role' : 'tablist'\n  },\n\n  collectionEvents: {\n    'change:active change:label' : 'render'\n  },\n\n  initialize: function(options) {\n    this.collection = new Collection( options.collection );\n\n    this.on( 'childview:tab:removed', function( childview, args ) {\n      this.collection.remove( args.model );\n    });\n  }\n\n});\n\nmodule.exports = Tabs;\nPOS.attach('Components.Tabs.View', Tabs);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb21wb25lbnRzL3RhYnMvdmlldy5qcz84YmI1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUyxlQUFlO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLFNBQVMsU0FBUztBQUNsQixVQUFVLFVBQVU7QUFDcEI7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxzQkFBc0IsYUFBYTtBQUNuQztBQUNBOztBQUVBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUEsQ0FBQzs7QUFFRDtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEl0ZW1WaWV3ID0gcmVxdWlyZSgnbGliL2NvbmZpZy9pdGVtLXZpZXcnKTtcbnZhciBDb2xsZWN0aW9uVmlldyA9IHJlcXVpcmUoJ2xpYi9jb25maWcvY29sbGVjdGlvbi12aWV3Jyk7XG52YXIgSGFuZGxlYmFycyA9IHJlcXVpcmUoJ2hhbmRsZWJhcnMnKTtcbnZhciBDb2xsZWN0aW9uID0gcmVxdWlyZSgnLi9lbnRpdGllcycpO1xudmFyIFBPUyA9IHJlcXVpcmUoJ2xpYi91dGlsaXRpZXMvZ2xvYmFsJyk7XG5cbnZhciBUYWIgPSBJdGVtVmlldy5leHRlbmQoe1xuICB0YWdOYW1lOiAnbGknLFxuXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKCcnICtcbiAgICAgICd7eyN1bmxlc3MgZml4ZWR9fScgK1xuICAgICAgJzxhIGhyZWY9XCIjXCI+JyArXG4gICAgICAgICc8aSBjbGFzcz1cImljb24gaWNvbi10aW1lcy1jaXJjbGUgYWN0aW9uLXJlbW92ZVwiPjwvaT4nICtcbiAgICAgICc8L2E+JyArXG4gICAgICAne3svdW5sZXNzfX0nICtcbiAgICAgICd7e3sgbGFiZWwgfX19J1xuICAgICk7XG4gIH0sXG5cbiAgY2xhc3NOYW1lOiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMubW9kZWwuZ2V0KCdhY3RpdmUnKSkge1xuICAgICAgcmV0dXJuICdhY3RpdmUnO1xuICAgIH1cbiAgfSxcblxuICB0cmlnZ2Vyczoge1xuICAgICdjbGljayc6ICd0YWI6Y2xpY2tlZCcsXG4gICAgJ2NsaWNrIC5hY3Rpb24tcmVtb3ZlJzogJ3RhYjpyZW1vdmVkJ1xuICB9LFxuXG4gIG9uVGFiQ2xpY2tlZDogZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5tb2RlbC5nZXQoJ2FjdGl2ZScpKSB7XG4gICAgICB0aGlzLm1vZGVsLnNldCh7YWN0aXZlOiB0cnVlfSk7XG4gICAgfVxuICB9XG5cbn0pO1xuXG52YXIgVGFicyA9IENvbGxlY3Rpb25WaWV3LmV4dGVuZCh7XG4gIHRhZ05hbWU6ICd1bCcsXG4gIGNoaWxkVmlldzogVGFiLFxuICAvLyBjbGFzc05hbWU6ICduYXYgbmF2LXRhYnMnLFxuICBhdHRyaWJ1dGVzOiB7XG4gICAgJ3JvbGUnIDogJ3RhYmxpc3QnXG4gIH0sXG5cbiAgY29sbGVjdGlvbkV2ZW50czoge1xuICAgICdjaGFuZ2U6YWN0aXZlIGNoYW5nZTpsYWJlbCcgOiAncmVuZGVyJ1xuICB9LFxuXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB0aGlzLmNvbGxlY3Rpb24gPSBuZXcgQ29sbGVjdGlvbiggb3B0aW9ucy5jb2xsZWN0aW9uICk7XG5cbiAgICB0aGlzLm9uKCAnY2hpbGR2aWV3OnRhYjpyZW1vdmVkJywgZnVuY3Rpb24oIGNoaWxkdmlldywgYXJncyApIHtcbiAgICAgIHRoaXMuY29sbGVjdGlvbi5yZW1vdmUoIGFyZ3MubW9kZWwgKTtcbiAgICB9KTtcbiAgfVxuXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBUYWJzO1xuUE9TLmF0dGFjaCgnQ29tcG9uZW50cy5UYWJzLlZpZXcnLCBUYWJzKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9saWIvY29tcG9uZW50cy90YWJzL3ZpZXcuanNcbiAqKiBtb2R1bGUgaWQgPSA3MFxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNzAuanMifQ==");

/***/ },
/* 71 */
/*!*****************************************!*\
  !*** ./~/apps/pos/cart/views/layout.js ***!
  \*****************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var LayoutView = __webpack_require__(/*! lib/config/layout-view */ 52);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar $ = __webpack_require__(/*! jquery */ 3);\n\nmodule.exports = LayoutView.extend({\n\n  initialize: function(options){\n    options = options || {};\n    this.order = options.order;\n\n    this.template = _.template( $('#tmpl-cart').html() );\n\n    if(this.order.cart){\n      this.listenTo(this.order.cart, 'add remove', this.showOrHide);\n    }\n  },\n\n  tagName: 'section',\n\n  regions: {\n    listRegion      : '.list',\n    totalsRegion    : '.list-totals',\n    customerRegion  : '.cart-customer',\n    actionsRegion   : '.cart-actions',\n    notesRegion     : '.cart-notes',\n    footerRegion    : '.list-footer'\n  },\n\n  attributes: {\n    'class'         : 'module cart-module'\n  },\n\n  showOrHide: function(){\n    var regions = this.getRegions(),\n        items = this.order.cart.length,\n        toggle = items === 0 ? 'hide' : 'show';\n\n    _.chain(regions)\n      .omit('listRegion')\n      .values()\n      .map(function(region){\n        region.$el[toggle]();\n      });\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL2NhcnQvdmlld3MvbGF5b3V0LmpzP2VmNjYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTGF5b3V0VmlldyA9IHJlcXVpcmUoJ2xpYi9jb25maWcvbGF5b3V0LXZpZXcnKTtcbnZhciBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IExheW91dFZpZXcuZXh0ZW5kKHtcblxuICBpbml0aWFsaXplOiBmdW5jdGlvbihvcHRpb25zKXtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB0aGlzLm9yZGVyID0gb3B0aW9ucy5vcmRlcjtcblxuICAgIHRoaXMudGVtcGxhdGUgPSBfLnRlbXBsYXRlKCAkKCcjdG1wbC1jYXJ0JykuaHRtbCgpICk7XG5cbiAgICBpZih0aGlzLm9yZGVyLmNhcnQpe1xuICAgICAgdGhpcy5saXN0ZW5Ubyh0aGlzLm9yZGVyLmNhcnQsICdhZGQgcmVtb3ZlJywgdGhpcy5zaG93T3JIaWRlKTtcbiAgICB9XG4gIH0sXG5cbiAgdGFnTmFtZTogJ3NlY3Rpb24nLFxuXG4gIHJlZ2lvbnM6IHtcbiAgICBsaXN0UmVnaW9uICAgICAgOiAnLmxpc3QnLFxuICAgIHRvdGFsc1JlZ2lvbiAgICA6ICcubGlzdC10b3RhbHMnLFxuICAgIGN1c3RvbWVyUmVnaW9uICA6ICcuY2FydC1jdXN0b21lcicsXG4gICAgYWN0aW9uc1JlZ2lvbiAgIDogJy5jYXJ0LWFjdGlvbnMnLFxuICAgIG5vdGVzUmVnaW9uICAgICA6ICcuY2FydC1ub3RlcycsXG4gICAgZm9vdGVyUmVnaW9uICAgIDogJy5saXN0LWZvb3RlcidcbiAgfSxcblxuICBhdHRyaWJ1dGVzOiB7XG4gICAgJ2NsYXNzJyAgICAgICAgIDogJ21vZHVsZSBjYXJ0LW1vZHVsZSdcbiAgfSxcblxuICBzaG93T3JIaWRlOiBmdW5jdGlvbigpe1xuICAgIHZhciByZWdpb25zID0gdGhpcy5nZXRSZWdpb25zKCksXG4gICAgICAgIGl0ZW1zID0gdGhpcy5vcmRlci5jYXJ0Lmxlbmd0aCxcbiAgICAgICAgdG9nZ2xlID0gaXRlbXMgPT09IDAgPyAnaGlkZScgOiAnc2hvdyc7XG5cbiAgICBfLmNoYWluKHJlZ2lvbnMpXG4gICAgICAub21pdCgnbGlzdFJlZ2lvbicpXG4gICAgICAudmFsdWVzKClcbiAgICAgIC5tYXAoZnVuY3Rpb24ocmVnaW9uKXtcbiAgICAgICAgcmVnaW9uLiRlbFt0b2dnbGVdKCk7XG4gICAgICB9KTtcbiAgfVxuXG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hcHBzL3Bvcy9jYXJ0L3ZpZXdzL2xheW91dC5qc1xuICoqIG1vZHVsZSBpZCA9IDcxXG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI3MS5qcyJ9");

/***/ },
/* 72 */
/*!****************************************!*\
  !*** ./~/apps/pos/cart/views/items.js ***!
  \****************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var ItemView = __webpack_require__(/*! lib/config/item-view */ 53);\nvar CollectionView = __webpack_require__(/*! lib/config/collection-view */ 81);\n\nvar emptyView = ItemView.extend({\n  tagName: 'li',\n  className: 'empty',\n  template: '#tmpl-cart-empty'\n});\n\nmodule.exports = CollectionView.extend({\n  tagName: 'ul',\n  childView: __webpack_require__(/*! ./line/layout */ 84),\n  emptyView: emptyView\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL2NhcnQvdmlld3MvaXRlbXMuanM/M2ViOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgSXRlbVZpZXcgPSByZXF1aXJlKCdsaWIvY29uZmlnL2l0ZW0tdmlldycpO1xudmFyIENvbGxlY3Rpb25WaWV3ID0gcmVxdWlyZSgnbGliL2NvbmZpZy9jb2xsZWN0aW9uLXZpZXcnKTtcblxudmFyIGVtcHR5VmlldyA9IEl0ZW1WaWV3LmV4dGVuZCh7XG4gIHRhZ05hbWU6ICdsaScsXG4gIGNsYXNzTmFtZTogJ2VtcHR5JyxcbiAgdGVtcGxhdGU6ICcjdG1wbC1jYXJ0LWVtcHR5J1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQ29sbGVjdGlvblZpZXcuZXh0ZW5kKHtcbiAgdGFnTmFtZTogJ3VsJyxcbiAgY2hpbGRWaWV3OiByZXF1aXJlKCcuL2xpbmUvbGF5b3V0JyksXG4gIGVtcHR5VmlldzogZW1wdHlWaWV3XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hcHBzL3Bvcy9jYXJ0L3ZpZXdzL2l0ZW1zLmpzXG4gKiogbW9kdWxlIGlkID0gNzJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjcyLmpzIn0=");

/***/ },
/* 73 */
/*!*****************************************!*\
  !*** ./~/apps/pos/cart/views/totals.js ***!
  \*****************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var ItemView = __webpack_require__(/*! lib/config/item-view */ 53);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar hbs = __webpack_require__(/*! handlebars */ 22);\nvar AutoGrow = __webpack_require__(/*! lib/components/autogrow/behavior */ 85);\nvar Numpad = __webpack_require__(/*! lib/components/numpad/behavior */ 86);\nvar entitiesChannel = bb.Radio.channel('entities');\nvar Utils = __webpack_require__(/*! lib/utilities/utils */ 30);\n\nmodule.exports = ItemView.extend({\n  tagName: 'ul',\n\n  initialize: function() {\n    this.template = hbs.compile( $('#tmpl-cart-totals').html() );\n  },\n\n  behaviors: {\n    AutoGrow: {\n      behaviorClass: AutoGrow\n    },\n    Numpad: {\n      behaviorClass: Numpad\n    }\n  },\n\n  modelEvents: {\n    'change': 'render'\n  },\n\n  ui: {\n    discount: '.order-discount'\n  },\n\n  events: {\n    'click @ui.discount .total'   : 'edit',\n    'keypress @ui.discount input'   : 'saveOnEnter',\n    'blur @ui.discount input'     : 'onBlur'\n  },\n\n  /**\n   *\n   */\n  templateHelpers: function(){\n    var data = {};\n\n    var tax = entitiesChannel.request('get', {\n      type : 'option',\n      name : 'tax'\n    });\n\n    if( tax.tax_display_cart === 'incl' ) {\n      data.subtotal = this.model.sum(['subtotal', 'subtotal_tax']);\n      // subtract?\n      data.cart_discount = this.model.sum(['subtotal', 'total']);\n      data.incl_tax = true;\n    }\n\n    // original total for calculating percentage discount\n    data.original = this.model.sum(['total', 'order_discount']);\n\n    return data;\n  },\n\n  edit: function(e) {\n    $(e.currentTarget).addClass('editing')\n        .children('input')\n        .trigger('show:numpad');\n  },\n\n  save: function(e) {\n    var input   = $(e.target),\n      value   = input.val();\n\n    // check for sensible input\n    if( _.isNaN( parseFloat( value ) ) ) {\n      input.select();\n      return;\n    }\n\n    // always store numbers as float\n    if( value ){\n      value = Utils.unformat( value );\n      value = parseFloat( value );\n    }\n\n    // save\n    this.model.save({ order_discount: value });\n\n  },\n\n  saveOnEnter: function(e) {\n    if (e.which === 13) {\n      this.save(e);\n      this.model.trigger('change');\n    }\n  },\n\n  showDiscountRow: function() {\n    this.$('.order-discount')\n        .show()\n        .children('.total')\n        .trigger('click');\n  },\n\n  onBlur: function(e) {\n    if( $(e.target).attr('aria-describedby') === undefined ) {\n      this.save(e);\n      this.model.trigger('change');\n    }\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL2NhcnQvdmlld3MvdG90YWxzLmpzPzU5MDkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUIsd0JBQXdCOztBQUU3QyxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEl0ZW1WaWV3ID0gcmVxdWlyZSgnbGliL2NvbmZpZy9pdGVtLXZpZXcnKTtcbnZhciBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xudmFyIGJiID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBoYnMgPSByZXF1aXJlKCdoYW5kbGViYXJzJyk7XG52YXIgQXV0b0dyb3cgPSByZXF1aXJlKCdsaWIvY29tcG9uZW50cy9hdXRvZ3Jvdy9iZWhhdmlvcicpO1xudmFyIE51bXBhZCA9IHJlcXVpcmUoJ2xpYi9jb21wb25lbnRzL251bXBhZC9iZWhhdmlvcicpO1xudmFyIGVudGl0aWVzQ2hhbm5lbCA9IGJiLlJhZGlvLmNoYW5uZWwoJ2VudGl0aWVzJyk7XG52YXIgVXRpbHMgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gSXRlbVZpZXcuZXh0ZW5kKHtcbiAgdGFnTmFtZTogJ3VsJyxcblxuICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnRlbXBsYXRlID0gaGJzLmNvbXBpbGUoICQoJyN0bXBsLWNhcnQtdG90YWxzJykuaHRtbCgpICk7XG4gIH0sXG5cbiAgYmVoYXZpb3JzOiB7XG4gICAgQXV0b0dyb3c6IHtcbiAgICAgIGJlaGF2aW9yQ2xhc3M6IEF1dG9Hcm93XG4gICAgfSxcbiAgICBOdW1wYWQ6IHtcbiAgICAgIGJlaGF2aW9yQ2xhc3M6IE51bXBhZFxuICAgIH1cbiAgfSxcblxuICBtb2RlbEV2ZW50czoge1xuICAgICdjaGFuZ2UnOiAncmVuZGVyJ1xuICB9LFxuXG4gIHVpOiB7XG4gICAgZGlzY291bnQ6ICcub3JkZXItZGlzY291bnQnXG4gIH0sXG5cbiAgZXZlbnRzOiB7XG4gICAgJ2NsaWNrIEB1aS5kaXNjb3VudCAudG90YWwnICAgOiAnZWRpdCcsXG4gICAgJ2tleXByZXNzIEB1aS5kaXNjb3VudCBpbnB1dCcgICA6ICdzYXZlT25FbnRlcicsXG4gICAgJ2JsdXIgQHVpLmRpc2NvdW50IGlucHV0JyAgICAgOiAnb25CbHVyJ1xuICB9LFxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgdGVtcGxhdGVIZWxwZXJzOiBmdW5jdGlvbigpe1xuICAgIHZhciBkYXRhID0ge307XG5cbiAgICB2YXIgdGF4ID0gZW50aXRpZXNDaGFubmVsLnJlcXVlc3QoJ2dldCcsIHtcbiAgICAgIHR5cGUgOiAnb3B0aW9uJyxcbiAgICAgIG5hbWUgOiAndGF4J1xuICAgIH0pO1xuXG4gICAgaWYoIHRheC50YXhfZGlzcGxheV9jYXJ0ID09PSAnaW5jbCcgKSB7XG4gICAgICBkYXRhLnN1YnRvdGFsID0gdGhpcy5tb2RlbC5zdW0oWydzdWJ0b3RhbCcsICdzdWJ0b3RhbF90YXgnXSk7XG4gICAgICAvLyBzdWJ0cmFjdD9cbiAgICAgIGRhdGEuY2FydF9kaXNjb3VudCA9IHRoaXMubW9kZWwuc3VtKFsnc3VidG90YWwnLCAndG90YWwnXSk7XG4gICAgICBkYXRhLmluY2xfdGF4ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBvcmlnaW5hbCB0b3RhbCBmb3IgY2FsY3VsYXRpbmcgcGVyY2VudGFnZSBkaXNjb3VudFxuICAgIGRhdGEub3JpZ2luYWwgPSB0aGlzLm1vZGVsLnN1bShbJ3RvdGFsJywgJ29yZGVyX2Rpc2NvdW50J10pO1xuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH0sXG5cbiAgZWRpdDogZnVuY3Rpb24oZSkge1xuICAgICQoZS5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcygnZWRpdGluZycpXG4gICAgICAgIC5jaGlsZHJlbignaW5wdXQnKVxuICAgICAgICAudHJpZ2dlcignc2hvdzpudW1wYWQnKTtcbiAgfSxcblxuICBzYXZlOiBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGlucHV0ICAgPSAkKGUudGFyZ2V0KSxcbiAgICAgIHZhbHVlICAgPSBpbnB1dC52YWwoKTtcblxuICAgIC8vIGNoZWNrIGZvciBzZW5zaWJsZSBpbnB1dFxuICAgIGlmKCBfLmlzTmFOKCBwYXJzZUZsb2F0KCB2YWx1ZSApICkgKSB7XG4gICAgICBpbnB1dC5zZWxlY3QoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBhbHdheXMgc3RvcmUgbnVtYmVycyBhcyBmbG9hdFxuICAgIGlmKCB2YWx1ZSApe1xuICAgICAgdmFsdWUgPSBVdGlscy51bmZvcm1hdCggdmFsdWUgKTtcbiAgICAgIHZhbHVlID0gcGFyc2VGbG9hdCggdmFsdWUgKTtcbiAgICB9XG5cbiAgICAvLyBzYXZlXG4gICAgdGhpcy5tb2RlbC5zYXZlKHsgb3JkZXJfZGlzY291bnQ6IHZhbHVlIH0pO1xuXG4gIH0sXG5cbiAgc2F2ZU9uRW50ZXI6IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoZS53aGljaCA9PT0gMTMpIHtcbiAgICAgIHRoaXMuc2F2ZShlKTtcbiAgICAgIHRoaXMubW9kZWwudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgfVxuICB9LFxuXG4gIHNob3dEaXNjb3VudFJvdzogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kKCcub3JkZXItZGlzY291bnQnKVxuICAgICAgICAuc2hvdygpXG4gICAgICAgIC5jaGlsZHJlbignLnRvdGFsJylcbiAgICAgICAgLnRyaWdnZXIoJ2NsaWNrJyk7XG4gIH0sXG5cbiAgb25CbHVyOiBmdW5jdGlvbihlKSB7XG4gICAgaWYoICQoZS50YXJnZXQpLmF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknKSA9PT0gdW5kZWZpbmVkICkge1xuICAgICAgdGhpcy5zYXZlKGUpO1xuICAgICAgdGhpcy5tb2RlbC50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICB9XG4gIH1cblxufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXBwcy9wb3MvY2FydC92aWV3cy90b3RhbHMuanNcbiAqKiBtb2R1bGUgaWQgPSA3M1xuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNzMuanMifQ==");

/***/ },
/* 74 */
/*!******************************************!*\
  !*** ./~/apps/pos/cart/views/actions.js ***!
  \******************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var ItemView = __webpack_require__(/*! lib/config/item-view */ 53);\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar hbs = __webpack_require__(/*! handlebars */ 22);\n\nmodule.exports = ItemView.extend({\n\n  initialize: function(){\n    this.template = hbs.compile( $('#tmpl-cart-actions').html() );\n  },\n\n  events: {\n    'click a': 'onButtonClicked'\n  },\n\n  onButtonClicked: function(e){\n    e.preventDefault();\n    var args = {\n      action: $(e.target).data('action'),\n      title: $(e.target).data('title')\n    }\n    this.trigger('button:clicked', args);\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL2NhcnQvdmlld3MvYWN0aW9ucy5qcz8wYjhhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgSXRlbVZpZXcgPSByZXF1aXJlKCdsaWIvY29uZmlnL2l0ZW0tdmlldycpO1xudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcbnZhciBoYnMgPSByZXF1aXJlKCdoYW5kbGViYXJzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gSXRlbVZpZXcuZXh0ZW5kKHtcblxuICBpbml0aWFsaXplOiBmdW5jdGlvbigpe1xuICAgIHRoaXMudGVtcGxhdGUgPSBoYnMuY29tcGlsZSggJCgnI3RtcGwtY2FydC1hY3Rpb25zJykuaHRtbCgpICk7XG4gIH0sXG5cbiAgZXZlbnRzOiB7XG4gICAgJ2NsaWNrIGEnOiAnb25CdXR0b25DbGlja2VkJ1xuICB9LFxuXG4gIG9uQnV0dG9uQ2xpY2tlZDogZnVuY3Rpb24oZSl7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBhcmdzID0ge1xuICAgICAgYWN0aW9uOiAkKGUudGFyZ2V0KS5kYXRhKCdhY3Rpb24nKSxcbiAgICAgIHRpdGxlOiAkKGUudGFyZ2V0KS5kYXRhKCd0aXRsZScpXG4gICAgfVxuICAgIHRoaXMudHJpZ2dlcignYnV0dG9uOmNsaWNrZWQnLCBhcmdzKTtcbiAgfVxuXG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hcHBzL3Bvcy9jYXJ0L3ZpZXdzL2FjdGlvbnMuanNcbiAqKiBtb2R1bGUgaWQgPSA3NFxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNzQuanMifQ==");

/***/ },
/* 75 */
/*!****************************************!*\
  !*** ./~/apps/pos/cart/views/notes.js ***!
  \****************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var ItemView = __webpack_require__(/*! lib/config/item-view */ 53);\nvar _ = __webpack_require__(/*! lodash */ 1);\n\nmodule.exports = ItemView.extend({\n  template: _.template( '<%= note %>' ),\n\n  modelEvents: {\n    'change:note': 'render'\n  },\n\n  events: {\n    'click'   : 'edit',\n    'keypress'  : 'saveOnEnter',\n    'blur'    : 'save'\n  },\n\n  onShow: function() {\n    this.showOrHide();\n  },\n\n  showOrHide: function() {\n    if( this.model.get('note') === '' ) {\n      this.$el.parent('.cart-notes').hide();\n    }\n  },\n\n  edit: function() {\n    this.$el.attr('contenteditable','true').focus();\n  },\n\n  save: function() {\n    var value = this.$el.text();\n\n    // validate and save\n    this.model.save({ note: value });\n    this.$el.attr('contenteditable','false');\n    this.showOrHide();\n  },\n\n  saveOnEnter: function(e) {\n    // save note on enter\n    if (e.which === 13) {\n      e.preventDefault();\n      this.$el.blur();\n    }\n  },\n\n  showNoteField: function() {\n    this.$el.parent('.cart-notes').show();\n    this.$el.attr('contenteditable','true').focus();\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL2NhcnQvdmlld3Mvbm90ZXMuanM/Yjc5OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0EscUJBQXFCLGNBQWM7QUFDbkM7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgSXRlbVZpZXcgPSByZXF1aXJlKCdsaWIvY29uZmlnL2l0ZW0tdmlldycpO1xudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBJdGVtVmlldy5leHRlbmQoe1xuICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSggJzwlPSBub3RlICU+JyApLFxuXG4gIG1vZGVsRXZlbnRzOiB7XG4gICAgJ2NoYW5nZTpub3RlJzogJ3JlbmRlcidcbiAgfSxcblxuICBldmVudHM6IHtcbiAgICAnY2xpY2snICAgOiAnZWRpdCcsXG4gICAgJ2tleXByZXNzJyAgOiAnc2F2ZU9uRW50ZXInLFxuICAgICdibHVyJyAgICA6ICdzYXZlJ1xuICB9LFxuXG4gIG9uU2hvdzogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zaG93T3JIaWRlKCk7XG4gIH0sXG5cbiAgc2hvd09ySGlkZTogZnVuY3Rpb24oKSB7XG4gICAgaWYoIHRoaXMubW9kZWwuZ2V0KCdub3RlJykgPT09ICcnICkge1xuICAgICAgdGhpcy4kZWwucGFyZW50KCcuY2FydC1ub3RlcycpLmhpZGUoKTtcbiAgICB9XG4gIH0sXG5cbiAgZWRpdDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZWwuYXR0cignY29udGVudGVkaXRhYmxlJywndHJ1ZScpLmZvY3VzKCk7XG4gIH0sXG5cbiAgc2F2ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHZhbHVlID0gdGhpcy4kZWwudGV4dCgpO1xuXG4gICAgLy8gdmFsaWRhdGUgYW5kIHNhdmVcbiAgICB0aGlzLm1vZGVsLnNhdmUoeyBub3RlOiB2YWx1ZSB9KTtcbiAgICB0aGlzLiRlbC5hdHRyKCdjb250ZW50ZWRpdGFibGUnLCdmYWxzZScpO1xuICAgIHRoaXMuc2hvd09ySGlkZSgpO1xuICB9LFxuXG4gIHNhdmVPbkVudGVyOiBmdW5jdGlvbihlKSB7XG4gICAgLy8gc2F2ZSBub3RlIG9uIGVudGVyXG4gICAgaWYgKGUud2hpY2ggPT09IDEzKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLiRlbC5ibHVyKCk7XG4gICAgfVxuICB9LFxuXG4gIHNob3dOb3RlRmllbGQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJGVsLnBhcmVudCgnLmNhcnQtbm90ZXMnKS5zaG93KCk7XG4gICAgdGhpcy4kZWwuYXR0cignY29udGVudGVkaXRhYmxlJywndHJ1ZScpLmZvY3VzKCk7XG4gIH1cbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FwcHMvcG9zL2NhcnQvdmlld3Mvbm90ZXMuanNcbiAqKiBtb2R1bGUgaWQgPSA3NVxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNzUuanMifQ==");

/***/ },
/* 76 */
/*!**************************************************!*\
  !*** ./~/lib/components/customer-select/view.js ***!
  \**************************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var ItemView = __webpack_require__(/*! lib/config/item-view */ 53);\nvar Select2 = __webpack_require__(/*! lib/components/select2/behavior */ 87);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar entitiesChannel = bb.Radio.channel('entities');\nvar hbs = __webpack_require__(/*! handlebars */ 22);\n\n// Select view\nmodule.exports = ItemView.extend({\n  template: function() {\n    return '<input name=\"customer\" type=\"hidden\" class=\"select2\">'\n  },\n\n  behaviors: {\n    Select2: {\n      behaviorClass: Select2,\n      minimumInputLength: 2,\n      //ajax: {\n      //  url: function() {\n      //    return entitiesChannel.request('get:options', 'ajaxurl');\n      //  },\n      //  dataType: 'json',\n      //  quietMillis: 250,\n      //  data: function( term ) {\n      //    return {\n      //      term: term,\n      //      action: 'wc_pos_json_search_customers'\n      //    };\n      //  },\n      //  results: function( data ) {\n      //    var customers = [];\n      //    _( data ).each( function( obj ) {\n      //      customers.push( obj );\n      //    });\n      //    return { results: customers };\n      //  }\n      //},\n      initSelection: function( element, callback ) {\n        var customer = entitiesChannel.request('get', {\n          type: 'option',\n          name: 'default_customer'\n        });\n        callback( customer );\n      }\n    }\n  },\n\n  query: function(){},\n\n  events: {\n    'change #select-customer' : 'updateCustomer'\n  },\n\n  updateCustomer: function(e) {\n    this.trigger( 'customer:select', e.added.id, this.formatSelection( e.added ) );\n  },\n\n  /**\n   * select2 query function\n   * @param query\n   */\n  query: function( query ){\n    var term = query.term.toLowerCase();\n    var collection = this.customerCollection();\n    collection.filterBy(function(model) {\n      var attributes = _.pick( model.attributes, ['email', 'first_name', 'last_name'] );\n      return _.any( _.values( attributes ), function( value ){\n        // match for attributes starting with query term\n        return value.toLowerCase().indexOf( term ) === 0;\n      });\n    });\n    var results = collection.toJSON();\n    //results.unshift( app.getOption('default_customer') );\n    query.callback({ results: results });\n  },\n\n  /**\n   * select2 parse results\n   */\n  formatResult: function( customer ) {\n    var format = '{{first_name}} {{last_name}} ({{email}})';\n\n    if( this.hasNoNames(customer) ){\n      format = '{{username}} ({{email}})';\n    }\n\n    var template = hbs.compile(format);\n    return template(customer);\n  },\n\n  /**\n   * select2 parse selection\n   */\n  formatSelection: function( customer ) {\n    var format = '{{first_name}} {{last_name}}';\n    if( this.hasNoNames(customer) ){\n      format = '{{username}}';\n    }\n\n    var template = hbs.compile(format);\n    return template(customer);\n  },\n\n  /**\n   *\n   */\n  hasNoNames: function(customer){\n    return _.chain(customer)\n      .pick('first_name', 'last_name')\n      .values()\n      .compact()\n      .isEmpty()\n      .value();\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb21wb25lbnRzL2N1c3RvbWVyLXNlbGVjdC92aWV3LmpzP2RlNzEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixvQkFBb0I7QUFDcEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxxQkFBcUI7O0FBRXJCO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLG9CQUFvQixtQkFBbUI7QUFDdkMsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixZQUFZLEdBQUcsV0FBVyxJQUFJLE9BQU87O0FBRXpEO0FBQ0Esa0JBQWtCLFVBQVUsSUFBSSxPQUFPO0FBQ3ZDOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFlBQVksR0FBRyxXQUFXO0FBQzlDO0FBQ0Esa0JBQWtCLFVBQVU7QUFDNUI7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEl0ZW1WaWV3ID0gcmVxdWlyZSgnbGliL2NvbmZpZy9pdGVtLXZpZXcnKTtcbnZhciBTZWxlY3QyID0gcmVxdWlyZSgnbGliL2NvbXBvbmVudHMvc2VsZWN0Mi9iZWhhdmlvcicpO1xudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbnZhciBiYiA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG52YXIgZW50aXRpZXNDaGFubmVsID0gYmIuUmFkaW8uY2hhbm5lbCgnZW50aXRpZXMnKTtcbnZhciBoYnMgPSByZXF1aXJlKCdoYW5kbGViYXJzJyk7XG5cbi8vIFNlbGVjdCB2aWV3XG5tb2R1bGUuZXhwb3J0cyA9IEl0ZW1WaWV3LmV4dGVuZCh7XG4gIHRlbXBsYXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJzxpbnB1dCBuYW1lPVwiY3VzdG9tZXJcIiB0eXBlPVwiaGlkZGVuXCIgY2xhc3M9XCJzZWxlY3QyXCI+J1xuICB9LFxuXG4gIGJlaGF2aW9yczoge1xuICAgIFNlbGVjdDI6IHtcbiAgICAgIGJlaGF2aW9yQ2xhc3M6IFNlbGVjdDIsXG4gICAgICBtaW5pbXVtSW5wdXRMZW5ndGg6IDIsXG4gICAgICAvL2FqYXg6IHtcbiAgICAgIC8vICB1cmw6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gICAgcmV0dXJuIGVudGl0aWVzQ2hhbm5lbC5yZXF1ZXN0KCdnZXQ6b3B0aW9ucycsICdhamF4dXJsJyk7XG4gICAgICAvLyAgfSxcbiAgICAgIC8vICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgLy8gIHF1aWV0TWlsbGlzOiAyNTAsXG4gICAgICAvLyAgZGF0YTogZnVuY3Rpb24oIHRlcm0gKSB7XG4gICAgICAvLyAgICByZXR1cm4ge1xuICAgICAgLy8gICAgICB0ZXJtOiB0ZXJtLFxuICAgICAgLy8gICAgICBhY3Rpb246ICd3Y19wb3NfanNvbl9zZWFyY2hfY3VzdG9tZXJzJ1xuICAgICAgLy8gICAgfTtcbiAgICAgIC8vICB9LFxuICAgICAgLy8gIHJlc3VsdHM6IGZ1bmN0aW9uKCBkYXRhICkge1xuICAgICAgLy8gICAgdmFyIGN1c3RvbWVycyA9IFtdO1xuICAgICAgLy8gICAgXyggZGF0YSApLmVhY2goIGZ1bmN0aW9uKCBvYmogKSB7XG4gICAgICAvLyAgICAgIGN1c3RvbWVycy5wdXNoKCBvYmogKTtcbiAgICAgIC8vICAgIH0pO1xuICAgICAgLy8gICAgcmV0dXJuIHsgcmVzdWx0czogY3VzdG9tZXJzIH07XG4gICAgICAvLyAgfVxuICAgICAgLy99LFxuICAgICAgaW5pdFNlbGVjdGlvbjogZnVuY3Rpb24oIGVsZW1lbnQsIGNhbGxiYWNrICkge1xuICAgICAgICB2YXIgY3VzdG9tZXIgPSBlbnRpdGllc0NoYW5uZWwucmVxdWVzdCgnZ2V0Jywge1xuICAgICAgICAgIHR5cGU6ICdvcHRpb24nLFxuICAgICAgICAgIG5hbWU6ICdkZWZhdWx0X2N1c3RvbWVyJ1xuICAgICAgICB9KTtcbiAgICAgICAgY2FsbGJhY2soIGN1c3RvbWVyICk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIHF1ZXJ5OiBmdW5jdGlvbigpe30sXG5cbiAgZXZlbnRzOiB7XG4gICAgJ2NoYW5nZSAjc2VsZWN0LWN1c3RvbWVyJyA6ICd1cGRhdGVDdXN0b21lcidcbiAgfSxcblxuICB1cGRhdGVDdXN0b21lcjogZnVuY3Rpb24oZSkge1xuICAgIHRoaXMudHJpZ2dlciggJ2N1c3RvbWVyOnNlbGVjdCcsIGUuYWRkZWQuaWQsIHRoaXMuZm9ybWF0U2VsZWN0aW9uKCBlLmFkZGVkICkgKTtcbiAgfSxcblxuICAvKipcbiAgICogc2VsZWN0MiBxdWVyeSBmdW5jdGlvblxuICAgKiBAcGFyYW0gcXVlcnlcbiAgICovXG4gIHF1ZXJ5OiBmdW5jdGlvbiggcXVlcnkgKXtcbiAgICB2YXIgdGVybSA9IHF1ZXJ5LnRlcm0udG9Mb3dlckNhc2UoKTtcbiAgICB2YXIgY29sbGVjdGlvbiA9IHRoaXMuY3VzdG9tZXJDb2xsZWN0aW9uKCk7XG4gICAgY29sbGVjdGlvbi5maWx0ZXJCeShmdW5jdGlvbihtb2RlbCkge1xuICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBfLnBpY2soIG1vZGVsLmF0dHJpYnV0ZXMsIFsnZW1haWwnLCAnZmlyc3RfbmFtZScsICdsYXN0X25hbWUnXSApO1xuICAgICAgcmV0dXJuIF8uYW55KCBfLnZhbHVlcyggYXR0cmlidXRlcyApLCBmdW5jdGlvbiggdmFsdWUgKXtcbiAgICAgICAgLy8gbWF0Y2ggZm9yIGF0dHJpYnV0ZXMgc3RhcnRpbmcgd2l0aCBxdWVyeSB0ZXJtXG4gICAgICAgIHJldHVybiB2YWx1ZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoIHRlcm0gKSA9PT0gMDtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHZhciByZXN1bHRzID0gY29sbGVjdGlvbi50b0pTT04oKTtcbiAgICAvL3Jlc3VsdHMudW5zaGlmdCggYXBwLmdldE9wdGlvbignZGVmYXVsdF9jdXN0b21lcicpICk7XG4gICAgcXVlcnkuY2FsbGJhY2soeyByZXN1bHRzOiByZXN1bHRzIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBzZWxlY3QyIHBhcnNlIHJlc3VsdHNcbiAgICovXG4gIGZvcm1hdFJlc3VsdDogZnVuY3Rpb24oIGN1c3RvbWVyICkge1xuICAgIHZhciBmb3JtYXQgPSAne3tmaXJzdF9uYW1lfX0ge3tsYXN0X25hbWV9fSAoe3tlbWFpbH19KSc7XG5cbiAgICBpZiggdGhpcy5oYXNOb05hbWVzKGN1c3RvbWVyKSApe1xuICAgICAgZm9ybWF0ID0gJ3t7dXNlcm5hbWV9fSAoe3tlbWFpbH19KSc7XG4gICAgfVxuXG4gICAgdmFyIHRlbXBsYXRlID0gaGJzLmNvbXBpbGUoZm9ybWF0KTtcbiAgICByZXR1cm4gdGVtcGxhdGUoY3VzdG9tZXIpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBzZWxlY3QyIHBhcnNlIHNlbGVjdGlvblxuICAgKi9cbiAgZm9ybWF0U2VsZWN0aW9uOiBmdW5jdGlvbiggY3VzdG9tZXIgKSB7XG4gICAgdmFyIGZvcm1hdCA9ICd7e2ZpcnN0X25hbWV9fSB7e2xhc3RfbmFtZX19JztcbiAgICBpZiggdGhpcy5oYXNOb05hbWVzKGN1c3RvbWVyKSApe1xuICAgICAgZm9ybWF0ID0gJ3t7dXNlcm5hbWV9fSc7XG4gICAgfVxuXG4gICAgdmFyIHRlbXBsYXRlID0gaGJzLmNvbXBpbGUoZm9ybWF0KTtcbiAgICByZXR1cm4gdGVtcGxhdGUoY3VzdG9tZXIpO1xuICB9LFxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgaGFzTm9OYW1lczogZnVuY3Rpb24oY3VzdG9tZXIpe1xuICAgIHJldHVybiBfLmNoYWluKGN1c3RvbWVyKVxuICAgICAgLnBpY2soJ2ZpcnN0X25hbWUnLCAnbGFzdF9uYW1lJylcbiAgICAgIC52YWx1ZXMoKVxuICAgICAgLmNvbXBhY3QoKVxuICAgICAgLmlzRW1wdHkoKVxuICAgICAgLnZhbHVlKCk7XG4gIH1cblxufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbGliL2NvbXBvbmVudHMvY3VzdG9tZXItc2VsZWN0L3ZpZXcuanNcbiAqKiBtb2R1bGUgaWQgPSA3NlxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNzYuanMifQ==");

/***/ },
/* 77 */
/*!**************************!*\
  !*** ./~/debug/debug.js ***!
  \**************************/
/***/ function(module, exports, __webpack_require__) {

	eval("\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = debug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = __webpack_require__(/*! ms */ 90);\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lowercased letter, i.e. \"n\".\n */\n\nexports.formatters = {};\n\n/**\n * Previously assigned color.\n */\n\nvar prevColor = 0;\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n *\n * @return {Number}\n * @api private\n */\n\nfunction selectColor() {\n  return exports.colors[prevColor++ % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction debug(namespace) {\n\n  // define the `disabled` version\n  function disabled() {\n  }\n  disabled.enabled = false;\n\n  // define the `enabled` version\n  function enabled() {\n\n    var self = enabled;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // add the `color` if not set\n    if (null == self.useColors) self.useColors = exports.useColors();\n    if (null == self.color && self.useColors) self.color = selectColor();\n\n    var args = Array.prototype.slice.call(arguments);\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %o\n      args = ['%o'].concat(args);\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    if ('function' === typeof exports.formatArgs) {\n      args = exports.formatArgs.apply(self, args);\n    }\n    var logFn = enabled.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n  enabled.enabled = true;\n\n  var fn = exports.enabled(namespace) ? enabled : disabled;\n\n  fn.namespace = namespace;\n\n  return fn;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  var split = (namespaces || '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjazovLy8uL34vZGVidWcvZGVidWcuanM/YjYwNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixZQUFZO0FBQ1o7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlCQUFpQixTQUFTO0FBQzFCLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQSx5Q0FBeUMsU0FBUztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxTQUFTO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogVGhpcyBpcyB0aGUgY29tbW9uIGxvZ2ljIGZvciBib3RoIHRoZSBOb2RlLmpzIGFuZCB3ZWIgYnJvd3NlclxuICogaW1wbGVtZW50YXRpb25zIG9mIGBkZWJ1ZygpYC5cbiAqXG4gKiBFeHBvc2UgYGRlYnVnKClgIGFzIHRoZSBtb2R1bGUuXG4gKi9cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZGVidWc7XG5leHBvcnRzLmNvZXJjZSA9IGNvZXJjZTtcbmV4cG9ydHMuZGlzYWJsZSA9IGRpc2FibGU7XG5leHBvcnRzLmVuYWJsZSA9IGVuYWJsZTtcbmV4cG9ydHMuZW5hYmxlZCA9IGVuYWJsZWQ7XG5leHBvcnRzLmh1bWFuaXplID0gcmVxdWlyZSgnbXMnKTtcblxuLyoqXG4gKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBkZWJ1ZyBtb2RlIG5hbWVzLCBhbmQgbmFtZXMgdG8gc2tpcC5cbiAqL1xuXG5leHBvcnRzLm5hbWVzID0gW107XG5leHBvcnRzLnNraXBzID0gW107XG5cbi8qKlxuICogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuICpcbiAqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyY2FzZWQgbGV0dGVyLCBpLmUuIFwiblwiLlxuICovXG5cbmV4cG9ydHMuZm9ybWF0dGVycyA9IHt9O1xuXG4vKipcbiAqIFByZXZpb3VzbHkgYXNzaWduZWQgY29sb3IuXG4gKi9cblxudmFyIHByZXZDb2xvciA9IDA7XG5cbi8qKlxuICogUHJldmlvdXMgbG9nIHRpbWVzdGFtcC5cbiAqL1xuXG52YXIgcHJldlRpbWU7XG5cbi8qKlxuICogU2VsZWN0IGEgY29sb3IuXG4gKlxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gc2VsZWN0Q29sb3IoKSB7XG4gIHJldHVybiBleHBvcnRzLmNvbG9yc1twcmV2Q29sb3IrKyAlIGV4cG9ydHMuY29sb3JzLmxlbmd0aF07XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgZGVidWdnZXIgd2l0aCB0aGUgZ2l2ZW4gYG5hbWVzcGFjZWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGRlYnVnKG5hbWVzcGFjZSkge1xuXG4gIC8vIGRlZmluZSB0aGUgYGRpc2FibGVkYCB2ZXJzaW9uXG4gIGZ1bmN0aW9uIGRpc2FibGVkKCkge1xuICB9XG4gIGRpc2FibGVkLmVuYWJsZWQgPSBmYWxzZTtcblxuICAvLyBkZWZpbmUgdGhlIGBlbmFibGVkYCB2ZXJzaW9uXG4gIGZ1bmN0aW9uIGVuYWJsZWQoKSB7XG5cbiAgICB2YXIgc2VsZiA9IGVuYWJsZWQ7XG5cbiAgICAvLyBzZXQgYGRpZmZgIHRpbWVzdGFtcFxuICAgIHZhciBjdXJyID0gK25ldyBEYXRlKCk7XG4gICAgdmFyIG1zID0gY3VyciAtIChwcmV2VGltZSB8fCBjdXJyKTtcbiAgICBzZWxmLmRpZmYgPSBtcztcbiAgICBzZWxmLnByZXYgPSBwcmV2VGltZTtcbiAgICBzZWxmLmN1cnIgPSBjdXJyO1xuICAgIHByZXZUaW1lID0gY3VycjtcblxuICAgIC8vIGFkZCB0aGUgYGNvbG9yYCBpZiBub3Qgc2V0XG4gICAgaWYgKG51bGwgPT0gc2VsZi51c2VDb2xvcnMpIHNlbGYudXNlQ29sb3JzID0gZXhwb3J0cy51c2VDb2xvcnMoKTtcbiAgICBpZiAobnVsbCA9PSBzZWxmLmNvbG9yICYmIHNlbGYudXNlQ29sb3JzKSBzZWxmLmNvbG9yID0gc2VsZWN0Q29sb3IoKTtcblxuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblxuICAgIGFyZ3NbMF0gPSBleHBvcnRzLmNvZXJjZShhcmdzWzBdKTtcblxuICAgIGlmICgnc3RyaW5nJyAhPT0gdHlwZW9mIGFyZ3NbMF0pIHtcbiAgICAgIC8vIGFueXRoaW5nIGVsc2UgbGV0J3MgaW5zcGVjdCB3aXRoICVvXG4gICAgICBhcmdzID0gWyclbyddLmNvbmNhdChhcmdzKTtcbiAgICB9XG5cbiAgICAvLyBhcHBseSBhbnkgYGZvcm1hdHRlcnNgIHRyYW5zZm9ybWF0aW9uc1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgYXJnc1swXSA9IGFyZ3NbMF0ucmVwbGFjZSgvJShbYS16JV0pL2csIGZ1bmN0aW9uKG1hdGNoLCBmb3JtYXQpIHtcbiAgICAgIC8vIGlmIHdlIGVuY291bnRlciBhbiBlc2NhcGVkICUgdGhlbiBkb24ndCBpbmNyZWFzZSB0aGUgYXJyYXkgaW5kZXhcbiAgICAgIGlmIChtYXRjaCA9PT0gJyUlJykgcmV0dXJuIG1hdGNoO1xuICAgICAgaW5kZXgrKztcbiAgICAgIHZhciBmb3JtYXR0ZXIgPSBleHBvcnRzLmZvcm1hdHRlcnNbZm9ybWF0XTtcbiAgICAgIGlmICgnZnVuY3Rpb24nID09PSB0eXBlb2YgZm9ybWF0dGVyKSB7XG4gICAgICAgIHZhciB2YWwgPSBhcmdzW2luZGV4XTtcbiAgICAgICAgbWF0Y2ggPSBmb3JtYXR0ZXIuY2FsbChzZWxmLCB2YWwpO1xuXG4gICAgICAgIC8vIG5vdyB3ZSBuZWVkIHRvIHJlbW92ZSBgYXJnc1tpbmRleF1gIHNpbmNlIGl0J3MgaW5saW5lZCBpbiB0aGUgYGZvcm1hdGBcbiAgICAgICAgYXJncy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICBpbmRleC0tO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH0pO1xuXG4gICAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBleHBvcnRzLmZvcm1hdEFyZ3MpIHtcbiAgICAgIGFyZ3MgPSBleHBvcnRzLmZvcm1hdEFyZ3MuYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgfVxuICAgIHZhciBsb2dGbiA9IGVuYWJsZWQubG9nIHx8IGV4cG9ydHMubG9nIHx8IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7XG4gICAgbG9nRm4uYXBwbHkoc2VsZiwgYXJncyk7XG4gIH1cbiAgZW5hYmxlZC5lbmFibGVkID0gdHJ1ZTtcblxuICB2YXIgZm4gPSBleHBvcnRzLmVuYWJsZWQobmFtZXNwYWNlKSA/IGVuYWJsZWQgOiBkaXNhYmxlZDtcblxuICBmbi5uYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG5cbiAgcmV0dXJuIGZuO1xufVxuXG4vKipcbiAqIEVuYWJsZXMgYSBkZWJ1ZyBtb2RlIGJ5IG5hbWVzcGFjZXMuIFRoaXMgY2FuIGluY2x1ZGUgbW9kZXNcbiAqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcbiAgZXhwb3J0cy5zYXZlKG5hbWVzcGFjZXMpO1xuXG4gIHZhciBzcGxpdCA9IChuYW1lc3BhY2VzIHx8ICcnKS5zcGxpdCgvW1xccyxdKy8pO1xuICB2YXIgbGVuID0gc3BsaXQubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoIXNwbGl0W2ldKSBjb250aW51ZTsgLy8gaWdub3JlIGVtcHR5IHN0cmluZ3NcbiAgICBuYW1lc3BhY2VzID0gc3BsaXRbaV0ucmVwbGFjZSgvXFwqL2csICcuKj8nKTtcbiAgICBpZiAobmFtZXNwYWNlc1swXSA9PT0gJy0nKSB7XG4gICAgICBleHBvcnRzLnNraXBzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzLnN1YnN0cigxKSArICckJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleHBvcnRzLm5hbWVzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzICsgJyQnKSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRGlzYWJsZSBkZWJ1ZyBvdXRwdXQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBkaXNhYmxlKCkge1xuICBleHBvcnRzLmVuYWJsZSgnJyk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBtb2RlIG5hbWUgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBlbmFibGVkKG5hbWUpIHtcbiAgdmFyIGksIGxlbjtcbiAgZm9yIChpID0gMCwgbGVuID0gZXhwb3J0cy5za2lwcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChleHBvcnRzLnNraXBzW2ldLnRlc3QobmFtZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgZm9yIChpID0gMCwgbGVuID0gZXhwb3J0cy5uYW1lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChleHBvcnRzLm5hbWVzW2ldLnRlc3QobmFtZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQ29lcmNlIGB2YWxgLlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IHZhbFxuICogQHJldHVybiB7TWl4ZWR9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBjb2VyY2UodmFsKSB7XG4gIGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIHZhbC5zdGFjayB8fCB2YWwubWVzc2FnZTtcbiAgcmV0dXJuIHZhbDtcbn1cblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2RlYnVnL2RlYnVnLmpzXG4gKiogbW9kdWxlIGlkID0gNzdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyXG4gKiovXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjazovLy8uL34vZGVidWcvZGVidWcuanM/Y2QxMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6Ijc3LmpzIn0=");

/***/ },
/* 78 */,
/* 79 */
/*!************************************!*\
  !*** ./~/lib/config/dual-model.js ***!
  \************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Backbone = __webpack_require__(/*! backbone */ 2);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\n\nmodule.exports = POS.DualModel = Backbone.DualModel.extend({\n  idAttribute: 'local_id',\n  remoteIdAttribute: 'id',\n  fields: ['title'],\n  parse: function (resp) {\n    return resp[this.name] ? resp[this.name] : resp ;\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvZHVhbC1tb2RlbC5qcz85ZGI0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEJhY2tib25lID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBQT1MgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL2dsb2JhbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBPUy5EdWFsTW9kZWwgPSBCYWNrYm9uZS5EdWFsTW9kZWwuZXh0ZW5kKHtcbiAgaWRBdHRyaWJ1dGU6ICdsb2NhbF9pZCcsXG4gIHJlbW90ZUlkQXR0cmlidXRlOiAnaWQnLFxuICBmaWVsZHM6IFsndGl0bGUnXSxcbiAgcGFyc2U6IGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgcmV0dXJuIHJlc3BbdGhpcy5uYW1lXSA/IHJlc3BbdGhpcy5uYW1lXSA6IHJlc3AgO1xuICB9XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9saWIvY29uZmlnL2R1YWwtbW9kZWwuanNcbiAqKiBtb2R1bGUgaWQgPSA3OVxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNzkuanMifQ==");

/***/ },
/* 80 */
/*!**********************************!*\
  !*** ./~/lib/config/behavior.js ***!
  \**********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\n\nmodule.exports = POS.Behavior =bb.Marionette.Behavior;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvYmVoYXZpb3IuanM/MjRjNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGJiID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBQT1MgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL2dsb2JhbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBPUy5CZWhhdmlvciA9YmIuTWFyaW9uZXR0ZS5CZWhhdmlvcjtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9saWIvY29uZmlnL2JlaGF2aW9yLmpzXG4gKiogbW9kdWxlIGlkID0gODBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjgwLmpzIn0=");

/***/ },
/* 81 */
/*!*****************************************!*\
  !*** ./~/lib/config/collection-view.js ***!
  \*****************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\n\nmodule.exports = POS.CollectionView = bb.Marionette.CollectionView;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvY29sbGVjdGlvbi12aWV3LmpzP2JiZjEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQSIsInNvdXJjZXNDb250ZW50IjpbInZhciBiYiA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG52YXIgUE9TID0gcmVxdWlyZSgnbGliL3V0aWxpdGllcy9nbG9iYWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBQT1MuQ29sbGVjdGlvblZpZXcgPSBiYi5NYXJpb25ldHRlLkNvbGxlY3Rpb25WaWV3O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xpYi9jb25maWcvY29sbGVjdGlvbi12aWV3LmpzXG4gKiogbW9kdWxlIGlkID0gODFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjgxLmpzIn0=");

/***/ },
/* 82 */
/*!*********************************************!*\
  !*** ./~/lib/components/filter/behavior.js ***!
  \*********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Behavior = __webpack_require__(/*! lib/config/behavior */ 80);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\n\nmodule.exports = POS.Behaviors.Filter = Behavior.extend({\n\n  ui: {\n    searchField : 'input[type=search]',\n    clearBtn  : 'a.clear'\n  },\n\n  events: {\n    'keyup @ui.searchField' : 'query',\n    'click @ui.clearBtn'    : 'clear'\n  },\n\n  query: _.debounce( function(){\n    var value = this.ui.searchField.val();\n    this.showClearButtonMaybe( value );\n    this.view.trigger( 'search:query', value );\n  }, 149),\n\n  // clear the filter\n  clear: function(e) {\n    e.preventDefault();\n    this.view.collection.removeFilter('search');\n    this.ui.searchField.val('');\n    this.showClearButtonMaybe('');\n  },\n\n  showClearButtonMaybe: function( value ) {\n    if( _.isEmpty( value ) ) {\n      this.ui.clearBtn.hide();\n    } else {\n      this.ui.clearBtn.show();\n    }\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb21wb25lbnRzL2ZpbHRlci9iZWhhdmlvci5qcz9lZTFlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEJlaGF2aW9yID0gcmVxdWlyZSgnbGliL2NvbmZpZy9iZWhhdmlvcicpO1xudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbnZhciBQT1MgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL2dsb2JhbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBPUy5CZWhhdmlvcnMuRmlsdGVyID0gQmVoYXZpb3IuZXh0ZW5kKHtcblxuICB1aToge1xuICAgIHNlYXJjaEZpZWxkIDogJ2lucHV0W3R5cGU9c2VhcmNoXScsXG4gICAgY2xlYXJCdG4gIDogJ2EuY2xlYXInXG4gIH0sXG5cbiAgZXZlbnRzOiB7XG4gICAgJ2tleXVwIEB1aS5zZWFyY2hGaWVsZCcgOiAncXVlcnknLFxuICAgICdjbGljayBAdWkuY2xlYXJCdG4nICAgIDogJ2NsZWFyJ1xuICB9LFxuXG4gIHF1ZXJ5OiBfLmRlYm91bmNlKCBmdW5jdGlvbigpe1xuICAgIHZhciB2YWx1ZSA9IHRoaXMudWkuc2VhcmNoRmllbGQudmFsKCk7XG4gICAgdGhpcy5zaG93Q2xlYXJCdXR0b25NYXliZSggdmFsdWUgKTtcbiAgICB0aGlzLnZpZXcudHJpZ2dlciggJ3NlYXJjaDpxdWVyeScsIHZhbHVlICk7XG4gIH0sIDE0OSksXG5cbiAgLy8gY2xlYXIgdGhlIGZpbHRlclxuICBjbGVhcjogZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnZpZXcuY29sbGVjdGlvbi5yZW1vdmVGaWx0ZXIoJ3NlYXJjaCcpO1xuICAgIHRoaXMudWkuc2VhcmNoRmllbGQudmFsKCcnKTtcbiAgICB0aGlzLnNob3dDbGVhckJ1dHRvbk1heWJlKCcnKTtcbiAgfSxcblxuICBzaG93Q2xlYXJCdXR0b25NYXliZTogZnVuY3Rpb24oIHZhbHVlICkge1xuICAgIGlmKCBfLmlzRW1wdHkoIHZhbHVlICkgKSB7XG4gICAgICB0aGlzLnVpLmNsZWFyQnRuLmhpZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51aS5jbGVhckJ0bi5zaG93KCk7XG4gICAgfVxuICB9XG5cbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xpYi9jb21wb25lbnRzL2ZpbHRlci9iZWhhdmlvci5qc1xuICoqIG1vZHVsZSBpZCA9IDgyXG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI4Mi5qcyJ9");

/***/ },
/* 83 */
/*!*******************************************!*\
  !*** ./~/lib/components/tabs/entities.js ***!
  \*******************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Model = __webpack_require__(/*! lib/config/model */ 64);\nvar Collection = __webpack_require__(/*! lib/config/collection */ 60);\nvar _ = __webpack_require__(/*! lodash */ 1);\n\nvar Tab = Model.extend({\n  defaults: {\n    label: '&nbsp;',\n    value: '',\n    active: false,\n    fixed: true\n  },\n  idAttribute: 'value'\n});\n\nvar Tabs = Collection.extend({\n  model: Tab,\n  initialize: function() {\n    this.on( 'remove', this.onRemove );\n    this.on( 'change:active', this.onChangeActive );\n  },\n\n  onRemove: function() {\n    var activeTabs = _.compact( this.pluck('active') );\n    if( _.isEmpty( activeTabs ) ) {\n      this.first().set({ active: true });\n    }\n  },\n\n  onChangeActive: function(model) {\n    this.each( function(tab) {\n      if( model.id !== tab.id ) {\n        tab.set( { active: false }, { silent: true } );\n      }\n    });\n  }\n\n});\n\nmodule.exports = Tabs;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb21wb25lbnRzL3RhYnMvZW50aXRpZXMuanM/MmZlYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixlQUFlO0FBQ3ZDO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsZ0JBQWdCLEdBQUcsZUFBZTtBQUNwRDtBQUNBLEtBQUs7QUFDTDs7QUFFQSxDQUFDOztBQUVEIiwic291cmNlc0NvbnRlbnQiOlsidmFyIE1vZGVsID0gcmVxdWlyZSgnbGliL2NvbmZpZy9tb2RlbCcpO1xudmFyIENvbGxlY3Rpb24gPSByZXF1aXJlKCdsaWIvY29uZmlnL2NvbGxlY3Rpb24nKTtcbnZhciBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbnZhciBUYWIgPSBNb2RlbC5leHRlbmQoe1xuICBkZWZhdWx0czoge1xuICAgIGxhYmVsOiAnJm5ic3A7JyxcbiAgICB2YWx1ZTogJycsXG4gICAgYWN0aXZlOiBmYWxzZSxcbiAgICBmaXhlZDogdHJ1ZVxuICB9LFxuICBpZEF0dHJpYnV0ZTogJ3ZhbHVlJ1xufSk7XG5cbnZhciBUYWJzID0gQ29sbGVjdGlvbi5leHRlbmQoe1xuICBtb2RlbDogVGFiLFxuICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm9uKCAncmVtb3ZlJywgdGhpcy5vblJlbW92ZSApO1xuICAgIHRoaXMub24oICdjaGFuZ2U6YWN0aXZlJywgdGhpcy5vbkNoYW5nZUFjdGl2ZSApO1xuICB9LFxuXG4gIG9uUmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYWN0aXZlVGFicyA9IF8uY29tcGFjdCggdGhpcy5wbHVjaygnYWN0aXZlJykgKTtcbiAgICBpZiggXy5pc0VtcHR5KCBhY3RpdmVUYWJzICkgKSB7XG4gICAgICB0aGlzLmZpcnN0KCkuc2V0KHsgYWN0aXZlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSxcblxuICBvbkNoYW5nZUFjdGl2ZTogZnVuY3Rpb24obW9kZWwpIHtcbiAgICB0aGlzLmVhY2goIGZ1bmN0aW9uKHRhYikge1xuICAgICAgaWYoIG1vZGVsLmlkICE9PSB0YWIuaWQgKSB7XG4gICAgICAgIHRhYi5zZXQoIHsgYWN0aXZlOiBmYWxzZSB9LCB7IHNpbGVudDogdHJ1ZSB9ICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gVGFicztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9saWIvY29tcG9uZW50cy90YWJzL2VudGl0aWVzLmpzXG4gKiogbW9kdWxlIGlkID0gODNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjgzLmpzIn0=");

/***/ },
/* 84 */
/*!**********************************************!*\
  !*** ./~/apps/pos/cart/views/line/layout.js ***!
  \**********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var LayoutView = __webpack_require__(/*! lib/config/layout-view */ 52);\nvar ItemView = __webpack_require__(/*! ./item */ 88);\nvar DrawerView = __webpack_require__(/*! ./drawer */ 89);\nvar bb = __webpack_require__(/*! backbone */ 2);\n\nmodule.exports = LayoutView.extend({\n  tagName: 'li',\n  className: function() { return this.model.get('type'); },\n  template: function() {\n    return '<div class=\"item\"></div><div class=\"drawer\"></div>';\n  },\n  regions: {\n    itemRegion: '.item',\n    drawerRegion: '.drawer'\n  },\n\n  modelEvents: {\n    'focus:row': 'focusRow'\n  },\n\n  onRender: function(){\n    var view = new ItemView({ model: this.model });\n\n    this.listenTo( view, 'drawer:open', this.openDrawer );\n    this.listenTo( view, 'drawer:close', this.closeDrawer );\n    this.listenTo( view, 'drawer:toggle', this.toggleDrawer );\n\n    this.itemRegion.show(view);\n\n    this.listenToOnce(\n      this.itemRegion.currentView,\n      'animation:finished',\n      function(){\n        bb.Marionette.ItemView.prototype.remove.call(this);\n      }\n    );\n  },\n\n  // remove is triggered once item has finished animating\n  remove: function(){},\n\n  openDrawer: function(){\n    var view = new DrawerView({ model: this.model });\n    this.drawerRegion.show(view);\n    this.$el.addClass('drawer-open');\n  },\n\n  closeDrawer: function(){\n    this.drawerRegion.empty();\n    this.$el.removeClass('drawer-open');\n  },\n\n  toggleDrawer: function(){\n    if( this.drawerRegion.hasView() ){\n      this.closeDrawer();\n    } else {\n      this.openDrawer();\n    }\n  },\n\n  focusRow: function() {\n    var self = this,\n        list        = this.$el.closest('.list'),\n        scrollTop   = list.scrollTop(),\n        listTop     = list.position().top,\n        listBottom  = list.height() + listTop,\n        itemTop     = this.$el.position().top,\n        itemBottom  = this.$el.height() + itemTop,\n        type        = self.model.get( 'type' );\n\n    if( itemTop < listTop ) {\n      scrollTop -= ( listTop - itemTop );\n    }\n\n    if( itemBottom > listBottom ) {\n      scrollTop += ( itemTop - list.height() + 4 );\n    }\n\n    // scroll to row\n    this.$el.addClass('bg-success')\n      .closest('.list')\n      .animate({scrollTop: scrollTop}, 'fast', function() {\n        // focus title if shipping or fee\n        if( type === 'fee' || type === 'shipping' ) {\n          self.$('.title strong.action-edit-title').focus();\n        }\n\n        // pulse\n        self.$el.animate({backgroundColor: 'transparent'}, 500, function() {\n          self.$el.removeClass('bg-success').removeAttr('style');\n        });\n      }\n    );\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL2NhcnQvdmlld3MvbGluZS9sYXlvdXQuanM/ZTkyZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EseUJBQXlCLCtCQUErQixFQUFFO0FBQzFEO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDZCQUE2QixvQkFBb0I7O0FBRWpEO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxzQkFBc0I7O0FBRXRCO0FBQ0EsK0JBQStCLG9CQUFvQjtBQUNuRDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscUJBQXFCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEJBQTBCLCtCQUErQjtBQUN6RDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIExheW91dFZpZXcgPSByZXF1aXJlKCdsaWIvY29uZmlnL2xheW91dC12aWV3Jyk7XG52YXIgSXRlbVZpZXcgPSByZXF1aXJlKCcuL2l0ZW0nKTtcbnZhciBEcmF3ZXJWaWV3ID0gcmVxdWlyZSgnLi9kcmF3ZXInKTtcbnZhciBiYiA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gTGF5b3V0Vmlldy5leHRlbmQoe1xuICB0YWdOYW1lOiAnbGknLFxuICBjbGFzc05hbWU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5tb2RlbC5nZXQoJ3R5cGUnKTsgfSxcbiAgdGVtcGxhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAnPGRpdiBjbGFzcz1cIml0ZW1cIj48L2Rpdj48ZGl2IGNsYXNzPVwiZHJhd2VyXCI+PC9kaXY+JztcbiAgfSxcbiAgcmVnaW9uczoge1xuICAgIGl0ZW1SZWdpb246ICcuaXRlbScsXG4gICAgZHJhd2VyUmVnaW9uOiAnLmRyYXdlcidcbiAgfSxcblxuICBtb2RlbEV2ZW50czoge1xuICAgICdmb2N1czpyb3cnOiAnZm9jdXNSb3cnXG4gIH0sXG5cbiAgb25SZW5kZXI6IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHZpZXcgPSBuZXcgSXRlbVZpZXcoeyBtb2RlbDogdGhpcy5tb2RlbCB9KTtcblxuICAgIHRoaXMubGlzdGVuVG8oIHZpZXcsICdkcmF3ZXI6b3BlbicsIHRoaXMub3BlbkRyYXdlciApO1xuICAgIHRoaXMubGlzdGVuVG8oIHZpZXcsICdkcmF3ZXI6Y2xvc2UnLCB0aGlzLmNsb3NlRHJhd2VyICk7XG4gICAgdGhpcy5saXN0ZW5UbyggdmlldywgJ2RyYXdlcjp0b2dnbGUnLCB0aGlzLnRvZ2dsZURyYXdlciApO1xuXG4gICAgdGhpcy5pdGVtUmVnaW9uLnNob3codmlldyk7XG5cbiAgICB0aGlzLmxpc3RlblRvT25jZShcbiAgICAgIHRoaXMuaXRlbVJlZ2lvbi5jdXJyZW50VmlldyxcbiAgICAgICdhbmltYXRpb246ZmluaXNoZWQnLFxuICAgICAgZnVuY3Rpb24oKXtcbiAgICAgICAgYmIuTWFyaW9uZXR0ZS5JdGVtVmlldy5wcm90b3R5cGUucmVtb3ZlLmNhbGwodGhpcyk7XG4gICAgICB9XG4gICAgKTtcbiAgfSxcblxuICAvLyByZW1vdmUgaXMgdHJpZ2dlcmVkIG9uY2UgaXRlbSBoYXMgZmluaXNoZWQgYW5pbWF0aW5nXG4gIHJlbW92ZTogZnVuY3Rpb24oKXt9LFxuXG4gIG9wZW5EcmF3ZXI6IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHZpZXcgPSBuZXcgRHJhd2VyVmlldyh7IG1vZGVsOiB0aGlzLm1vZGVsIH0pO1xuICAgIHRoaXMuZHJhd2VyUmVnaW9uLnNob3codmlldyk7XG4gICAgdGhpcy4kZWwuYWRkQ2xhc3MoJ2RyYXdlci1vcGVuJyk7XG4gIH0sXG5cbiAgY2xvc2VEcmF3ZXI6IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5kcmF3ZXJSZWdpb24uZW1wdHkoKTtcbiAgICB0aGlzLiRlbC5yZW1vdmVDbGFzcygnZHJhd2VyLW9wZW4nKTtcbiAgfSxcblxuICB0b2dnbGVEcmF3ZXI6IGZ1bmN0aW9uKCl7XG4gICAgaWYoIHRoaXMuZHJhd2VyUmVnaW9uLmhhc1ZpZXcoKSApe1xuICAgICAgdGhpcy5jbG9zZURyYXdlcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9wZW5EcmF3ZXIoKTtcbiAgICB9XG4gIH0sXG5cbiAgZm9jdXNSb3c6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgbGlzdCAgICAgICAgPSB0aGlzLiRlbC5jbG9zZXN0KCcubGlzdCcpLFxuICAgICAgICBzY3JvbGxUb3AgICA9IGxpc3Quc2Nyb2xsVG9wKCksXG4gICAgICAgIGxpc3RUb3AgICAgID0gbGlzdC5wb3NpdGlvbigpLnRvcCxcbiAgICAgICAgbGlzdEJvdHRvbSAgPSBsaXN0LmhlaWdodCgpICsgbGlzdFRvcCxcbiAgICAgICAgaXRlbVRvcCAgICAgPSB0aGlzLiRlbC5wb3NpdGlvbigpLnRvcCxcbiAgICAgICAgaXRlbUJvdHRvbSAgPSB0aGlzLiRlbC5oZWlnaHQoKSArIGl0ZW1Ub3AsXG4gICAgICAgIHR5cGUgICAgICAgID0gc2VsZi5tb2RlbC5nZXQoICd0eXBlJyApO1xuXG4gICAgaWYoIGl0ZW1Ub3AgPCBsaXN0VG9wICkge1xuICAgICAgc2Nyb2xsVG9wIC09ICggbGlzdFRvcCAtIGl0ZW1Ub3AgKTtcbiAgICB9XG5cbiAgICBpZiggaXRlbUJvdHRvbSA+IGxpc3RCb3R0b20gKSB7XG4gICAgICBzY3JvbGxUb3AgKz0gKCBpdGVtVG9wIC0gbGlzdC5oZWlnaHQoKSArIDQgKTtcbiAgICB9XG5cbiAgICAvLyBzY3JvbGwgdG8gcm93XG4gICAgdGhpcy4kZWwuYWRkQ2xhc3MoJ2JnLXN1Y2Nlc3MnKVxuICAgICAgLmNsb3Nlc3QoJy5saXN0JylcbiAgICAgIC5hbmltYXRlKHtzY3JvbGxUb3A6IHNjcm9sbFRvcH0sICdmYXN0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIGZvY3VzIHRpdGxlIGlmIHNoaXBwaW5nIG9yIGZlZVxuICAgICAgICBpZiggdHlwZSA9PT0gJ2ZlZScgfHwgdHlwZSA9PT0gJ3NoaXBwaW5nJyApIHtcbiAgICAgICAgICBzZWxmLiQoJy50aXRsZSBzdHJvbmcuYWN0aW9uLWVkaXQtdGl0bGUnKS5mb2N1cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcHVsc2VcbiAgICAgICAgc2VsZi4kZWwuYW5pbWF0ZSh7YmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnfSwgNTAwLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLiRlbC5yZW1vdmVDbGFzcygnYmctc3VjY2VzcycpLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICk7XG4gIH1cbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FwcHMvcG9zL2NhcnQvdmlld3MvbGluZS9sYXlvdXQuanNcbiAqKiBtb2R1bGUgaWQgPSA4NFxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiODQuanMifQ==");

/***/ },
/* 85 */
/*!***********************************************!*\
  !*** ./~/lib/components/autogrow/behavior.js ***!
  \***********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Behavior = __webpack_require__(/*! lib/config/behavior */ 80);\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\n\nmodule.exports = POS.Behaviors.AutoGrow = Behavior.extend({\n\n  initialize: function(options){\n    this.options = options || (options = {});\n    _.defaults(this.options, {\n      padding: 20\n    });\n\n    this.tester = $('#autogrow-tester');\n    if( this.tester.length === 0 ) {\n      this.tester = $('<div id=\"autogrow-tester\" />')\n        .css({\n          opacity     : 0,\n          top         : -9999,\n          left        : -9999,\n          position    : 'absolute',\n          whiteSpace  : 'nowrap'\n        });\n      $('body').append(this.tester);\n    }\n\n    this.listenTo( this.view, 'show render', this.autoGrowEach );\n  },\n\n  ui: {\n    input: '.autogrow'\n  },\n\n  events: {\n    'input @ui.input' : 'autoGrow'\n  },\n\n  autoGrowEach: function() {\n    _.each( this.ui.input, function( input ) {\n      this.autoGrow( $(input) );\n    }, this);\n  },\n\n  autoGrow: function( e ) {\n    var input = e.target ? $(e.target) : e ;\n    var value = input.val();\n\n    value = value.replace(/&/g, '&amp;')\n      .replace(/\\s/g,'&nbsp;')\n      .replace(/</g, '&lt;')\n      .replace(/>/g, '&gt;');\n\n    this.tester.html(value);\n    var width = this.tester.width() + this.options.padding;\n    input.css({ width: width });\n\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb21wb25lbnRzL2F1dG9ncm93L2JlaGF2aW9yLmpzPzg5YjIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQSxzQ0FBc0M7QUFDdEMsNEJBQTRCO0FBQzVCLDBCQUEwQjtBQUMxQiwwQkFBMEI7O0FBRTFCO0FBQ0E7QUFDQSxlQUFlLGVBQWU7O0FBRTlCOztBQUVBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQmVoYXZpb3IgPSByZXF1aXJlKCdsaWIvY29uZmlnL2JlaGF2aW9yJyk7XG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbnZhciBQT1MgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL2dsb2JhbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBPUy5CZWhhdmlvcnMuQXV0b0dyb3cgPSBCZWhhdmlvci5leHRlbmQoe1xuXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMpe1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gICAgXy5kZWZhdWx0cyh0aGlzLm9wdGlvbnMsIHtcbiAgICAgIHBhZGRpbmc6IDIwXG4gICAgfSk7XG5cbiAgICB0aGlzLnRlc3RlciA9ICQoJyNhdXRvZ3Jvdy10ZXN0ZXInKTtcbiAgICBpZiggdGhpcy50ZXN0ZXIubGVuZ3RoID09PSAwICkge1xuICAgICAgdGhpcy50ZXN0ZXIgPSAkKCc8ZGl2IGlkPVwiYXV0b2dyb3ctdGVzdGVyXCIgLz4nKVxuICAgICAgICAuY3NzKHtcbiAgICAgICAgICBvcGFjaXR5ICAgICA6IDAsXG4gICAgICAgICAgdG9wICAgICAgICAgOiAtOTk5OSxcbiAgICAgICAgICBsZWZ0ICAgICAgICA6IC05OTk5LFxuICAgICAgICAgIHBvc2l0aW9uICAgIDogJ2Fic29sdXRlJyxcbiAgICAgICAgICB3aGl0ZVNwYWNlICA6ICdub3dyYXAnXG4gICAgICAgIH0pO1xuICAgICAgJCgnYm9keScpLmFwcGVuZCh0aGlzLnRlc3Rlcik7XG4gICAgfVxuXG4gICAgdGhpcy5saXN0ZW5UbyggdGhpcy52aWV3LCAnc2hvdyByZW5kZXInLCB0aGlzLmF1dG9Hcm93RWFjaCApO1xuICB9LFxuXG4gIHVpOiB7XG4gICAgaW5wdXQ6ICcuYXV0b2dyb3cnXG4gIH0sXG5cbiAgZXZlbnRzOiB7XG4gICAgJ2lucHV0IEB1aS5pbnB1dCcgOiAnYXV0b0dyb3cnXG4gIH0sXG5cbiAgYXV0b0dyb3dFYWNoOiBmdW5jdGlvbigpIHtcbiAgICBfLmVhY2goIHRoaXMudWkuaW5wdXQsIGZ1bmN0aW9uKCBpbnB1dCApIHtcbiAgICAgIHRoaXMuYXV0b0dyb3coICQoaW5wdXQpICk7XG4gICAgfSwgdGhpcyk7XG4gIH0sXG5cbiAgYXV0b0dyb3c6IGZ1bmN0aW9uKCBlICkge1xuICAgIHZhciBpbnB1dCA9IGUudGFyZ2V0ID8gJChlLnRhcmdldCkgOiBlIDtcbiAgICB2YXIgdmFsdWUgPSBpbnB1dC52YWwoKTtcblxuICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuICAgICAgLnJlcGxhY2UoL1xccy9nLCcmbmJzcDsnKVxuICAgICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKTtcblxuICAgIHRoaXMudGVzdGVyLmh0bWwodmFsdWUpO1xuICAgIHZhciB3aWR0aCA9IHRoaXMudGVzdGVyLndpZHRoKCkgKyB0aGlzLm9wdGlvbnMucGFkZGluZztcbiAgICBpbnB1dC5jc3MoeyB3aWR0aDogd2lkdGggfSk7XG5cbiAgfVxuXG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9saWIvY29tcG9uZW50cy9hdXRvZ3Jvdy9iZWhhdmlvci5qc1xuICoqIG1vZHVsZSBpZCA9IDg1XG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI4NS5qcyJ9");

/***/ },
/* 86 */
/*!*********************************************!*\
  !*** ./~/lib/components/numpad/behavior.js ***!
  \*********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Behavior = __webpack_require__(/*! lib/config/behavior */ 80);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\n\n/**\n * Numpad behavior\n */\nmodule.exports = POS.Behaviors.Numpad = Behavior.extend({\n  //\n  //initialize: function( options ) {\n  //\n  //},\n  //\n  //ui: {\n  //  input: '*[data-numpad]'\n  //},\n  //\n  //events: {\n  //  'show:numpad'     : 'numpadPopover',\n  //  'click @ui.input'   : 'numpadPopover',\n  //  'keydown @ui.input' : 'onBeforeDestroy'\n  //},\n  //\n  //onShow: function() {\n  //  if(Modernizr.touch) {\n  //    this.$('*[data-numpad]').attr('readonly', true);\n  //  }\n  //},\n  //\n  //numpadPopover: function(e) {\n  //\n  //  // select the target element\n  //  $(e.target).select();\n  //\n  //  // bail if popover is already open\n  //  if( $(e.target).attr('aria-describedby') ) {\n  //    return;\n  //  }\n  //\n  //  // nuke any open numpads\n  //  $('*[data-numpad]').trigger( 'close:popover' );\n  //\n  //  // open popover\n  //  Numpad.channel.command( 'show:popover', { target: $(e.target) } );\n  //\n  //  // on numpad return, close numpad and update value\n  //  $(e.target).on( 'numpad:return', function( e, value ) {\n  //    $(this).trigger( 'close:popover' );\n  //    //var enter = $.Event( 'keypress', { which: 13 } );\n  //    $(this).val( value ).trigger( 'blur' );\n  //  });\n  //\n  //},\n  //\n  //onBeforeDestroy: function() {\n  //  this.view.$('*[data-numpad]').trigger( 'close:popover' );\n  //}\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb21wb25lbnRzL251bXBhZC9iZWhhdmlvci5qcz85YWJlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0Msc0JBQXNCO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLFlBQVk7QUFDeEQ7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBCZWhhdmlvciA9IHJlcXVpcmUoJ2xpYi9jb25maWcvYmVoYXZpb3InKTtcbnZhciBQT1MgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL2dsb2JhbCcpO1xuXG4vKipcbiAqIE51bXBhZCBiZWhhdmlvclxuICovXG5tb2R1bGUuZXhwb3J0cyA9IFBPUy5CZWhhdmlvcnMuTnVtcGFkID0gQmVoYXZpb3IuZXh0ZW5kKHtcbiAgLy9cbiAgLy9pbml0aWFsaXplOiBmdW5jdGlvbiggb3B0aW9ucyApIHtcbiAgLy9cbiAgLy99LFxuICAvL1xuICAvL3VpOiB7XG4gIC8vICBpbnB1dDogJypbZGF0YS1udW1wYWRdJ1xuICAvL30sXG4gIC8vXG4gIC8vZXZlbnRzOiB7XG4gIC8vICAnc2hvdzpudW1wYWQnICAgICA6ICdudW1wYWRQb3BvdmVyJyxcbiAgLy8gICdjbGljayBAdWkuaW5wdXQnICAgOiAnbnVtcGFkUG9wb3ZlcicsXG4gIC8vICAna2V5ZG93biBAdWkuaW5wdXQnIDogJ29uQmVmb3JlRGVzdHJveSdcbiAgLy99LFxuICAvL1xuICAvL29uU2hvdzogZnVuY3Rpb24oKSB7XG4gIC8vICBpZihNb2Rlcm5penIudG91Y2gpIHtcbiAgLy8gICAgdGhpcy4kKCcqW2RhdGEtbnVtcGFkXScpLmF0dHIoJ3JlYWRvbmx5JywgdHJ1ZSk7XG4gIC8vICB9XG4gIC8vfSxcbiAgLy9cbiAgLy9udW1wYWRQb3BvdmVyOiBmdW5jdGlvbihlKSB7XG4gIC8vXG4gIC8vICAvLyBzZWxlY3QgdGhlIHRhcmdldCBlbGVtZW50XG4gIC8vICAkKGUudGFyZ2V0KS5zZWxlY3QoKTtcbiAgLy9cbiAgLy8gIC8vIGJhaWwgaWYgcG9wb3ZlciBpcyBhbHJlYWR5IG9wZW5cbiAgLy8gIGlmKCAkKGUudGFyZ2V0KS5hdHRyKCdhcmlhLWRlc2NyaWJlZGJ5JykgKSB7XG4gIC8vICAgIHJldHVybjtcbiAgLy8gIH1cbiAgLy9cbiAgLy8gIC8vIG51a2UgYW55IG9wZW4gbnVtcGFkc1xuICAvLyAgJCgnKltkYXRhLW51bXBhZF0nKS50cmlnZ2VyKCAnY2xvc2U6cG9wb3ZlcicgKTtcbiAgLy9cbiAgLy8gIC8vIG9wZW4gcG9wb3ZlclxuICAvLyAgTnVtcGFkLmNoYW5uZWwuY29tbWFuZCggJ3Nob3c6cG9wb3ZlcicsIHsgdGFyZ2V0OiAkKGUudGFyZ2V0KSB9ICk7XG4gIC8vXG4gIC8vICAvLyBvbiBudW1wYWQgcmV0dXJuLCBjbG9zZSBudW1wYWQgYW5kIHVwZGF0ZSB2YWx1ZVxuICAvLyAgJChlLnRhcmdldCkub24oICdudW1wYWQ6cmV0dXJuJywgZnVuY3Rpb24oIGUsIHZhbHVlICkge1xuICAvLyAgICAkKHRoaXMpLnRyaWdnZXIoICdjbG9zZTpwb3BvdmVyJyApO1xuICAvLyAgICAvL3ZhciBlbnRlciA9ICQuRXZlbnQoICdrZXlwcmVzcycsIHsgd2hpY2g6IDEzIH0gKTtcbiAgLy8gICAgJCh0aGlzKS52YWwoIHZhbHVlICkudHJpZ2dlciggJ2JsdXInICk7XG4gIC8vICB9KTtcbiAgLy9cbiAgLy99LFxuICAvL1xuICAvL29uQmVmb3JlRGVzdHJveTogZnVuY3Rpb24oKSB7XG4gIC8vICB0aGlzLnZpZXcuJCgnKltkYXRhLW51bXBhZF0nKS50cmlnZ2VyKCAnY2xvc2U6cG9wb3ZlcicgKTtcbiAgLy99XG5cbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xpYi9jb21wb25lbnRzL251bXBhZC9iZWhhdmlvci5qc1xuICoqIG1vZHVsZSBpZCA9IDg2XG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI4Ni5qcyJ9");

/***/ },
/* 87 */
/*!**********************************************!*\
  !*** ./~/lib/components/select2/behavior.js ***!
  \**********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Behavior = __webpack_require__(/*! lib/config/behavior */ 80);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\n\nmodule.exports = POS.Behaviors.Select2 = Behavior.extend({\n\n  initialize: function(options){\n    this.options = _.defaults(options, {\n      query           : _.bind( this.view.query, this.view ),\n      formatResult    : _.bind( this.view.formatResult, this.view ),\n      formatSelection : _.bind( this.view.formatSelection, this.view )\n    });\n  },\n\n  ui: {\n    select: '.select2'\n  },\n\n  onRender: function() {\n    if(this.ui.select.hasClass('no-search')) {\n      this.options.dropdownCssClass = 'no-search';\n    }\n    this.ui.select.select2( this.options );\n  },\n\n  onBeforeDestroy: function() {\n    this.ui.select.select2( 'destroy' );\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb21wb25lbnRzL3NlbGVjdDIvYmVoYXZpb3IuanM/NjM3OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEJlaGF2aW9yID0gcmVxdWlyZSgnbGliL2NvbmZpZy9iZWhhdmlvcicpO1xudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbnZhciBQT1MgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL2dsb2JhbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBPUy5CZWhhdmlvcnMuU2VsZWN0MiA9IEJlaGF2aW9yLmV4dGVuZCh7XG5cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucyl7XG4gICAgdGhpcy5vcHRpb25zID0gXy5kZWZhdWx0cyhvcHRpb25zLCB7XG4gICAgICBxdWVyeSAgICAgICAgICAgOiBfLmJpbmQoIHRoaXMudmlldy5xdWVyeSwgdGhpcy52aWV3ICksXG4gICAgICBmb3JtYXRSZXN1bHQgICAgOiBfLmJpbmQoIHRoaXMudmlldy5mb3JtYXRSZXN1bHQsIHRoaXMudmlldyApLFxuICAgICAgZm9ybWF0U2VsZWN0aW9uIDogXy5iaW5kKCB0aGlzLnZpZXcuZm9ybWF0U2VsZWN0aW9uLCB0aGlzLnZpZXcgKVxuICAgIH0pO1xuICB9LFxuXG4gIHVpOiB7XG4gICAgc2VsZWN0OiAnLnNlbGVjdDInXG4gIH0sXG5cbiAgb25SZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIGlmKHRoaXMudWkuc2VsZWN0Lmhhc0NsYXNzKCduby1zZWFyY2gnKSkge1xuICAgICAgdGhpcy5vcHRpb25zLmRyb3Bkb3duQ3NzQ2xhc3MgPSAnbm8tc2VhcmNoJztcbiAgICB9XG4gICAgdGhpcy51aS5zZWxlY3Quc2VsZWN0MiggdGhpcy5vcHRpb25zICk7XG4gIH0sXG5cbiAgb25CZWZvcmVEZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnVpLnNlbGVjdC5zZWxlY3QyKCAnZGVzdHJveScgKTtcbiAgfVxuXG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9saWIvY29tcG9uZW50cy9zZWxlY3QyL2JlaGF2aW9yLmpzXG4gKiogbW9kdWxlIGlkID0gODdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6Ijg3LmpzIn0=");

/***/ },
/* 88 */
/*!********************************************!*\
  !*** ./~/apps/pos/cart/views/line/item.js ***!
  \********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var FormView = __webpack_require__(/*! lib/config/form-view */ 91);\nvar Utils = __webpack_require__(/*! lib/utilities/utils */ 30);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar entitiesChannel = bb.Radio.channel('entities');\nvar AutoGrow = __webpack_require__(/*! lib/components/autogrow/behavior */ 85);\nvar Numpad = __webpack_require__(/*! lib/components/numpad/behavior */ 86);\nvar hbs = __webpack_require__(/*! handlebars */ 22);\nvar $ = __webpack_require__(/*! jquery */ 3);\n\nmodule.exports = FormView.extend({\n  initialize: function() {\n    this.template = hbs.compile( $('#tmpl-cart-item').html() );\n  },\n\n  templateHelpers: function(){\n    var data = {};\n    var tax = entitiesChannel.request('get', {\n      type: 'option',\n      name: 'tax'\n    });\n\n    if( tax.tax_display_cart === 'incl' ) {\n      data.subtotal = this.model.sum(['subtotal', 'subtotal_tax']);\n      data.total = this.model.sum(['total', 'total_tax']);\n    }\n\n    if( this.model.get('total') !== this.model.get('subtotal') ){\n      data.discount = true;\n    }\n\n    return data;\n  },\n\n  behaviors: {\n    AutoGrow: {\n      behaviorClass: AutoGrow\n    },\n    Numpad: {\n      behaviorClass: Numpad\n    }\n  },\n\n  ui: {\n    remove: '.action-remove',\n    more: '.action-more'\n  },\n\n  events: {\n    'click @ui.remove' : 'removeItem'\n  },\n\n  triggers: {\n    'click @ui.more'   : 'drawer:toggle'\n  },\n\n  bindings: {\n    'input[name=\"qty\"]'   : {\n      observe: 'qty',\n      onGet: function(value) {\n        return Utils.formatNumber(value, 'auto');\n      },\n      onSet: Utils.unformat\n    },\n    'strong.action-edit-title': 'title',\n    'input[name=\"item_price\"]'   : {\n      observe: 'item_price',\n      onGet: Utils.formatNumber,\n      onSet: Utils.unformat\n    }\n  },\n\n  remove: function() {\n    // Remove the validation binding\n    bb.Validation.unbind(this);\n\n    // disable button\n    this.$('.action-remove').attr( 'disabled', 'true' );\n\n    // add bg colour and fade out\n    this.$el.addClass('bg-danger').parent('ul').addClass('animating');\n    this.$el.fadeOut( 500, function() {\n      this.$el.parent('ul').removeClass('animating');\n      this.trigger('animation:finished');\n      bb.Marionette.ItemView.prototype.remove.call(this);\n    }.bind(this));\n  },\n\n  removeItem: function() {\n    this.model.destroy();\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL2NhcnQvdmlld3MvbGluZS9pdGVtLmpzPzExNGUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgRm9ybVZpZXcgPSByZXF1aXJlKCdsaWIvY29uZmlnL2Zvcm0tdmlldycpO1xudmFyIFV0aWxzID0gcmVxdWlyZSgnbGliL3V0aWxpdGllcy91dGlscycpO1xudmFyIGJiID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBlbnRpdGllc0NoYW5uZWwgPSBiYi5SYWRpby5jaGFubmVsKCdlbnRpdGllcycpO1xudmFyIEF1dG9Hcm93ID0gcmVxdWlyZSgnbGliL2NvbXBvbmVudHMvYXV0b2dyb3cvYmVoYXZpb3InKTtcbnZhciBOdW1wYWQgPSByZXF1aXJlKCdsaWIvY29tcG9uZW50cy9udW1wYWQvYmVoYXZpb3InKTtcbnZhciBoYnMgPSByZXF1aXJlKCdoYW5kbGViYXJzJyk7XG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZvcm1WaWV3LmV4dGVuZCh7XG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudGVtcGxhdGUgPSBoYnMuY29tcGlsZSggJCgnI3RtcGwtY2FydC1pdGVtJykuaHRtbCgpICk7XG4gIH0sXG5cbiAgdGVtcGxhdGVIZWxwZXJzOiBmdW5jdGlvbigpe1xuICAgIHZhciBkYXRhID0ge307XG4gICAgdmFyIHRheCA9IGVudGl0aWVzQ2hhbm5lbC5yZXF1ZXN0KCdnZXQnLCB7XG4gICAgICB0eXBlOiAnb3B0aW9uJyxcbiAgICAgIG5hbWU6ICd0YXgnXG4gICAgfSk7XG5cbiAgICBpZiggdGF4LnRheF9kaXNwbGF5X2NhcnQgPT09ICdpbmNsJyApIHtcbiAgICAgIGRhdGEuc3VidG90YWwgPSB0aGlzLm1vZGVsLnN1bShbJ3N1YnRvdGFsJywgJ3N1YnRvdGFsX3RheCddKTtcbiAgICAgIGRhdGEudG90YWwgPSB0aGlzLm1vZGVsLnN1bShbJ3RvdGFsJywgJ3RvdGFsX3RheCddKTtcbiAgICB9XG5cbiAgICBpZiggdGhpcy5tb2RlbC5nZXQoJ3RvdGFsJykgIT09IHRoaXMubW9kZWwuZ2V0KCdzdWJ0b3RhbCcpICl7XG4gICAgICBkYXRhLmRpc2NvdW50ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfSxcblxuICBiZWhhdmlvcnM6IHtcbiAgICBBdXRvR3Jvdzoge1xuICAgICAgYmVoYXZpb3JDbGFzczogQXV0b0dyb3dcbiAgICB9LFxuICAgIE51bXBhZDoge1xuICAgICAgYmVoYXZpb3JDbGFzczogTnVtcGFkXG4gICAgfVxuICB9LFxuXG4gIHVpOiB7XG4gICAgcmVtb3ZlOiAnLmFjdGlvbi1yZW1vdmUnLFxuICAgIG1vcmU6ICcuYWN0aW9uLW1vcmUnXG4gIH0sXG5cbiAgZXZlbnRzOiB7XG4gICAgJ2NsaWNrIEB1aS5yZW1vdmUnIDogJ3JlbW92ZUl0ZW0nXG4gIH0sXG5cbiAgdHJpZ2dlcnM6IHtcbiAgICAnY2xpY2sgQHVpLm1vcmUnICAgOiAnZHJhd2VyOnRvZ2dsZSdcbiAgfSxcblxuICBiaW5kaW5nczoge1xuICAgICdpbnB1dFtuYW1lPVwicXR5XCJdJyAgIDoge1xuICAgICAgb2JzZXJ2ZTogJ3F0eScsXG4gICAgICBvbkdldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIFV0aWxzLmZvcm1hdE51bWJlcih2YWx1ZSwgJ2F1dG8nKTtcbiAgICAgIH0sXG4gICAgICBvblNldDogVXRpbHMudW5mb3JtYXRcbiAgICB9LFxuICAgICdzdHJvbmcuYWN0aW9uLWVkaXQtdGl0bGUnOiAndGl0bGUnLFxuICAgICdpbnB1dFtuYW1lPVwiaXRlbV9wcmljZVwiXScgICA6IHtcbiAgICAgIG9ic2VydmU6ICdpdGVtX3ByaWNlJyxcbiAgICAgIG9uR2V0OiBVdGlscy5mb3JtYXROdW1iZXIsXG4gICAgICBvblNldDogVXRpbHMudW5mb3JtYXRcbiAgICB9XG4gIH0sXG5cbiAgcmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICAvLyBSZW1vdmUgdGhlIHZhbGlkYXRpb24gYmluZGluZ1xuICAgIGJiLlZhbGlkYXRpb24udW5iaW5kKHRoaXMpO1xuXG4gICAgLy8gZGlzYWJsZSBidXR0b25cbiAgICB0aGlzLiQoJy5hY3Rpb24tcmVtb3ZlJykuYXR0ciggJ2Rpc2FibGVkJywgJ3RydWUnICk7XG5cbiAgICAvLyBhZGQgYmcgY29sb3VyIGFuZCBmYWRlIG91dFxuICAgIHRoaXMuJGVsLmFkZENsYXNzKCdiZy1kYW5nZXInKS5wYXJlbnQoJ3VsJykuYWRkQ2xhc3MoJ2FuaW1hdGluZycpO1xuICAgIHRoaXMuJGVsLmZhZGVPdXQoIDUwMCwgZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLiRlbC5wYXJlbnQoJ3VsJykucmVtb3ZlQ2xhc3MoJ2FuaW1hdGluZycpO1xuICAgICAgdGhpcy50cmlnZ2VyKCdhbmltYXRpb246ZmluaXNoZWQnKTtcbiAgICAgIGJiLk1hcmlvbmV0dGUuSXRlbVZpZXcucHJvdG90eXBlLnJlbW92ZS5jYWxsKHRoaXMpO1xuICAgIH0uYmluZCh0aGlzKSk7XG4gIH0sXG5cbiAgcmVtb3ZlSXRlbTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5tb2RlbC5kZXN0cm95KCk7XG4gIH1cblxufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXBwcy9wb3MvY2FydC92aWV3cy9saW5lL2l0ZW0uanNcbiAqKiBtb2R1bGUgaWQgPSA4OFxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiODguanMifQ==");

/***/ },
/* 89 */
/*!**********************************************!*\
  !*** ./~/apps/pos/cart/views/line/drawer.js ***!
  \**********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var FormView = __webpack_require__(/*! lib/config/form-view */ 91);\nvar AutoGrow = __webpack_require__(/*! lib/components/autogrow/behavior */ 85);\nvar Numpad = __webpack_require__(/*! lib/components/numpad/behavior */ 86);\nvar hbs = __webpack_require__(/*! handlebars */ 22);\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar entitiesChannel = bb.Radio.channel('entities');\n\nmodule.exports = FormView.extend({\n  initialize: function() {\n    this.template = hbs.compile( $('#tmpl-cart-item-drawer').html() );\n  },\n\n  behaviors: {\n    AutoGrow: {\n      behaviorClass: AutoGrow\n    },\n    Numpad: {\n      behaviorClass: Numpad\n    }\n  },\n\n  ui: {\n    addMeta     : '.action-add-meta',\n    removeMeta  : '.action-remove-meta',\n    metaLabel   : 'input[name=\"meta.label\"]',\n    metaValue   : 'textarea[name=\"meta.value\"]'\n  },\n\n  events: {\n    'click @ui.addMeta'     : 'addMetaFields',\n    'click @ui.removeMeta'  : 'removeMetaFields',\n    'blur @ui.metaLabel'    : 'updateMeta',\n    'blur @ui.metaValue'    : 'updateMeta'\n  },\n\n  bindings: {\n    'input[name=\"regular_price\"]'   : 'regular_price',\n    'input[name=\"taxable\"]'         : 'taxable',\n    'select[name=\"tax_class\"]'      : {\n      observe: 'tax_class',\n      selectOptions: {\n        collection: function(){\n          return entitiesChannel.request('get:options', 'tax_labels');\n        }\n      }\n    },\n    'select[name=\"shipping_method\"]': {\n      observe: 'shipping_method',\n      selectOptions: {\n        collection: function(){\n          return entitiesChannel.request( 'get:options', 'shipping' );\n        },\n        comparator: function(){}\n      }\n    }\n  },\n\n  onShow: function() {\n    this.$el.hide().slideDown(250);\n  },\n\n  remove: function() {\n    this.$el.slideUp( 250, function() {\n      bb.Marionette.ItemView.prototype.remove.call(this);\n    }.bind(this));\n  },\n\n  updateMeta: function(e) {\n    var el        = $(e.target),\n        name      = el.attr('name').split('.'),\n        attribute = name[0],\n        value     = el.val(),\n        data      = {};\n\n    // special case product meta\n    if( name.length > 1 && attribute === 'meta' ) {\n      var key = el.parent('span').data('key');\n      var meta = ( this.model.get('meta') || [] );\n\n      // select row (or create new one)\n      var row = _.where( meta, { 'key': key } );\n      row = row.length > 0 ? row[0] : { 'key': key };\n      row[ name[1] ] = value;\n\n      // add the change row and make unique on key\n      meta.push(row);\n      value = _.uniq( meta, 'key' );\n    }\n\n    data[ attribute ] = value;\n\n    this.model.save(data);\n  },\n\n  addMetaFields: function(e){\n    e.preventDefault();\n\n    var row = $(e.currentTarget).prev('span').data('key');\n    var i = row ? row + 1 : 1 ;\n\n    $('<span data-key=\"'+ i +'\" />')\n      .append('' +\n        '<input type=\"text\" name=\"meta.label\">' +\n        '<textarea name=\"meta.value\"></textarea>' +\n        '<a href=\"#\" class=\"action-remove-meta\">' +\n        '<i class=\"icon icon-times\"></i>' +\n        '</a>')\n      .insertBefore( $(e.currentTarget) );\n  },\n\n  removeMetaFields: function(e){\n    e.preventDefault();\n\n    var row = $(e.currentTarget).parent('span');\n    var meta = ( this.model.get('meta') || [] );\n    var index = _.findIndex( meta, { 'key': row.data('key') } );\n    if( index >= 0 ){\n      meta.splice( index, 1 );\n      this.model.save({ 'meta': meta });\n    }\n\n    row.remove();\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL2NhcnQvdmlld3MvbGluZS9kcmF3ZXIuanM/ZGEyMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdDQUFnQyxhQUFhO0FBQzdDLHVDQUF1QztBQUN2Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9DQUFvQyx5QkFBeUI7QUFDN0Q7QUFDQTtBQUNBLHVCQUF1QixlQUFlO0FBQ3RDOztBQUVBO0FBQ0E7O0FBRUEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBGb3JtVmlldyA9IHJlcXVpcmUoJ2xpYi9jb25maWcvZm9ybS12aWV3Jyk7XG52YXIgQXV0b0dyb3cgPSByZXF1aXJlKCdsaWIvY29tcG9uZW50cy9hdXRvZ3Jvdy9iZWhhdmlvcicpO1xudmFyIE51bXBhZCA9IHJlcXVpcmUoJ2xpYi9jb21wb25lbnRzL251bXBhZC9iZWhhdmlvcicpO1xudmFyIGhicyA9IHJlcXVpcmUoJ2hhbmRsZWJhcnMnKTtcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG52YXIgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xudmFyIGJiID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBlbnRpdGllc0NoYW5uZWwgPSBiYi5SYWRpby5jaGFubmVsKCdlbnRpdGllcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZvcm1WaWV3LmV4dGVuZCh7XG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudGVtcGxhdGUgPSBoYnMuY29tcGlsZSggJCgnI3RtcGwtY2FydC1pdGVtLWRyYXdlcicpLmh0bWwoKSApO1xuICB9LFxuXG4gIGJlaGF2aW9yczoge1xuICAgIEF1dG9Hcm93OiB7XG4gICAgICBiZWhhdmlvckNsYXNzOiBBdXRvR3Jvd1xuICAgIH0sXG4gICAgTnVtcGFkOiB7XG4gICAgICBiZWhhdmlvckNsYXNzOiBOdW1wYWRcbiAgICB9XG4gIH0sXG5cbiAgdWk6IHtcbiAgICBhZGRNZXRhICAgICA6ICcuYWN0aW9uLWFkZC1tZXRhJyxcbiAgICByZW1vdmVNZXRhICA6ICcuYWN0aW9uLXJlbW92ZS1tZXRhJyxcbiAgICBtZXRhTGFiZWwgICA6ICdpbnB1dFtuYW1lPVwibWV0YS5sYWJlbFwiXScsXG4gICAgbWV0YVZhbHVlICAgOiAndGV4dGFyZWFbbmFtZT1cIm1ldGEudmFsdWVcIl0nXG4gIH0sXG5cbiAgZXZlbnRzOiB7XG4gICAgJ2NsaWNrIEB1aS5hZGRNZXRhJyAgICAgOiAnYWRkTWV0YUZpZWxkcycsXG4gICAgJ2NsaWNrIEB1aS5yZW1vdmVNZXRhJyAgOiAncmVtb3ZlTWV0YUZpZWxkcycsXG4gICAgJ2JsdXIgQHVpLm1ldGFMYWJlbCcgICAgOiAndXBkYXRlTWV0YScsXG4gICAgJ2JsdXIgQHVpLm1ldGFWYWx1ZScgICAgOiAndXBkYXRlTWV0YSdcbiAgfSxcblxuICBiaW5kaW5nczoge1xuICAgICdpbnB1dFtuYW1lPVwicmVndWxhcl9wcmljZVwiXScgICA6ICdyZWd1bGFyX3ByaWNlJyxcbiAgICAnaW5wdXRbbmFtZT1cInRheGFibGVcIl0nICAgICAgICAgOiAndGF4YWJsZScsXG4gICAgJ3NlbGVjdFtuYW1lPVwidGF4X2NsYXNzXCJdJyAgICAgIDoge1xuICAgICAgb2JzZXJ2ZTogJ3RheF9jbGFzcycsXG4gICAgICBzZWxlY3RPcHRpb25zOiB7XG4gICAgICAgIGNvbGxlY3Rpb246IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgcmV0dXJuIGVudGl0aWVzQ2hhbm5lbC5yZXF1ZXN0KCdnZXQ6b3B0aW9ucycsICd0YXhfbGFiZWxzJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgICdzZWxlY3RbbmFtZT1cInNoaXBwaW5nX21ldGhvZFwiXSc6IHtcbiAgICAgIG9ic2VydmU6ICdzaGlwcGluZ19tZXRob2QnLFxuICAgICAgc2VsZWN0T3B0aW9uczoge1xuICAgICAgICBjb2xsZWN0aW9uOiBmdW5jdGlvbigpe1xuICAgICAgICAgIHJldHVybiBlbnRpdGllc0NoYW5uZWwucmVxdWVzdCggJ2dldDpvcHRpb25zJywgJ3NoaXBwaW5nJyApO1xuICAgICAgICB9LFxuICAgICAgICBjb21wYXJhdG9yOiBmdW5jdGlvbigpe31cbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgb25TaG93OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRlbC5oaWRlKCkuc2xpZGVEb3duKDI1MCk7XG4gIH0sXG5cbiAgcmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRlbC5zbGlkZVVwKCAyNTAsIGZ1bmN0aW9uKCkge1xuICAgICAgYmIuTWFyaW9uZXR0ZS5JdGVtVmlldy5wcm90b3R5cGUucmVtb3ZlLmNhbGwodGhpcyk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgfSxcblxuICB1cGRhdGVNZXRhOiBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGVsICAgICAgICA9ICQoZS50YXJnZXQpLFxuICAgICAgICBuYW1lICAgICAgPSBlbC5hdHRyKCduYW1lJykuc3BsaXQoJy4nKSxcbiAgICAgICAgYXR0cmlidXRlID0gbmFtZVswXSxcbiAgICAgICAgdmFsdWUgICAgID0gZWwudmFsKCksXG4gICAgICAgIGRhdGEgICAgICA9IHt9O1xuXG4gICAgLy8gc3BlY2lhbCBjYXNlIHByb2R1Y3QgbWV0YVxuICAgIGlmKCBuYW1lLmxlbmd0aCA+IDEgJiYgYXR0cmlidXRlID09PSAnbWV0YScgKSB7XG4gICAgICB2YXIga2V5ID0gZWwucGFyZW50KCdzcGFuJykuZGF0YSgna2V5Jyk7XG4gICAgICB2YXIgbWV0YSA9ICggdGhpcy5tb2RlbC5nZXQoJ21ldGEnKSB8fCBbXSApO1xuXG4gICAgICAvLyBzZWxlY3Qgcm93IChvciBjcmVhdGUgbmV3IG9uZSlcbiAgICAgIHZhciByb3cgPSBfLndoZXJlKCBtZXRhLCB7ICdrZXknOiBrZXkgfSApO1xuICAgICAgcm93ID0gcm93Lmxlbmd0aCA+IDAgPyByb3dbMF0gOiB7ICdrZXknOiBrZXkgfTtcbiAgICAgIHJvd1sgbmFtZVsxXSBdID0gdmFsdWU7XG5cbiAgICAgIC8vIGFkZCB0aGUgY2hhbmdlIHJvdyBhbmQgbWFrZSB1bmlxdWUgb24ga2V5XG4gICAgICBtZXRhLnB1c2gocm93KTtcbiAgICAgIHZhbHVlID0gXy51bmlxKCBtZXRhLCAna2V5JyApO1xuICAgIH1cblxuICAgIGRhdGFbIGF0dHJpYnV0ZSBdID0gdmFsdWU7XG5cbiAgICB0aGlzLm1vZGVsLnNhdmUoZGF0YSk7XG4gIH0sXG5cbiAgYWRkTWV0YUZpZWxkczogZnVuY3Rpb24oZSl7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgdmFyIHJvdyA9ICQoZS5jdXJyZW50VGFyZ2V0KS5wcmV2KCdzcGFuJykuZGF0YSgna2V5Jyk7XG4gICAgdmFyIGkgPSByb3cgPyByb3cgKyAxIDogMSA7XG5cbiAgICAkKCc8c3BhbiBkYXRhLWtleT1cIicrIGkgKydcIiAvPicpXG4gICAgICAuYXBwZW5kKCcnICtcbiAgICAgICAgJzxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJtZXRhLmxhYmVsXCI+JyArXG4gICAgICAgICc8dGV4dGFyZWEgbmFtZT1cIm1ldGEudmFsdWVcIj48L3RleHRhcmVhPicgK1xuICAgICAgICAnPGEgaHJlZj1cIiNcIiBjbGFzcz1cImFjdGlvbi1yZW1vdmUtbWV0YVwiPicgK1xuICAgICAgICAnPGkgY2xhc3M9XCJpY29uIGljb24tdGltZXNcIj48L2k+JyArXG4gICAgICAgICc8L2E+JylcbiAgICAgIC5pbnNlcnRCZWZvcmUoICQoZS5jdXJyZW50VGFyZ2V0KSApO1xuICB9LFxuXG4gIHJlbW92ZU1ldGFGaWVsZHM6IGZ1bmN0aW9uKGUpe1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIHZhciByb3cgPSAkKGUuY3VycmVudFRhcmdldCkucGFyZW50KCdzcGFuJyk7XG4gICAgdmFyIG1ldGEgPSAoIHRoaXMubW9kZWwuZ2V0KCdtZXRhJykgfHwgW10gKTtcbiAgICB2YXIgaW5kZXggPSBfLmZpbmRJbmRleCggbWV0YSwgeyAna2V5Jzogcm93LmRhdGEoJ2tleScpIH0gKTtcbiAgICBpZiggaW5kZXggPj0gMCApe1xuICAgICAgbWV0YS5zcGxpY2UoIGluZGV4LCAxICk7XG4gICAgICB0aGlzLm1vZGVsLnNhdmUoeyAnbWV0YSc6IG1ldGEgfSk7XG4gICAgfVxuXG4gICAgcm93LnJlbW92ZSgpO1xuICB9XG5cbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FwcHMvcG9zL2NhcnQvdmlld3MvbGluZS9kcmF3ZXIuanNcbiAqKiBtb2R1bGUgaWQgPSA4OVxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiODkuanMifQ==");

/***/ },
/* 90 */
/*!*******************************!*\
  !*** ./~/debug/~/ms/index.js ***!
  \*******************************/
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} options\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options){\n  options = options || {};\n  if ('string' == typeof val) return parse(val);\n  return options.long\n    ? long(val)\n    : short(val);\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  var match = /^((?:\\d+)?\\.?\\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(str);\n  if (!match) return;\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 's':\n      return n * s;\n    case 'ms':\n      return n;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction short(ms) {\n  if (ms >= d) return Math.round(ms / d) + 'd';\n  if (ms >= h) return Math.round(ms / h) + 'h';\n  if (ms >= m) return Math.round(ms / m) + 'm';\n  if (ms >= s) return Math.round(ms / s) + 's';\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction long(ms) {\n  return plural(ms, d, 'day')\n    || plural(ms, h, 'hour')\n    || plural(ms, m, 'minute')\n    || plural(ms, s, 'second')\n    || ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) return;\n  if (ms < n * 1.5) return Math.floor(ms / n) + ' ' + name;\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjazovLy8uL34vZGVidWcvfi9tcz9iZmNjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsT0FBTztBQUNsQixZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEhlbHBlcnMuXG4gKi9cblxudmFyIHMgPSAxMDAwO1xudmFyIG0gPSBzICogNjA7XG52YXIgaCA9IG0gKiA2MDtcbnZhciBkID0gaCAqIDI0O1xudmFyIHkgPSBkICogMzY1LjI1O1xuXG4vKipcbiAqIFBhcnNlIG9yIGZvcm1hdCB0aGUgZ2l2ZW4gYHZhbGAuXG4gKlxuICogT3B0aW9uczpcbiAqXG4gKiAgLSBgbG9uZ2AgdmVyYm9zZSBmb3JtYXR0aW5nIFtmYWxzZV1cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHZhbFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4ge1N0cmluZ3xOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odmFsLCBvcHRpb25zKXtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGlmICgnc3RyaW5nJyA9PSB0eXBlb2YgdmFsKSByZXR1cm4gcGFyc2UodmFsKTtcbiAgcmV0dXJuIG9wdGlvbnMubG9uZ1xuICAgID8gbG9uZyh2YWwpXG4gICAgOiBzaG9ydCh2YWwpO1xufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gYHN0cmAgYW5kIHJldHVybiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2Uoc3RyKSB7XG4gIHZhciBtYXRjaCA9IC9eKCg/OlxcZCspP1xcLj9cXGQrKSAqKG1zfHNlY29uZHM/fHN8bWludXRlcz98bXxob3Vycz98aHxkYXlzP3xkfHllYXJzP3x5KT8kL2kuZXhlYyhzdHIpO1xuICBpZiAoIW1hdGNoKSByZXR1cm47XG4gIHZhciBuID0gcGFyc2VGbG9hdChtYXRjaFsxXSk7XG4gIHZhciB0eXBlID0gKG1hdGNoWzJdIHx8ICdtcycpLnRvTG93ZXJDYXNlKCk7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ3llYXJzJzpcbiAgICBjYXNlICd5ZWFyJzpcbiAgICBjYXNlICd5JzpcbiAgICAgIHJldHVybiBuICogeTtcbiAgICBjYXNlICdkYXlzJzpcbiAgICBjYXNlICdkYXknOlxuICAgIGNhc2UgJ2QnOlxuICAgICAgcmV0dXJuIG4gKiBkO1xuICAgIGNhc2UgJ2hvdXJzJzpcbiAgICBjYXNlICdob3VyJzpcbiAgICBjYXNlICdoJzpcbiAgICAgIHJldHVybiBuICogaDtcbiAgICBjYXNlICdtaW51dGVzJzpcbiAgICBjYXNlICdtaW51dGUnOlxuICAgIGNhc2UgJ20nOlxuICAgICAgcmV0dXJuIG4gKiBtO1xuICAgIGNhc2UgJ3NlY29uZHMnOlxuICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgY2FzZSAncyc6XG4gICAgICByZXR1cm4gbiAqIHM7XG4gICAgY2FzZSAnbXMnOlxuICAgICAgcmV0dXJuIG47XG4gIH1cbn1cblxuLyoqXG4gKiBTaG9ydCBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBzaG9ydChtcykge1xuICBpZiAobXMgPj0gZCkgcmV0dXJuIE1hdGgucm91bmQobXMgLyBkKSArICdkJztcbiAgaWYgKG1zID49IGgpIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gaCkgKyAnaCc7XG4gIGlmIChtcyA+PSBtKSByZXR1cm4gTWF0aC5yb3VuZChtcyAvIG0pICsgJ20nO1xuICBpZiAobXMgPj0gcykgcmV0dXJuIE1hdGgucm91bmQobXMgLyBzKSArICdzJztcbiAgcmV0dXJuIG1zICsgJ21zJztcbn1cblxuLyoqXG4gKiBMb25nIGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvbmcobXMpIHtcbiAgcmV0dXJuIHBsdXJhbChtcywgZCwgJ2RheScpXG4gICAgfHwgcGx1cmFsKG1zLCBoLCAnaG91cicpXG4gICAgfHwgcGx1cmFsKG1zLCBtLCAnbWludXRlJylcbiAgICB8fCBwbHVyYWwobXMsIHMsICdzZWNvbmQnKVxuICAgIHx8IG1zICsgJyBtcyc7XG59XG5cbi8qKlxuICogUGx1cmFsaXphdGlvbiBoZWxwZXIuXG4gKi9cblxuZnVuY3Rpb24gcGx1cmFsKG1zLCBuLCBuYW1lKSB7XG4gIGlmIChtcyA8IG4pIHJldHVybjtcbiAgaWYgKG1zIDwgbiAqIDEuNSkgcmV0dXJuIE1hdGguZmxvb3IobXMgLyBuKSArICcgJyArIG5hbWU7XG4gIHJldHVybiBNYXRoLmNlaWwobXMgLyBuKSArICcgJyArIG5hbWUgKyAncyc7XG59XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9kZWJ1Zy9+L21zL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gOTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyXG4gKiovXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjazovLy8uL34vZGVidWcvfi9tcz8wNzAzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiOTAuanMifQ==");

/***/ },
/* 91 */
/*!***********************************!*\
  !*** ./~/lib/config/form-view.js ***!
  \***********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var ItemView = __webpack_require__(/*! ./item-view */ 53);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 8);\n__webpack_require__(/*! backbone.stickit */ 93);\n__webpack_require__(/*! backbone-validation */ 94);\n__webpack_require__(/*! lib/utilities/stickit-handlers */ 92);\n\nmodule.exports = POS.FormView = ItemView.extend({\n\n  constructor: function() {\n    return ItemView.prototype.constructor.apply(this, arguments);\n  },\n\n  bindings: {},\n\n  render: function(){\n    // Invoke original render function\n    var args = Array.prototype.slice.apply(arguments);\n    var result = ItemView.prototype.render.apply(this, args);\n\n    // Apply validation\n    bb.Validation.bind(this, {\n      model: this.model,\n      valid: function(view, attr) {\n        view\n          .$('input[name=\"' + attr + '\"]')\n          .parent()\n          .removeClass('error');\n      },\n      invalid: function(view, attr) {\n        view\n          .$('input[name=\"' + attr + '\"]')\n          .parent()\n          .addClass('error');\n      }\n    });\n\n    // Apply stickit\n    this.stickit();\n\n    // Return render result\n    return result;\n  },\n\n  remove: function() {\n    // Remove the validation binding\n    bb.Validation.unbind(this);\n    return ItemView.prototype.remove.apply(this, arguments);\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvZm9ybS12aWV3LmpzP2RmMWYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVILGNBQWM7O0FBRWQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEl0ZW1WaWV3ID0gcmVxdWlyZSgnLi9pdGVtLXZpZXcnKTtcbnZhciBiYiA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG52YXIgUE9TID0gcmVxdWlyZSgnbGliL3V0aWxpdGllcy9nbG9iYWwnKTtcbnJlcXVpcmUoJ2JhY2tib25lLnN0aWNraXQnKTtcbnJlcXVpcmUoJ2JhY2tib25lLXZhbGlkYXRpb24nKTtcbnJlcXVpcmUoJ2xpYi91dGlsaXRpZXMvc3RpY2tpdC1oYW5kbGVycycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBPUy5Gb3JtVmlldyA9IEl0ZW1WaWV3LmV4dGVuZCh7XG5cbiAgY29uc3RydWN0b3I6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBJdGVtVmlldy5wcm90b3R5cGUuY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfSxcblxuICBiaW5kaW5nczoge30sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpe1xuICAgIC8vIEludm9rZSBvcmlnaW5hbCByZW5kZXIgZnVuY3Rpb25cbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShhcmd1bWVudHMpO1xuICAgIHZhciByZXN1bHQgPSBJdGVtVmlldy5wcm90b3R5cGUucmVuZGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXG4gICAgLy8gQXBwbHkgdmFsaWRhdGlvblxuICAgIGJiLlZhbGlkYXRpb24uYmluZCh0aGlzLCB7XG4gICAgICBtb2RlbDogdGhpcy5tb2RlbCxcbiAgICAgIHZhbGlkOiBmdW5jdGlvbih2aWV3LCBhdHRyKSB7XG4gICAgICAgIHZpZXdcbiAgICAgICAgICAuJCgnaW5wdXRbbmFtZT1cIicgKyBhdHRyICsgJ1wiXScpXG4gICAgICAgICAgLnBhcmVudCgpXG4gICAgICAgICAgLnJlbW92ZUNsYXNzKCdlcnJvcicpO1xuICAgICAgfSxcbiAgICAgIGludmFsaWQ6IGZ1bmN0aW9uKHZpZXcsIGF0dHIpIHtcbiAgICAgICAgdmlld1xuICAgICAgICAgIC4kKCdpbnB1dFtuYW1lPVwiJyArIGF0dHIgKyAnXCJdJylcbiAgICAgICAgICAucGFyZW50KClcbiAgICAgICAgICAuYWRkQ2xhc3MoJ2Vycm9yJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBBcHBseSBzdGlja2l0XG4gICAgdGhpcy5zdGlja2l0KCk7XG5cbiAgICAvLyBSZXR1cm4gcmVuZGVyIHJlc3VsdFxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG5cbiAgcmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICAvLyBSZW1vdmUgdGhlIHZhbGlkYXRpb24gYmluZGluZ1xuICAgIGJiLlZhbGlkYXRpb24udW5iaW5kKHRoaXMpO1xuICAgIHJldHVybiBJdGVtVmlldy5wcm90b3R5cGUucmVtb3ZlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbGliL2NvbmZpZy9mb3JtLXZpZXcuanNcbiAqKiBtb2R1bGUgaWQgPSA5MVxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiOTEuanMifQ==");

/***/ },
/* 92 */
/*!*********************************************!*\
  !*** ./~/lib/utilities/stickit-handlers.js ***!
  \*********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Utils = __webpack_require__(/*! ./utils */ 30);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar _ = __webpack_require__(/*! lodash */ 1);\n\n/**\n * Display localised string, eg: 2,55\n * Set float 2.55\n */\nbb.Stickit.addHandler({\n  selector: 'input[data-numpad=\"discount\"]',\n  onGet: Utils.formatNumber,\n  onSet: Utils.unformat,\n  events: ['blur'],\n  afterUpdate: function($el){\n    $el.trigger('input');\n  }\n});\n\nbb.Stickit.addHandler({\n  selector: 'input[data-numpad=\"quantity\"]',\n  onGet: Utils.formatNumber,\n  onSet: Utils.unformat,\n  events: ['blur'],\n  afterUpdate: function($el){\n    $el.trigger('input');\n  }\n});\n\n/**\n * Custom Stickit handler for nested customer address\n */\nbb.Stickit.addHandler({\n  selector: 'input[data-handler=\"address\"]',\n  onGet: function( value, options ){\n    var key = options.selector.match(/\\w+\\[(\\w+)\\]/)[1];\n    if( _(value).has(key) ){\n      return value[key];\n    } else {\n      return '';\n    }\n\n  },\n  onSet: function( value, options ){\n    var key = options.selector.match(/\\w+\\[(\\w+)\\]/)[1];\n    var address = options.view.model.get( options.observe );\n    address = address || {};\n    address[key] = value;\n    return address;\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi91dGlsaXRpZXMvc3RpY2tpdC1oYW5kbGVycy5qcz8yYjVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgVXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgYmIgPSByZXF1aXJlKCdiYWNrYm9uZScpO1xudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxuLyoqXG4gKiBEaXNwbGF5IGxvY2FsaXNlZCBzdHJpbmcsIGVnOiAyLDU1XG4gKiBTZXQgZmxvYXQgMi41NVxuICovXG5iYi5TdGlja2l0LmFkZEhhbmRsZXIoe1xuICBzZWxlY3RvcjogJ2lucHV0W2RhdGEtbnVtcGFkPVwiZGlzY291bnRcIl0nLFxuICBvbkdldDogVXRpbHMuZm9ybWF0TnVtYmVyLFxuICBvblNldDogVXRpbHMudW5mb3JtYXQsXG4gIGV2ZW50czogWydibHVyJ10sXG4gIGFmdGVyVXBkYXRlOiBmdW5jdGlvbigkZWwpe1xuICAgICRlbC50cmlnZ2VyKCdpbnB1dCcpO1xuICB9XG59KTtcblxuYmIuU3RpY2tpdC5hZGRIYW5kbGVyKHtcbiAgc2VsZWN0b3I6ICdpbnB1dFtkYXRhLW51bXBhZD1cInF1YW50aXR5XCJdJyxcbiAgb25HZXQ6IFV0aWxzLmZvcm1hdE51bWJlcixcbiAgb25TZXQ6IFV0aWxzLnVuZm9ybWF0LFxuICBldmVudHM6IFsnYmx1ciddLFxuICBhZnRlclVwZGF0ZTogZnVuY3Rpb24oJGVsKXtcbiAgICAkZWwudHJpZ2dlcignaW5wdXQnKTtcbiAgfVxufSk7XG5cbi8qKlxuICogQ3VzdG9tIFN0aWNraXQgaGFuZGxlciBmb3IgbmVzdGVkIGN1c3RvbWVyIGFkZHJlc3NcbiAqL1xuYmIuU3RpY2tpdC5hZGRIYW5kbGVyKHtcbiAgc2VsZWN0b3I6ICdpbnB1dFtkYXRhLWhhbmRsZXI9XCJhZGRyZXNzXCJdJyxcbiAgb25HZXQ6IGZ1bmN0aW9uKCB2YWx1ZSwgb3B0aW9ucyApe1xuICAgIHZhciBrZXkgPSBvcHRpb25zLnNlbGVjdG9yLm1hdGNoKC9cXHcrXFxbKFxcdyspXFxdLylbMV07XG4gICAgaWYoIF8odmFsdWUpLmhhcyhrZXkpICl7XG4gICAgICByZXR1cm4gdmFsdWVba2V5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICB9LFxuICBvblNldDogZnVuY3Rpb24oIHZhbHVlLCBvcHRpb25zICl7XG4gICAgdmFyIGtleSA9IG9wdGlvbnMuc2VsZWN0b3IubWF0Y2goL1xcdytcXFsoXFx3KylcXF0vKVsxXTtcbiAgICB2YXIgYWRkcmVzcyA9IG9wdGlvbnMudmlldy5tb2RlbC5nZXQoIG9wdGlvbnMub2JzZXJ2ZSApO1xuICAgIGFkZHJlc3MgPSBhZGRyZXNzIHx8IHt9O1xuICAgIGFkZHJlc3Nba2V5XSA9IHZhbHVlO1xuICAgIHJldHVybiBhZGRyZXNzO1xuICB9XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9saWIvdXRpbGl0aWVzL3N0aWNraXQtaGFuZGxlcnMuanNcbiAqKiBtb2R1bGUgaWQgPSA5MlxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiOTIuanMifQ==");

/***/ },
/* 93 */
/*!************************************************!*\
  !*** ./~/backbone.stickit/backbone.stickit.js ***!
  \************************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// Backbone.Stickit v0.8.0, MIT Licensed\n// Copyright (c) 2012 The New York Times, CMS Group, Matthew DeLambo <delambo@gmail.com>\n\n(function (factory) {\n\n  // Set up Stickit appropriately for the environment. Start with AMD.\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ 1), __webpack_require__(/*! backbone */ 2), exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  }\n\n  // Next for Node.js or CommonJS.\n  else if (typeof exports === 'object') {\n    factory(require('underscore'), require('backbone'), exports);\n  }\n\n  // Finally, as a browser global.\n  else {\n    factory(_, Backbone, {});\n  }\n\n}(function (_, Backbone, Stickit) {\n\n  // Stickit Namespace\n  // --------------------------\n\n  Stickit._handlers = [];\n\n  Stickit.addHandler = function(handlers) {\n    // Fill-in default values.\n    handlers = _.map(_.flatten([handlers]), function(handler) {\n      return _.extend({\n        updateModel: true,\n        updateView: true,\n        updateMethod: 'text'\n      }, handler);\n    });\n    this._handlers = this._handlers.concat(handlers);\n  };\n\n  // Backbone.View Mixins\n  // --------------------\n\n  Stickit.ViewMixin = {\n\n    // Collection of model event bindings.\n    //   [{model,event,fn,config}, ...]\n    _modelBindings: null,\n\n    // Unbind the model and event bindings from `this._modelBindings` and\n    // `this.$el`. If the optional `model` parameter is defined, then only\n    // delete bindings for the given `model` and its corresponding view events.\n    unstickit: function(model, bindingSelector) {\n      // Support bindings hash in place of selector.\n      if (_.isObject(bindingSelector)) {\n        _.each(_.keys(bindingSelector), function(selector) {\n          this.unstickit(model, selector);\n        }, this);\n        return;\n      }\n\n      var models = [], destroyFns = [];\n      _.each(this._modelBindings, function(binding, i) {\n        if (model && binding.model !== model) { return; }\n        if (bindingSelector && binding.config.selector != bindingSelector) return;\n        destroyFns.push(binding.config._destroy);\n        binding.model.off(binding.event, binding.fn);\n        models.push(binding.model);\n        delete this._modelBindings[i];\n      }, this);\n\n      // Trigger an event for each model that was unbound.\n      _.invoke(_.uniq(models), 'trigger', 'stickit:unstuck', this.cid);\n      // Call `_destroy` on a unique list of the binding callbacks.\n      _.each(_.uniq(destroyFns), function(fn) { fn.call(this); }, this);\n      // Cleanup the null values.\n      this._modelBindings = _.compact(this._modelBindings);\n\n      this.$el.off('.stickit' + (model ? '.' + model.cid : ''), bindingSelector);\n    },\n\n    // Using `this.bindings` configuration or the `optionalBindingsConfig`, binds `this.model`\n    // or the `optionalModel` to elements in the view.\n    stickit: function(optionalModel, optionalBindingsConfig) {\n      var model = optionalModel || this.model,\n          bindings = optionalBindingsConfig || _.result(this, \"bindings\") || {};\n\n      this._modelBindings || (this._modelBindings = []);\n\n      // Iterate through the selectors in the bindings configuration and configure\n      // the various options for each field.\n      this.addBinding(model, bindings);\n\n      // Wrap `view.remove` to unbind stickit model and dom events.\n      var remove = this.remove;\n      if (!remove.stickitWrapped) {\n        this.remove = function() {\n          var ret = this;\n          this.unstickit();\n          if (remove) ret = remove.apply(this, arguments);\n          return ret;\n        };\n      }\n      this.remove.stickitWrapped = true;\n    },\n\n    // Add a single model binding to the view\n    addBinding: function(optionalModel, second, _binding) {\n      var $el, options, modelAttr, config, selector,\n        model = optionalModel || this.model,\n        namespace = '.stickit.' + model.cid,\n        binding = _binding || {},\n        bindId = _.uniqueId();\n\n      // Allow jQuery-style {key: val} event maps\n      if (_.isString(second)) {\n        selector = second;\n      } else {\n        var bindings = second;\n        _.each(bindings, function(v, selector) {\n          this.addBinding(model, selector, bindings[selector]);\n        }, this);\n        return;\n      }\n\n      // Support ':el' selector - special case selector for the view managed delegate.\n      $el = selector === ':el' ? this.$el : this.$(selector);\n\n      this.unstickit(model, selector);\n\n      // Fail fast if the selector didn't match an element.\n      if (!$el.length) return;\n\n      // Allow shorthand setting of model attributes - `'selector':'observe'`.\n      if (_.isString(binding)) binding = {observe:binding};\n\n      // Handle case where `observe` is in the form of a function.\n      if (_.isFunction(binding.observe)) binding.observe = binding.observe.call(this);\n\n      config = getConfiguration($el, binding);\n      config.selector = selector;\n      modelAttr = config.observe;\n\n      // Create the model set options with a unique `bindId` so that we\n      // can avoid double-binding in the `change:attribute` event handler.\n      config.bindId = bindId;\n\n      // Add a reference to the view for handlers of stickitChange events\n      config.view = this;\n      options = _.extend({stickitChange:config}, config.setOptions);\n\n      // Add a `_destroy` callback to the configuration, in case `destroy`\n      // is a named function and we need a unique function when unsticking.\n      config._destroy = function() {\n        applyViewFn(this, config.destroy, $el, model, config);\n      };\n\n      initializeAttributes(this, $el, config, model, modelAttr);\n\n      initializeVisible(this, $el, config, model, modelAttr);\n\n      if (modelAttr) {\n        // Setup one-way, form element to model, bindings.\n        _.each(config.events, function(type) {\n          var event = type + namespace;\n          var method = function(event) {\n            var val = config.getVal.call(this, $el, event, config, _.rest(arguments));\n            // Don't update the model if false is returned from the `updateModel` configuration.\n            if (evaluateBoolean(this, config.updateModel, val, event, config))\n              setAttr(model, modelAttr, val, options, this, config);\n          };\n          method = _.bind(method, this);\n          if (selector === ':el') this.$el.on(event, method);\n          else this.$el.on(event, selector, method);\n        }, this);\n\n        // Setup a `change:modelAttr` observer to keep the view element in sync.\n        // `modelAttr` may be an array of attributes or a single string value.\n        _.each(_.flatten([modelAttr]), function(attr) {\n          observeModelEvent(model, this, 'change:'+attr, config, function(model, val, options) {\n            var changeId = options && options.stickitChange && options.stickitChange.bindId || null;\n            if (changeId !== bindId)\n              updateViewBindEl(this, $el, config, getAttr(model, modelAttr, config, this), model);\n          });\n        }, this);\n\n        updateViewBindEl(this, $el, config, getAttr(model, modelAttr, config, this), model, true);\n      }\n\n      // After each binding is setup, call the `initialize` callback.\n      applyViewFn(this, config.initialize, $el, model, config);\n    }\n  };\n\n  _.extend(Backbone.View.prototype, Stickit.ViewMixin);\n\n  // Helpers\n  // -------\n\n  // Evaluates the given `path` (in object/dot-notation) relative to the given\n  // `obj`. If the path is null/undefined, then the given `obj` is returned.\n  var evaluatePath = function(obj, path) {\n    var parts = (path || '').split('.');\n    var result = _.reduce(parts, function(memo, i) { return memo[i]; }, obj);\n    return result == null ? obj : result;\n  };\n\n  // If the given `fn` is a string, then view[fn] is called, otherwise it is\n  // a function that should be executed.\n  var applyViewFn = function(view, fn) {\n    if (fn) return (_.isString(fn) ? evaluatePath(view,fn) : fn).apply(view, _.rest(arguments, 2));\n  };\n\n  var getSelectedOption = function($select) { return $select.find('option').not(function(){ return !this.selected; }); };\n\n  // Given a function, string (view function reference), or a boolean\n  // value, returns the truthy result. Any other types evaluate as false.\n  var evaluateBoolean = function(view, reference) {\n    if (_.isBoolean(reference)) return reference;\n    else if (_.isFunction(reference) || _.isString(reference))\n      return applyViewFn.apply(this, arguments);\n    return false;\n  };\n\n  // Setup a model event binding with the given function, and track the event\n  // in the view's _modelBindings.\n  var observeModelEvent = function(model, view, event, config, fn) {\n    model.on(event, fn, view);\n    view._modelBindings.push({model:model, event:event, fn:fn, config:config});\n  };\n\n  // Prepares the given `val`ue and sets it into the `model`.\n  var setAttr = function(model, attr, val, options, context, config) {\n    var value = {};\n    if (config.onSet)\n      val = applyViewFn(context, config.onSet, val, config);\n\n    if (config.set)\n      applyViewFn(context, config.set, attr, val, options, config);\n    else {\n      value[attr] = val;\n      // If `observe` is defined as an array and `onSet` returned\n      // an array, then map attributes to their values.\n      if (_.isArray(attr) && _.isArray(val)) {\n        value = _.reduce(attr, function(memo, attribute, index) {\n          memo[attribute] = _.has(val, index) ? val[index] : null;\n          return memo;\n        }, {});\n      }\n      model.set(value, options);\n    }\n  };\n\n  // Returns the given `attr`'s value from the `model`, escaping and\n  // formatting if necessary. If `attr` is an array, then an array of\n  // respective values will be returned.\n  var getAttr = function(model, attr, config, context) {\n    var val,\n      retrieveVal = function(field) {\n        return model[config.escape ? 'escape' : 'get'](field);\n      },\n      sanitizeVal = function(val) {\n        return val == null ? '' : val;\n      };\n    val = _.isArray(attr) ? _.map(attr, retrieveVal) : retrieveVal(attr);\n    if (config.onGet) val = applyViewFn(context, config.onGet, val, config);\n    return _.isArray(val) ? _.map(val, sanitizeVal) : sanitizeVal(val);\n  };\n\n  // Find handlers in `Backbone.Stickit._handlers` with selectors that match\n  // `$el` and generate a configuration by mixing them in the order that they\n  // were found with the given `binding`.\n  var getConfiguration = Stickit.getConfiguration = function($el, binding) {\n    var handlers = [{\n      updateModel: false,\n      updateMethod: 'text',\n      update: function($el, val, m, opts) { if ($el[opts.updateMethod]) $el[opts.updateMethod](val); },\n      getVal: function($el, e, opts) { return $el[opts.updateMethod](); }\n    }];\n    handlers = handlers.concat(_.filter(Stickit._handlers, function(handler) {\n      return $el.is(handler.selector);\n    }));\n    handlers.push(binding);\n    var config = _.extend.apply(_, handlers);\n    // `updateView` is defaulted to false for configutrations with\n    // `visible`; otherwise, `updateView` is defaulted to true.\n    if (config.visible && !_.has(config, 'updateView')) config.updateView = false;\n    else if (!_.has(config, 'updateView')) config.updateView = true;\n    return config;\n  };\n\n  // Setup the attributes configuration - a list that maps an attribute or\n  // property `name`, to an `observe`d model attribute, using an optional\n  // `onGet` formatter.\n  //\n  //     attributes: [{\n  //       name: 'attributeOrPropertyName',\n  //       observe: 'modelAttrName'\n  //       onGet: function(modelAttrVal, modelAttrName) { ... }\n  //     }, ...]\n  //\n  var initializeAttributes = function(view, $el, config, model, modelAttr) {\n    var props = ['autofocus', 'autoplay', 'async', 'checked', 'controls', 'defer', 'disabled', 'hidden', 'indeterminate', 'loop', 'multiple', 'open', 'readonly', 'required', 'scoped', 'selected'];\n\n    _.each(config.attributes || [], function(attrConfig) {\n      var lastClass = '', observed, updateAttr;\n      attrConfig = _.clone(attrConfig);\n      observed = attrConfig.observe || (attrConfig.observe = modelAttr),\n      updateAttr = function() {\n        var updateType = _.indexOf(props, attrConfig.name, true) > -1 ? 'prop' : 'attr',\n          val = getAttr(model, observed, attrConfig, view);\n        // If it is a class then we need to remove the last value and add the new.\n        if (attrConfig.name === 'class') {\n          $el.removeClass(lastClass).addClass(val);\n          lastClass = val;\n        }\n        else $el[updateType](attrConfig.name, val);\n      };\n      _.each(_.flatten([observed]), function(attr) {\n        observeModelEvent(model, view, 'change:' + attr, config, updateAttr);\n      });\n      updateAttr();\n    });\n  };\n\n  // If `visible` is configured, then the view element will be shown/hidden\n  // based on the truthiness of the modelattr's value or the result of the\n  // given callback. If a `visibleFn` is also supplied, then that callback\n  // will be executed to manually handle showing/hiding the view element.\n  //\n  //     observe: 'isRight',\n  //     visible: true, // or function(val, options) {}\n  //     visibleFn: function($el, isVisible, options) {} // optional handler\n  //\n  var initializeVisible = function(view, $el, config, model, modelAttr) {\n    if (config.visible == null) return;\n    var visibleCb = function() {\n      var visible = config.visible,\n          visibleFn = config.visibleFn,\n          val = getAttr(model, modelAttr, config, view),\n          isVisible = !!val;\n      // If `visible` is a function then it should return a boolean result to show/hide.\n      if (_.isFunction(visible) || _.isString(visible)) isVisible = !!applyViewFn(view, visible, val, config);\n      // Either use the custom `visibleFn`, if provided, or execute the standard show/hide.\n      if (visibleFn) applyViewFn(view, visibleFn, $el, isVisible, config);\n      else {\n        $el.toggle(isVisible);\n      }\n    };\n    _.each(_.flatten([modelAttr]), function(attr) {\n      observeModelEvent(model, view, 'change:' + attr, config, visibleCb);\n    });\n    visibleCb();\n  };\n\n  // Update the value of `$el` using the given configuration and trigger the\n  // `afterUpdate` callback. This action may be blocked by `config.updateView`.\n  //\n  //     update: function($el, val, model, options) {},  // handler for updating\n  //     updateView: true, // defaults to true\n  //     afterUpdate: function($el, val, options) {} // optional callback\n  //\n  var updateViewBindEl = function(view, $el, config, val, model, isInitializing) {\n    if (!evaluateBoolean(view, config.updateView, val, config)) return;\n    applyViewFn(view, config.update, $el, val, model, config);\n    if (!isInitializing) applyViewFn(view, config.afterUpdate, $el, val, config);\n  };\n\n  // Default Handlers\n  // ----------------\n\n  Stickit.addHandler([{\n    selector: '[contenteditable=\"true\"]',\n    updateMethod: 'html',\n    events: ['input', 'change']\n  }, {\n    selector: 'input',\n    events: ['propertychange', 'input', 'change'],\n    update: function($el, val) { $el.val(val); },\n    getVal: function($el) {\n      return $el.val();\n    }\n  }, {\n    selector: 'textarea',\n    events: ['propertychange', 'input', 'change'],\n    update: function($el, val) { $el.val(val); },\n    getVal: function($el) { return $el.val(); }\n  }, {\n    selector: 'input[type=\"radio\"]',\n    events: ['change'],\n    update: function($el, val) {\n      $el.filter('[value=\"'+val+'\"]').prop('checked', true);\n    },\n    getVal: function($el) {\n      return $el.filter(':checked').val();\n    }\n  }, {\n    selector: 'input[type=\"checkbox\"]',\n    events: ['change'],\n    update: function($el, val, model, options) {\n      if ($el.length > 1) {\n        // There are multiple checkboxes so we need to go through them and check\n        // any that have value attributes that match what's in the array of `val`s.\n        val || (val = []);\n        $el.each(function(i, el) {\n          var checkbox = Backbone.$(el);\n          var checked = _.contains(val, checkbox.val());\n          checkbox.prop('checked', checked);\n        });\n      } else {\n        var checked = _.isBoolean(val) ? val : val === $el.val();\n        $el.prop('checked', checked);\n      }\n    },\n    getVal: function($el) {\n      var val;\n      if ($el.length > 1) {\n        val = _.reduce($el, function(memo, el) {\n          var checkbox = Backbone.$(el);\n          if (checkbox.prop('checked')) memo.push(checkbox.val());\n          return memo;\n        }, []);\n      } else {\n        val = $el.prop('checked');\n        // If the checkbox has a value attribute defined, then\n        // use that value. Most browsers use \"on\" as a default.\n        var boxval = $el.val();\n        if (boxval !== 'on' && boxval != null) {\n          val = val ? $el.val() : null;\n        }\n      }\n      return val;\n    }\n  }, {\n    selector: 'select',\n    events: ['change'],\n    update: function($el, val, model, options) {\n      var optList,\n        selectConfig = options.selectOptions,\n        list = selectConfig && selectConfig.collection || undefined,\n        isMultiple = $el.prop('multiple');\n\n      // If there are no `selectOptions` then we assume that the `<select>`\n      // is pre-rendered and that we need to generate the collection.\n      if (!selectConfig) {\n        selectConfig = {};\n        var getList = function($el) {\n          return $el.map(function() {\n            return {value:this.value, label:this.text};\n          }).get();\n        };\n        if ($el.find('optgroup').length) {\n          list = {opt_labels:[]};\n          // Search for options without optgroup\n          if ($el.find('> option').length) {\n            list.opt_labels.push(undefined);\n            _.each($el.find('> option'), function(el) {\n              list[undefined] = getList(Backbone.$(el));\n            });\n          }\n          _.each($el.find('optgroup'), function(el) {\n            var label = Backbone.$(el).attr('label');\n            list.opt_labels.push(label);\n            list[label] = getList(Backbone.$(el).find('option'));\n          });\n        } else {\n          list = getList($el.find('option'));\n        }\n      }\n\n      // Fill in default label and path values.\n      selectConfig.valuePath = selectConfig.valuePath || 'value';\n      selectConfig.labelPath = selectConfig.labelPath || 'label';\n\n      var addSelectOptions = function(optList, $el, fieldVal) {\n        _.each(optList, function(obj) {\n          var option = Backbone.$('<option/>'), optionVal = obj;\n\n          var fillOption = function(text, val) {\n            option.text(text);\n            optionVal = val;\n            // Save the option value as data so that we can reference it later.\n            option.data('stickit_bind_val', optionVal);\n            if (!_.isArray(optionVal) && !_.isObject(optionVal)) option.val(optionVal);\n          };\n\n          if (obj === '__default__')\n            fillOption(selectConfig.defaultOption.label, selectConfig.defaultOption.value);\n          else\n            fillOption(evaluatePath(obj, selectConfig.labelPath), evaluatePath(obj, selectConfig.valuePath));\n\n          // Determine if this option is selected.\n          if (!isMultiple && optionVal != null && fieldVal != null && optionVal === fieldVal || (_.isObject(fieldVal) && _.isEqual(optionVal, fieldVal)))\n            option.prop('selected', true);\n          else if (isMultiple && _.isArray(fieldVal)) {\n            _.each(fieldVal, function(val) {\n              if (_.isObject(val)) val = evaluatePath(val, selectConfig.valuePath);\n              if (val === optionVal || (_.isObject(val) && _.isEqual(optionVal, val)))\n                option.prop('selected', true);\n            });\n          }\n\n          $el.append(option);\n        });\n      };\n\n      $el.find('*').remove();\n\n      // The `list` configuration is a function that returns the options list or a string\n      // which represents the path to the list relative to `window` or the view/`this`.\n      var evaluate = function(view, list) {\n        var context = window;\n        if (list.indexOf('this.') === 0) context = view;\n        list = list.replace(/^[a-z]*\\.(.+)$/, '$1');\n        return evaluatePath(context, list);\n      };\n      if (_.isString(list)) optList = evaluate(this, list);\n      else if (_.isFunction(list)) optList = applyViewFn(this, list, $el, options);\n      else optList = list;\n\n      // Support Backbone.Collection and deserialize.\n      if (optList instanceof Backbone.Collection) optList = optList.toJSON();\n\n      if (selectConfig.defaultOption) {\n        addSelectOptions([\"__default__\"], $el);\n      }\n\n      if (_.isArray(optList)) {\n        addSelectOptions(optList, $el, val);\n      } else if (optList.opt_labels) {\n        // To define a select with optgroups, format selectOptions.collection as an object\n        // with an 'opt_labels' property, as in the following:\n        //\n        //     {\n        //       'opt_labels': ['Looney Tunes', 'Three Stooges'],\n        //       'Looney Tunes': [{id: 1, name: 'Bugs Bunny'}, {id: 2, name: 'Donald Duck'}],\n        //       'Three Stooges': [{id: 3, name : 'moe'}, {id: 4, name : 'larry'}, {id: 5, name : 'curly'}]\n        //     }\n        //\n        _.each(optList.opt_labels, function(label) {\n          var $group = Backbone.$('<optgroup/>').attr('label', label);\n          addSelectOptions(optList[label], $group, val);\n          $el.append($group);\n        });\n        // With no 'opt_labels' parameter, the object is assumed to be a simple value-label map.\n        // Pass a selectOptions.comparator to override the default order of alphabetical by label.\n      } else {\n        var opts = [], opt;\n        for (var i in optList) {\n          opt = {};\n          opt[selectConfig.valuePath] = i;\n          opt[selectConfig.labelPath] = optList[i];\n          opts.push(opt);\n        }\n        addSelectOptions(_.sortBy(opts, selectConfig.comparator || selectConfig.labelPath), $el, val);\n      }\n    },\n    getVal: function($el) {\n      var val;\n      if ($el.prop('multiple')) {\n        val = Backbone.$(getSelectedOption($el).map(function() {\n          return Backbone.$(this).data('stickit_bind_val');\n        })).get();\n      } else {\n        val = getSelectedOption($el).data('stickit_bind_val');\n      }\n      return val;\n    }\n  }]);\n\n\n  // Export onto Backbone object\n  Backbone.Stickit = Stickit;\n\n  return Backbone.Stickit;\n\n}));\n//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2JhY2tib25lLnN0aWNraXQvYmFja2JvbmUuc3RpY2tpdC5qcz80ZGM4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjs7QUFFQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFdBQVcsc0JBQXNCO0FBQ2pDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0NBQStDLFFBQVE7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLGVBQWUsRUFBRTtBQUNoRTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDOztBQUVBLDZCQUE2QixTQUFTO0FBQ3RDO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsMENBQTBDOztBQUUxQztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDBCQUEwQixxQkFBcUI7O0FBRS9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELGdCQUFnQixFQUFFO0FBQ3RFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw2Q0FBNkMsOENBQThDLHVCQUF1QixFQUFFLEVBQUU7O0FBRXRIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsK0NBQStDO0FBQzdFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLElBQUk7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyx5REFBeUQsRUFBRTtBQUN0RyxzQ0FBc0MsaUNBQWlDO0FBQ3ZFLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RDtBQUN6RCxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RDtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsZ0NBQWdDLGNBQWMsRUFBRTtBQUNoRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGdDQUFnQyxjQUFjLEVBQUU7QUFDaEQsMkJBQTJCLGtCQUFrQjtBQUM3QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCLFdBQVc7QUFDWDtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQywwQkFBMEIsR0FBRywyQkFBMkI7QUFDM0Ysb0NBQW9DLG9CQUFvQixHQUFHLHNCQUFzQixHQUFHLHNCQUFzQjtBQUMxRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBOztBQUVBOztBQUVBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBCYWNrYm9uZS5TdGlja2l0IHYwLjguMCwgTUlUIExpY2Vuc2VkXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTIgVGhlIE5ldyBZb3JrIFRpbWVzLCBDTVMgR3JvdXAsIE1hdHRoZXcgRGVMYW1ibyA8ZGVsYW1ib0BnbWFpbC5jb20+XG5cbihmdW5jdGlvbiAoZmFjdG9yeSkge1xuXG4gIC8vIFNldCB1cCBTdGlja2l0IGFwcHJvcHJpYXRlbHkgZm9yIHRoZSBlbnZpcm9ubWVudC4gU3RhcnQgd2l0aCBBTUQuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoWyd1bmRlcnNjb3JlJywgJ2JhY2tib25lJywgJ2V4cG9ydHMnXSwgZmFjdG9yeSk7XG4gIH1cblxuICAvLyBOZXh0IGZvciBOb2RlLmpzIG9yIENvbW1vbkpTLlxuICBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICBmYWN0b3J5KHJlcXVpcmUoJ3VuZGVyc2NvcmUnKSwgcmVxdWlyZSgnYmFja2JvbmUnKSwgZXhwb3J0cyk7XG4gIH1cblxuICAvLyBGaW5hbGx5LCBhcyBhIGJyb3dzZXIgZ2xvYmFsLlxuICBlbHNlIHtcbiAgICBmYWN0b3J5KF8sIEJhY2tib25lLCB7fSk7XG4gIH1cblxufShmdW5jdGlvbiAoXywgQmFja2JvbmUsIFN0aWNraXQpIHtcblxuICAvLyBTdGlja2l0IE5hbWVzcGFjZVxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIFN0aWNraXQuX2hhbmRsZXJzID0gW107XG5cbiAgU3RpY2tpdC5hZGRIYW5kbGVyID0gZnVuY3Rpb24oaGFuZGxlcnMpIHtcbiAgICAvLyBGaWxsLWluIGRlZmF1bHQgdmFsdWVzLlxuICAgIGhhbmRsZXJzID0gXy5tYXAoXy5mbGF0dGVuKFtoYW5kbGVyc10pLCBmdW5jdGlvbihoYW5kbGVyKSB7XG4gICAgICByZXR1cm4gXy5leHRlbmQoe1xuICAgICAgICB1cGRhdGVNb2RlbDogdHJ1ZSxcbiAgICAgICAgdXBkYXRlVmlldzogdHJ1ZSxcbiAgICAgICAgdXBkYXRlTWV0aG9kOiAndGV4dCdcbiAgICAgIH0sIGhhbmRsZXIpO1xuICAgIH0pO1xuICAgIHRoaXMuX2hhbmRsZXJzID0gdGhpcy5faGFuZGxlcnMuY29uY2F0KGhhbmRsZXJzKTtcbiAgfTtcblxuICAvLyBCYWNrYm9uZS5WaWV3IE1peGluc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIFN0aWNraXQuVmlld01peGluID0ge1xuXG4gICAgLy8gQ29sbGVjdGlvbiBvZiBtb2RlbCBldmVudCBiaW5kaW5ncy5cbiAgICAvLyAgIFt7bW9kZWwsZXZlbnQsZm4sY29uZmlnfSwgLi4uXVxuICAgIF9tb2RlbEJpbmRpbmdzOiBudWxsLFxuXG4gICAgLy8gVW5iaW5kIHRoZSBtb2RlbCBhbmQgZXZlbnQgYmluZGluZ3MgZnJvbSBgdGhpcy5fbW9kZWxCaW5kaW5nc2AgYW5kXG4gICAgLy8gYHRoaXMuJGVsYC4gSWYgdGhlIG9wdGlvbmFsIGBtb2RlbGAgcGFyYW1ldGVyIGlzIGRlZmluZWQsIHRoZW4gb25seVxuICAgIC8vIGRlbGV0ZSBiaW5kaW5ncyBmb3IgdGhlIGdpdmVuIGBtb2RlbGAgYW5kIGl0cyBjb3JyZXNwb25kaW5nIHZpZXcgZXZlbnRzLlxuICAgIHVuc3RpY2tpdDogZnVuY3Rpb24obW9kZWwsIGJpbmRpbmdTZWxlY3Rvcikge1xuICAgICAgLy8gU3VwcG9ydCBiaW5kaW5ncyBoYXNoIGluIHBsYWNlIG9mIHNlbGVjdG9yLlxuICAgICAgaWYgKF8uaXNPYmplY3QoYmluZGluZ1NlbGVjdG9yKSkge1xuICAgICAgICBfLmVhY2goXy5rZXlzKGJpbmRpbmdTZWxlY3RvciksIGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICAgICAgdGhpcy51bnN0aWNraXQobW9kZWwsIHNlbGVjdG9yKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG1vZGVscyA9IFtdLCBkZXN0cm95Rm5zID0gW107XG4gICAgICBfLmVhY2godGhpcy5fbW9kZWxCaW5kaW5ncywgZnVuY3Rpb24oYmluZGluZywgaSkge1xuICAgICAgICBpZiAobW9kZWwgJiYgYmluZGluZy5tb2RlbCAhPT0gbW9kZWwpIHsgcmV0dXJuOyB9XG4gICAgICAgIGlmIChiaW5kaW5nU2VsZWN0b3IgJiYgYmluZGluZy5jb25maWcuc2VsZWN0b3IgIT0gYmluZGluZ1NlbGVjdG9yKSByZXR1cm47XG4gICAgICAgIGRlc3Ryb3lGbnMucHVzaChiaW5kaW5nLmNvbmZpZy5fZGVzdHJveSk7XG4gICAgICAgIGJpbmRpbmcubW9kZWwub2ZmKGJpbmRpbmcuZXZlbnQsIGJpbmRpbmcuZm4pO1xuICAgICAgICBtb2RlbHMucHVzaChiaW5kaW5nLm1vZGVsKTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX21vZGVsQmluZGluZ3NbaV07XG4gICAgICB9LCB0aGlzKTtcblxuICAgICAgLy8gVHJpZ2dlciBhbiBldmVudCBmb3IgZWFjaCBtb2RlbCB0aGF0IHdhcyB1bmJvdW5kLlxuICAgICAgXy5pbnZva2UoXy51bmlxKG1vZGVscyksICd0cmlnZ2VyJywgJ3N0aWNraXQ6dW5zdHVjaycsIHRoaXMuY2lkKTtcbiAgICAgIC8vIENhbGwgYF9kZXN0cm95YCBvbiBhIHVuaXF1ZSBsaXN0IG9mIHRoZSBiaW5kaW5nIGNhbGxiYWNrcy5cbiAgICAgIF8uZWFjaChfLnVuaXEoZGVzdHJveUZucyksIGZ1bmN0aW9uKGZuKSB7IGZuLmNhbGwodGhpcyk7IH0sIHRoaXMpO1xuICAgICAgLy8gQ2xlYW51cCB0aGUgbnVsbCB2YWx1ZXMuXG4gICAgICB0aGlzLl9tb2RlbEJpbmRpbmdzID0gXy5jb21wYWN0KHRoaXMuX21vZGVsQmluZGluZ3MpO1xuXG4gICAgICB0aGlzLiRlbC5vZmYoJy5zdGlja2l0JyArIChtb2RlbCA/ICcuJyArIG1vZGVsLmNpZCA6ICcnKSwgYmluZGluZ1NlbGVjdG9yKTtcbiAgICB9LFxuXG4gICAgLy8gVXNpbmcgYHRoaXMuYmluZGluZ3NgIGNvbmZpZ3VyYXRpb24gb3IgdGhlIGBvcHRpb25hbEJpbmRpbmdzQ29uZmlnYCwgYmluZHMgYHRoaXMubW9kZWxgXG4gICAgLy8gb3IgdGhlIGBvcHRpb25hbE1vZGVsYCB0byBlbGVtZW50cyBpbiB0aGUgdmlldy5cbiAgICBzdGlja2l0OiBmdW5jdGlvbihvcHRpb25hbE1vZGVsLCBvcHRpb25hbEJpbmRpbmdzQ29uZmlnKSB7XG4gICAgICB2YXIgbW9kZWwgPSBvcHRpb25hbE1vZGVsIHx8IHRoaXMubW9kZWwsXG4gICAgICAgICAgYmluZGluZ3MgPSBvcHRpb25hbEJpbmRpbmdzQ29uZmlnIHx8IF8ucmVzdWx0KHRoaXMsIFwiYmluZGluZ3NcIikgfHwge307XG5cbiAgICAgIHRoaXMuX21vZGVsQmluZGluZ3MgfHwgKHRoaXMuX21vZGVsQmluZGluZ3MgPSBbXSk7XG5cbiAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCB0aGUgc2VsZWN0b3JzIGluIHRoZSBiaW5kaW5ncyBjb25maWd1cmF0aW9uIGFuZCBjb25maWd1cmVcbiAgICAgIC8vIHRoZSB2YXJpb3VzIG9wdGlvbnMgZm9yIGVhY2ggZmllbGQuXG4gICAgICB0aGlzLmFkZEJpbmRpbmcobW9kZWwsIGJpbmRpbmdzKTtcblxuICAgICAgLy8gV3JhcCBgdmlldy5yZW1vdmVgIHRvIHVuYmluZCBzdGlja2l0IG1vZGVsIGFuZCBkb20gZXZlbnRzLlxuICAgICAgdmFyIHJlbW92ZSA9IHRoaXMucmVtb3ZlO1xuICAgICAgaWYgKCFyZW1vdmUuc3RpY2tpdFdyYXBwZWQpIHtcbiAgICAgICAgdGhpcy5yZW1vdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgcmV0ID0gdGhpcztcbiAgICAgICAgICB0aGlzLnVuc3RpY2tpdCgpO1xuICAgICAgICAgIGlmIChyZW1vdmUpIHJldCA9IHJlbW92ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICB0aGlzLnJlbW92ZS5zdGlja2l0V3JhcHBlZCA9IHRydWU7XG4gICAgfSxcblxuICAgIC8vIEFkZCBhIHNpbmdsZSBtb2RlbCBiaW5kaW5nIHRvIHRoZSB2aWV3XG4gICAgYWRkQmluZGluZzogZnVuY3Rpb24ob3B0aW9uYWxNb2RlbCwgc2Vjb25kLCBfYmluZGluZykge1xuICAgICAgdmFyICRlbCwgb3B0aW9ucywgbW9kZWxBdHRyLCBjb25maWcsIHNlbGVjdG9yLFxuICAgICAgICBtb2RlbCA9IG9wdGlvbmFsTW9kZWwgfHwgdGhpcy5tb2RlbCxcbiAgICAgICAgbmFtZXNwYWNlID0gJy5zdGlja2l0LicgKyBtb2RlbC5jaWQsXG4gICAgICAgIGJpbmRpbmcgPSBfYmluZGluZyB8fCB7fSxcbiAgICAgICAgYmluZElkID0gXy51bmlxdWVJZCgpO1xuXG4gICAgICAvLyBBbGxvdyBqUXVlcnktc3R5bGUge2tleTogdmFsfSBldmVudCBtYXBzXG4gICAgICBpZiAoXy5pc1N0cmluZyhzZWNvbmQpKSB7XG4gICAgICAgIHNlbGVjdG9yID0gc2Vjb25kO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGJpbmRpbmdzID0gc2Vjb25kO1xuICAgICAgICBfLmVhY2goYmluZGluZ3MsIGZ1bmN0aW9uKHYsIHNlbGVjdG9yKSB7XG4gICAgICAgICAgdGhpcy5hZGRCaW5kaW5nKG1vZGVsLCBzZWxlY3RvciwgYmluZGluZ3Nbc2VsZWN0b3JdKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gU3VwcG9ydCAnOmVsJyBzZWxlY3RvciAtIHNwZWNpYWwgY2FzZSBzZWxlY3RvciBmb3IgdGhlIHZpZXcgbWFuYWdlZCBkZWxlZ2F0ZS5cbiAgICAgICRlbCA9IHNlbGVjdG9yID09PSAnOmVsJyA/IHRoaXMuJGVsIDogdGhpcy4kKHNlbGVjdG9yKTtcblxuICAgICAgdGhpcy51bnN0aWNraXQobW9kZWwsIHNlbGVjdG9yKTtcblxuICAgICAgLy8gRmFpbCBmYXN0IGlmIHRoZSBzZWxlY3RvciBkaWRuJ3QgbWF0Y2ggYW4gZWxlbWVudC5cbiAgICAgIGlmICghJGVsLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgICAvLyBBbGxvdyBzaG9ydGhhbmQgc2V0dGluZyBvZiBtb2RlbCBhdHRyaWJ1dGVzIC0gYCdzZWxlY3Rvcic6J29ic2VydmUnYC5cbiAgICAgIGlmIChfLmlzU3RyaW5nKGJpbmRpbmcpKSBiaW5kaW5nID0ge29ic2VydmU6YmluZGluZ307XG5cbiAgICAgIC8vIEhhbmRsZSBjYXNlIHdoZXJlIGBvYnNlcnZlYCBpcyBpbiB0aGUgZm9ybSBvZiBhIGZ1bmN0aW9uLlxuICAgICAgaWYgKF8uaXNGdW5jdGlvbihiaW5kaW5nLm9ic2VydmUpKSBiaW5kaW5nLm9ic2VydmUgPSBiaW5kaW5nLm9ic2VydmUuY2FsbCh0aGlzKTtcblxuICAgICAgY29uZmlnID0gZ2V0Q29uZmlndXJhdGlvbigkZWwsIGJpbmRpbmcpO1xuICAgICAgY29uZmlnLnNlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgICBtb2RlbEF0dHIgPSBjb25maWcub2JzZXJ2ZTtcblxuICAgICAgLy8gQ3JlYXRlIHRoZSBtb2RlbCBzZXQgb3B0aW9ucyB3aXRoIGEgdW5pcXVlIGBiaW5kSWRgIHNvIHRoYXQgd2VcbiAgICAgIC8vIGNhbiBhdm9pZCBkb3VibGUtYmluZGluZyBpbiB0aGUgYGNoYW5nZTphdHRyaWJ1dGVgIGV2ZW50IGhhbmRsZXIuXG4gICAgICBjb25maWcuYmluZElkID0gYmluZElkO1xuXG4gICAgICAvLyBBZGQgYSByZWZlcmVuY2UgdG8gdGhlIHZpZXcgZm9yIGhhbmRsZXJzIG9mIHN0aWNraXRDaGFuZ2UgZXZlbnRzXG4gICAgICBjb25maWcudmlldyA9IHRoaXM7XG4gICAgICBvcHRpb25zID0gXy5leHRlbmQoe3N0aWNraXRDaGFuZ2U6Y29uZmlnfSwgY29uZmlnLnNldE9wdGlvbnMpO1xuXG4gICAgICAvLyBBZGQgYSBgX2Rlc3Ryb3lgIGNhbGxiYWNrIHRvIHRoZSBjb25maWd1cmF0aW9uLCBpbiBjYXNlIGBkZXN0cm95YFxuICAgICAgLy8gaXMgYSBuYW1lZCBmdW5jdGlvbiBhbmQgd2UgbmVlZCBhIHVuaXF1ZSBmdW5jdGlvbiB3aGVuIHVuc3RpY2tpbmcuXG4gICAgICBjb25maWcuX2Rlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgYXBwbHlWaWV3Rm4odGhpcywgY29uZmlnLmRlc3Ryb3ksICRlbCwgbW9kZWwsIGNvbmZpZyk7XG4gICAgICB9O1xuXG4gICAgICBpbml0aWFsaXplQXR0cmlidXRlcyh0aGlzLCAkZWwsIGNvbmZpZywgbW9kZWwsIG1vZGVsQXR0cik7XG5cbiAgICAgIGluaXRpYWxpemVWaXNpYmxlKHRoaXMsICRlbCwgY29uZmlnLCBtb2RlbCwgbW9kZWxBdHRyKTtcblxuICAgICAgaWYgKG1vZGVsQXR0cikge1xuICAgICAgICAvLyBTZXR1cCBvbmUtd2F5LCBmb3JtIGVsZW1lbnQgdG8gbW9kZWwsIGJpbmRpbmdzLlxuICAgICAgICBfLmVhY2goY29uZmlnLmV2ZW50cywgZnVuY3Rpb24odHlwZSkge1xuICAgICAgICAgIHZhciBldmVudCA9IHR5cGUgKyBuYW1lc3BhY2U7XG4gICAgICAgICAgdmFyIG1ldGhvZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgdmFsID0gY29uZmlnLmdldFZhbC5jYWxsKHRoaXMsICRlbCwgZXZlbnQsIGNvbmZpZywgXy5yZXN0KGFyZ3VtZW50cykpO1xuICAgICAgICAgICAgLy8gRG9uJ3QgdXBkYXRlIHRoZSBtb2RlbCBpZiBmYWxzZSBpcyByZXR1cm5lZCBmcm9tIHRoZSBgdXBkYXRlTW9kZWxgIGNvbmZpZ3VyYXRpb24uXG4gICAgICAgICAgICBpZiAoZXZhbHVhdGVCb29sZWFuKHRoaXMsIGNvbmZpZy51cGRhdGVNb2RlbCwgdmFsLCBldmVudCwgY29uZmlnKSlcbiAgICAgICAgICAgICAgc2V0QXR0cihtb2RlbCwgbW9kZWxBdHRyLCB2YWwsIG9wdGlvbnMsIHRoaXMsIGNvbmZpZyk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBtZXRob2QgPSBfLmJpbmQobWV0aG9kLCB0aGlzKTtcbiAgICAgICAgICBpZiAoc2VsZWN0b3IgPT09ICc6ZWwnKSB0aGlzLiRlbC5vbihldmVudCwgbWV0aG9kKTtcbiAgICAgICAgICBlbHNlIHRoaXMuJGVsLm9uKGV2ZW50LCBzZWxlY3RvciwgbWV0aG9kKTtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgLy8gU2V0dXAgYSBgY2hhbmdlOm1vZGVsQXR0cmAgb2JzZXJ2ZXIgdG8ga2VlcCB0aGUgdmlldyBlbGVtZW50IGluIHN5bmMuXG4gICAgICAgIC8vIGBtb2RlbEF0dHJgIG1heSBiZSBhbiBhcnJheSBvZiBhdHRyaWJ1dGVzIG9yIGEgc2luZ2xlIHN0cmluZyB2YWx1ZS5cbiAgICAgICAgXy5lYWNoKF8uZmxhdHRlbihbbW9kZWxBdHRyXSksIGZ1bmN0aW9uKGF0dHIpIHtcbiAgICAgICAgICBvYnNlcnZlTW9kZWxFdmVudChtb2RlbCwgdGhpcywgJ2NoYW5nZTonK2F0dHIsIGNvbmZpZywgZnVuY3Rpb24obW9kZWwsIHZhbCwgb3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIGNoYW5nZUlkID0gb3B0aW9ucyAmJiBvcHRpb25zLnN0aWNraXRDaGFuZ2UgJiYgb3B0aW9ucy5zdGlja2l0Q2hhbmdlLmJpbmRJZCB8fCBudWxsO1xuICAgICAgICAgICAgaWYgKGNoYW5nZUlkICE9PSBiaW5kSWQpXG4gICAgICAgICAgICAgIHVwZGF0ZVZpZXdCaW5kRWwodGhpcywgJGVsLCBjb25maWcsIGdldEF0dHIobW9kZWwsIG1vZGVsQXR0ciwgY29uZmlnLCB0aGlzKSwgbW9kZWwpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICB1cGRhdGVWaWV3QmluZEVsKHRoaXMsICRlbCwgY29uZmlnLCBnZXRBdHRyKG1vZGVsLCBtb2RlbEF0dHIsIGNvbmZpZywgdGhpcyksIG1vZGVsLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgLy8gQWZ0ZXIgZWFjaCBiaW5kaW5nIGlzIHNldHVwLCBjYWxsIHRoZSBgaW5pdGlhbGl6ZWAgY2FsbGJhY2suXG4gICAgICBhcHBseVZpZXdGbih0aGlzLCBjb25maWcuaW5pdGlhbGl6ZSwgJGVsLCBtb2RlbCwgY29uZmlnKTtcbiAgICB9XG4gIH07XG5cbiAgXy5leHRlbmQoQmFja2JvbmUuVmlldy5wcm90b3R5cGUsIFN0aWNraXQuVmlld01peGluKTtcblxuICAvLyBIZWxwZXJzXG4gIC8vIC0tLS0tLS1cblxuICAvLyBFdmFsdWF0ZXMgdGhlIGdpdmVuIGBwYXRoYCAoaW4gb2JqZWN0L2RvdC1ub3RhdGlvbikgcmVsYXRpdmUgdG8gdGhlIGdpdmVuXG4gIC8vIGBvYmpgLiBJZiB0aGUgcGF0aCBpcyBudWxsL3VuZGVmaW5lZCwgdGhlbiB0aGUgZ2l2ZW4gYG9iamAgaXMgcmV0dXJuZWQuXG4gIHZhciBldmFsdWF0ZVBhdGggPSBmdW5jdGlvbihvYmosIHBhdGgpIHtcbiAgICB2YXIgcGFydHMgPSAocGF0aCB8fCAnJykuc3BsaXQoJy4nKTtcbiAgICB2YXIgcmVzdWx0ID0gXy5yZWR1Y2UocGFydHMsIGZ1bmN0aW9uKG1lbW8sIGkpIHsgcmV0dXJuIG1lbW9baV07IH0sIG9iaik7XG4gICAgcmV0dXJuIHJlc3VsdCA9PSBudWxsID8gb2JqIDogcmVzdWx0O1xuICB9O1xuXG4gIC8vIElmIHRoZSBnaXZlbiBgZm5gIGlzIGEgc3RyaW5nLCB0aGVuIHZpZXdbZm5dIGlzIGNhbGxlZCwgb3RoZXJ3aXNlIGl0IGlzXG4gIC8vIGEgZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgZXhlY3V0ZWQuXG4gIHZhciBhcHBseVZpZXdGbiA9IGZ1bmN0aW9uKHZpZXcsIGZuKSB7XG4gICAgaWYgKGZuKSByZXR1cm4gKF8uaXNTdHJpbmcoZm4pID8gZXZhbHVhdGVQYXRoKHZpZXcsZm4pIDogZm4pLmFwcGx5KHZpZXcsIF8ucmVzdChhcmd1bWVudHMsIDIpKTtcbiAgfTtcblxuICB2YXIgZ2V0U2VsZWN0ZWRPcHRpb24gPSBmdW5jdGlvbigkc2VsZWN0KSB7IHJldHVybiAkc2VsZWN0LmZpbmQoJ29wdGlvbicpLm5vdChmdW5jdGlvbigpeyByZXR1cm4gIXRoaXMuc2VsZWN0ZWQ7IH0pOyB9O1xuXG4gIC8vIEdpdmVuIGEgZnVuY3Rpb24sIHN0cmluZyAodmlldyBmdW5jdGlvbiByZWZlcmVuY2UpLCBvciBhIGJvb2xlYW5cbiAgLy8gdmFsdWUsIHJldHVybnMgdGhlIHRydXRoeSByZXN1bHQuIEFueSBvdGhlciB0eXBlcyBldmFsdWF0ZSBhcyBmYWxzZS5cbiAgdmFyIGV2YWx1YXRlQm9vbGVhbiA9IGZ1bmN0aW9uKHZpZXcsIHJlZmVyZW5jZSkge1xuICAgIGlmIChfLmlzQm9vbGVhbihyZWZlcmVuY2UpKSByZXR1cm4gcmVmZXJlbmNlO1xuICAgIGVsc2UgaWYgKF8uaXNGdW5jdGlvbihyZWZlcmVuY2UpIHx8IF8uaXNTdHJpbmcocmVmZXJlbmNlKSlcbiAgICAgIHJldHVybiBhcHBseVZpZXdGbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvLyBTZXR1cCBhIG1vZGVsIGV2ZW50IGJpbmRpbmcgd2l0aCB0aGUgZ2l2ZW4gZnVuY3Rpb24sIGFuZCB0cmFjayB0aGUgZXZlbnRcbiAgLy8gaW4gdGhlIHZpZXcncyBfbW9kZWxCaW5kaW5ncy5cbiAgdmFyIG9ic2VydmVNb2RlbEV2ZW50ID0gZnVuY3Rpb24obW9kZWwsIHZpZXcsIGV2ZW50LCBjb25maWcsIGZuKSB7XG4gICAgbW9kZWwub24oZXZlbnQsIGZuLCB2aWV3KTtcbiAgICB2aWV3Ll9tb2RlbEJpbmRpbmdzLnB1c2goe21vZGVsOm1vZGVsLCBldmVudDpldmVudCwgZm46Zm4sIGNvbmZpZzpjb25maWd9KTtcbiAgfTtcblxuICAvLyBQcmVwYXJlcyB0aGUgZ2l2ZW4gYHZhbGB1ZSBhbmQgc2V0cyBpdCBpbnRvIHRoZSBgbW9kZWxgLlxuICB2YXIgc2V0QXR0ciA9IGZ1bmN0aW9uKG1vZGVsLCBhdHRyLCB2YWwsIG9wdGlvbnMsIGNvbnRleHQsIGNvbmZpZykge1xuICAgIHZhciB2YWx1ZSA9IHt9O1xuICAgIGlmIChjb25maWcub25TZXQpXG4gICAgICB2YWwgPSBhcHBseVZpZXdGbihjb250ZXh0LCBjb25maWcub25TZXQsIHZhbCwgY29uZmlnKTtcblxuICAgIGlmIChjb25maWcuc2V0KVxuICAgICAgYXBwbHlWaWV3Rm4oY29udGV4dCwgY29uZmlnLnNldCwgYXR0ciwgdmFsLCBvcHRpb25zLCBjb25maWcpO1xuICAgIGVsc2Uge1xuICAgICAgdmFsdWVbYXR0cl0gPSB2YWw7XG4gICAgICAvLyBJZiBgb2JzZXJ2ZWAgaXMgZGVmaW5lZCBhcyBhbiBhcnJheSBhbmQgYG9uU2V0YCByZXR1cm5lZFxuICAgICAgLy8gYW4gYXJyYXksIHRoZW4gbWFwIGF0dHJpYnV0ZXMgdG8gdGhlaXIgdmFsdWVzLlxuICAgICAgaWYgKF8uaXNBcnJheShhdHRyKSAmJiBfLmlzQXJyYXkodmFsKSkge1xuICAgICAgICB2YWx1ZSA9IF8ucmVkdWNlKGF0dHIsIGZ1bmN0aW9uKG1lbW8sIGF0dHJpYnV0ZSwgaW5kZXgpIHtcbiAgICAgICAgICBtZW1vW2F0dHJpYnV0ZV0gPSBfLmhhcyh2YWwsIGluZGV4KSA/IHZhbFtpbmRleF0gOiBudWxsO1xuICAgICAgICAgIHJldHVybiBtZW1vO1xuICAgICAgICB9LCB7fSk7XG4gICAgICB9XG4gICAgICBtb2RlbC5zZXQodmFsdWUsIG9wdGlvbnMpO1xuICAgIH1cbiAgfTtcblxuICAvLyBSZXR1cm5zIHRoZSBnaXZlbiBgYXR0cmAncyB2YWx1ZSBmcm9tIHRoZSBgbW9kZWxgLCBlc2NhcGluZyBhbmRcbiAgLy8gZm9ybWF0dGluZyBpZiBuZWNlc3NhcnkuIElmIGBhdHRyYCBpcyBhbiBhcnJheSwgdGhlbiBhbiBhcnJheSBvZlxuICAvLyByZXNwZWN0aXZlIHZhbHVlcyB3aWxsIGJlIHJldHVybmVkLlxuICB2YXIgZ2V0QXR0ciA9IGZ1bmN0aW9uKG1vZGVsLCBhdHRyLCBjb25maWcsIGNvbnRleHQpIHtcbiAgICB2YXIgdmFsLFxuICAgICAgcmV0cmlldmVWYWwgPSBmdW5jdGlvbihmaWVsZCkge1xuICAgICAgICByZXR1cm4gbW9kZWxbY29uZmlnLmVzY2FwZSA/ICdlc2NhcGUnIDogJ2dldCddKGZpZWxkKTtcbiAgICAgIH0sXG4gICAgICBzYW5pdGl6ZVZhbCA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICByZXR1cm4gdmFsID09IG51bGwgPyAnJyA6IHZhbDtcbiAgICAgIH07XG4gICAgdmFsID0gXy5pc0FycmF5KGF0dHIpID8gXy5tYXAoYXR0ciwgcmV0cmlldmVWYWwpIDogcmV0cmlldmVWYWwoYXR0cik7XG4gICAgaWYgKGNvbmZpZy5vbkdldCkgdmFsID0gYXBwbHlWaWV3Rm4oY29udGV4dCwgY29uZmlnLm9uR2V0LCB2YWwsIGNvbmZpZyk7XG4gICAgcmV0dXJuIF8uaXNBcnJheSh2YWwpID8gXy5tYXAodmFsLCBzYW5pdGl6ZVZhbCkgOiBzYW5pdGl6ZVZhbCh2YWwpO1xuICB9O1xuXG4gIC8vIEZpbmQgaGFuZGxlcnMgaW4gYEJhY2tib25lLlN0aWNraXQuX2hhbmRsZXJzYCB3aXRoIHNlbGVjdG9ycyB0aGF0IG1hdGNoXG4gIC8vIGAkZWxgIGFuZCBnZW5lcmF0ZSBhIGNvbmZpZ3VyYXRpb24gYnkgbWl4aW5nIHRoZW0gaW4gdGhlIG9yZGVyIHRoYXQgdGhleVxuICAvLyB3ZXJlIGZvdW5kIHdpdGggdGhlIGdpdmVuIGBiaW5kaW5nYC5cbiAgdmFyIGdldENvbmZpZ3VyYXRpb24gPSBTdGlja2l0LmdldENvbmZpZ3VyYXRpb24gPSBmdW5jdGlvbigkZWwsIGJpbmRpbmcpIHtcbiAgICB2YXIgaGFuZGxlcnMgPSBbe1xuICAgICAgdXBkYXRlTW9kZWw6IGZhbHNlLFxuICAgICAgdXBkYXRlTWV0aG9kOiAndGV4dCcsXG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uKCRlbCwgdmFsLCBtLCBvcHRzKSB7IGlmICgkZWxbb3B0cy51cGRhdGVNZXRob2RdKSAkZWxbb3B0cy51cGRhdGVNZXRob2RdKHZhbCk7IH0sXG4gICAgICBnZXRWYWw6IGZ1bmN0aW9uKCRlbCwgZSwgb3B0cykgeyByZXR1cm4gJGVsW29wdHMudXBkYXRlTWV0aG9kXSgpOyB9XG4gICAgfV07XG4gICAgaGFuZGxlcnMgPSBoYW5kbGVycy5jb25jYXQoXy5maWx0ZXIoU3RpY2tpdC5faGFuZGxlcnMsIGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICAgIHJldHVybiAkZWwuaXMoaGFuZGxlci5zZWxlY3Rvcik7XG4gICAgfSkpO1xuICAgIGhhbmRsZXJzLnB1c2goYmluZGluZyk7XG4gICAgdmFyIGNvbmZpZyA9IF8uZXh0ZW5kLmFwcGx5KF8sIGhhbmRsZXJzKTtcbiAgICAvLyBgdXBkYXRlVmlld2AgaXMgZGVmYXVsdGVkIHRvIGZhbHNlIGZvciBjb25maWd1dHJhdGlvbnMgd2l0aFxuICAgIC8vIGB2aXNpYmxlYDsgb3RoZXJ3aXNlLCBgdXBkYXRlVmlld2AgaXMgZGVmYXVsdGVkIHRvIHRydWUuXG4gICAgaWYgKGNvbmZpZy52aXNpYmxlICYmICFfLmhhcyhjb25maWcsICd1cGRhdGVWaWV3JykpIGNvbmZpZy51cGRhdGVWaWV3ID0gZmFsc2U7XG4gICAgZWxzZSBpZiAoIV8uaGFzKGNvbmZpZywgJ3VwZGF0ZVZpZXcnKSkgY29uZmlnLnVwZGF0ZVZpZXcgPSB0cnVlO1xuICAgIHJldHVybiBjb25maWc7XG4gIH07XG5cbiAgLy8gU2V0dXAgdGhlIGF0dHJpYnV0ZXMgY29uZmlndXJhdGlvbiAtIGEgbGlzdCB0aGF0IG1hcHMgYW4gYXR0cmlidXRlIG9yXG4gIC8vIHByb3BlcnR5IGBuYW1lYCwgdG8gYW4gYG9ic2VydmVgZCBtb2RlbCBhdHRyaWJ1dGUsIHVzaW5nIGFuIG9wdGlvbmFsXG4gIC8vIGBvbkdldGAgZm9ybWF0dGVyLlxuICAvL1xuICAvLyAgICAgYXR0cmlidXRlczogW3tcbiAgLy8gICAgICAgbmFtZTogJ2F0dHJpYnV0ZU9yUHJvcGVydHlOYW1lJyxcbiAgLy8gICAgICAgb2JzZXJ2ZTogJ21vZGVsQXR0ck5hbWUnXG4gIC8vICAgICAgIG9uR2V0OiBmdW5jdGlvbihtb2RlbEF0dHJWYWwsIG1vZGVsQXR0ck5hbWUpIHsgLi4uIH1cbiAgLy8gICAgIH0sIC4uLl1cbiAgLy9cbiAgdmFyIGluaXRpYWxpemVBdHRyaWJ1dGVzID0gZnVuY3Rpb24odmlldywgJGVsLCBjb25maWcsIG1vZGVsLCBtb2RlbEF0dHIpIHtcbiAgICB2YXIgcHJvcHMgPSBbJ2F1dG9mb2N1cycsICdhdXRvcGxheScsICdhc3luYycsICdjaGVja2VkJywgJ2NvbnRyb2xzJywgJ2RlZmVyJywgJ2Rpc2FibGVkJywgJ2hpZGRlbicsICdpbmRldGVybWluYXRlJywgJ2xvb3AnLCAnbXVsdGlwbGUnLCAnb3BlbicsICdyZWFkb25seScsICdyZXF1aXJlZCcsICdzY29wZWQnLCAnc2VsZWN0ZWQnXTtcblxuICAgIF8uZWFjaChjb25maWcuYXR0cmlidXRlcyB8fCBbXSwgZnVuY3Rpb24oYXR0ckNvbmZpZykge1xuICAgICAgdmFyIGxhc3RDbGFzcyA9ICcnLCBvYnNlcnZlZCwgdXBkYXRlQXR0cjtcbiAgICAgIGF0dHJDb25maWcgPSBfLmNsb25lKGF0dHJDb25maWcpO1xuICAgICAgb2JzZXJ2ZWQgPSBhdHRyQ29uZmlnLm9ic2VydmUgfHwgKGF0dHJDb25maWcub2JzZXJ2ZSA9IG1vZGVsQXR0ciksXG4gICAgICB1cGRhdGVBdHRyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB1cGRhdGVUeXBlID0gXy5pbmRleE9mKHByb3BzLCBhdHRyQ29uZmlnLm5hbWUsIHRydWUpID4gLTEgPyAncHJvcCcgOiAnYXR0cicsXG4gICAgICAgICAgdmFsID0gZ2V0QXR0cihtb2RlbCwgb2JzZXJ2ZWQsIGF0dHJDb25maWcsIHZpZXcpO1xuICAgICAgICAvLyBJZiBpdCBpcyBhIGNsYXNzIHRoZW4gd2UgbmVlZCB0byByZW1vdmUgdGhlIGxhc3QgdmFsdWUgYW5kIGFkZCB0aGUgbmV3LlxuICAgICAgICBpZiAoYXR0ckNvbmZpZy5uYW1lID09PSAnY2xhc3MnKSB7XG4gICAgICAgICAgJGVsLnJlbW92ZUNsYXNzKGxhc3RDbGFzcykuYWRkQ2xhc3ModmFsKTtcbiAgICAgICAgICBsYXN0Q2xhc3MgPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSAkZWxbdXBkYXRlVHlwZV0oYXR0ckNvbmZpZy5uYW1lLCB2YWwpO1xuICAgICAgfTtcbiAgICAgIF8uZWFjaChfLmZsYXR0ZW4oW29ic2VydmVkXSksIGZ1bmN0aW9uKGF0dHIpIHtcbiAgICAgICAgb2JzZXJ2ZU1vZGVsRXZlbnQobW9kZWwsIHZpZXcsICdjaGFuZ2U6JyArIGF0dHIsIGNvbmZpZywgdXBkYXRlQXR0cik7XG4gICAgICB9KTtcbiAgICAgIHVwZGF0ZUF0dHIoKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBJZiBgdmlzaWJsZWAgaXMgY29uZmlndXJlZCwgdGhlbiB0aGUgdmlldyBlbGVtZW50IHdpbGwgYmUgc2hvd24vaGlkZGVuXG4gIC8vIGJhc2VkIG9uIHRoZSB0cnV0aGluZXNzIG9mIHRoZSBtb2RlbGF0dHIncyB2YWx1ZSBvciB0aGUgcmVzdWx0IG9mIHRoZVxuICAvLyBnaXZlbiBjYWxsYmFjay4gSWYgYSBgdmlzaWJsZUZuYCBpcyBhbHNvIHN1cHBsaWVkLCB0aGVuIHRoYXQgY2FsbGJhY2tcbiAgLy8gd2lsbCBiZSBleGVjdXRlZCB0byBtYW51YWxseSBoYW5kbGUgc2hvd2luZy9oaWRpbmcgdGhlIHZpZXcgZWxlbWVudC5cbiAgLy9cbiAgLy8gICAgIG9ic2VydmU6ICdpc1JpZ2h0JyxcbiAgLy8gICAgIHZpc2libGU6IHRydWUsIC8vIG9yIGZ1bmN0aW9uKHZhbCwgb3B0aW9ucykge31cbiAgLy8gICAgIHZpc2libGVGbjogZnVuY3Rpb24oJGVsLCBpc1Zpc2libGUsIG9wdGlvbnMpIHt9IC8vIG9wdGlvbmFsIGhhbmRsZXJcbiAgLy9cbiAgdmFyIGluaXRpYWxpemVWaXNpYmxlID0gZnVuY3Rpb24odmlldywgJGVsLCBjb25maWcsIG1vZGVsLCBtb2RlbEF0dHIpIHtcbiAgICBpZiAoY29uZmlnLnZpc2libGUgPT0gbnVsbCkgcmV0dXJuO1xuICAgIHZhciB2aXNpYmxlQ2IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB2aXNpYmxlID0gY29uZmlnLnZpc2libGUsXG4gICAgICAgICAgdmlzaWJsZUZuID0gY29uZmlnLnZpc2libGVGbixcbiAgICAgICAgICB2YWwgPSBnZXRBdHRyKG1vZGVsLCBtb2RlbEF0dHIsIGNvbmZpZywgdmlldyksXG4gICAgICAgICAgaXNWaXNpYmxlID0gISF2YWw7XG4gICAgICAvLyBJZiBgdmlzaWJsZWAgaXMgYSBmdW5jdGlvbiB0aGVuIGl0IHNob3VsZCByZXR1cm4gYSBib29sZWFuIHJlc3VsdCB0byBzaG93L2hpZGUuXG4gICAgICBpZiAoXy5pc0Z1bmN0aW9uKHZpc2libGUpIHx8IF8uaXNTdHJpbmcodmlzaWJsZSkpIGlzVmlzaWJsZSA9ICEhYXBwbHlWaWV3Rm4odmlldywgdmlzaWJsZSwgdmFsLCBjb25maWcpO1xuICAgICAgLy8gRWl0aGVyIHVzZSB0aGUgY3VzdG9tIGB2aXNpYmxlRm5gLCBpZiBwcm92aWRlZCwgb3IgZXhlY3V0ZSB0aGUgc3RhbmRhcmQgc2hvdy9oaWRlLlxuICAgICAgaWYgKHZpc2libGVGbikgYXBwbHlWaWV3Rm4odmlldywgdmlzaWJsZUZuLCAkZWwsIGlzVmlzaWJsZSwgY29uZmlnKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICAkZWwudG9nZ2xlKGlzVmlzaWJsZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBfLmVhY2goXy5mbGF0dGVuKFttb2RlbEF0dHJdKSwgZnVuY3Rpb24oYXR0cikge1xuICAgICAgb2JzZXJ2ZU1vZGVsRXZlbnQobW9kZWwsIHZpZXcsICdjaGFuZ2U6JyArIGF0dHIsIGNvbmZpZywgdmlzaWJsZUNiKTtcbiAgICB9KTtcbiAgICB2aXNpYmxlQ2IoKTtcbiAgfTtcblxuICAvLyBVcGRhdGUgdGhlIHZhbHVlIG9mIGAkZWxgIHVzaW5nIHRoZSBnaXZlbiBjb25maWd1cmF0aW9uIGFuZCB0cmlnZ2VyIHRoZVxuICAvLyBgYWZ0ZXJVcGRhdGVgIGNhbGxiYWNrLiBUaGlzIGFjdGlvbiBtYXkgYmUgYmxvY2tlZCBieSBgY29uZmlnLnVwZGF0ZVZpZXdgLlxuICAvL1xuICAvLyAgICAgdXBkYXRlOiBmdW5jdGlvbigkZWwsIHZhbCwgbW9kZWwsIG9wdGlvbnMpIHt9LCAgLy8gaGFuZGxlciBmb3IgdXBkYXRpbmdcbiAgLy8gICAgIHVwZGF0ZVZpZXc6IHRydWUsIC8vIGRlZmF1bHRzIHRvIHRydWVcbiAgLy8gICAgIGFmdGVyVXBkYXRlOiBmdW5jdGlvbigkZWwsIHZhbCwgb3B0aW9ucykge30gLy8gb3B0aW9uYWwgY2FsbGJhY2tcbiAgLy9cbiAgdmFyIHVwZGF0ZVZpZXdCaW5kRWwgPSBmdW5jdGlvbih2aWV3LCAkZWwsIGNvbmZpZywgdmFsLCBtb2RlbCwgaXNJbml0aWFsaXppbmcpIHtcbiAgICBpZiAoIWV2YWx1YXRlQm9vbGVhbih2aWV3LCBjb25maWcudXBkYXRlVmlldywgdmFsLCBjb25maWcpKSByZXR1cm47XG4gICAgYXBwbHlWaWV3Rm4odmlldywgY29uZmlnLnVwZGF0ZSwgJGVsLCB2YWwsIG1vZGVsLCBjb25maWcpO1xuICAgIGlmICghaXNJbml0aWFsaXppbmcpIGFwcGx5Vmlld0ZuKHZpZXcsIGNvbmZpZy5hZnRlclVwZGF0ZSwgJGVsLCB2YWwsIGNvbmZpZyk7XG4gIH07XG5cbiAgLy8gRGVmYXVsdCBIYW5kbGVyc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tXG5cbiAgU3RpY2tpdC5hZGRIYW5kbGVyKFt7XG4gICAgc2VsZWN0b3I6ICdbY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiXScsXG4gICAgdXBkYXRlTWV0aG9kOiAnaHRtbCcsXG4gICAgZXZlbnRzOiBbJ2lucHV0JywgJ2NoYW5nZSddXG4gIH0sIHtcbiAgICBzZWxlY3RvcjogJ2lucHV0JyxcbiAgICBldmVudHM6IFsncHJvcGVydHljaGFuZ2UnLCAnaW5wdXQnLCAnY2hhbmdlJ10sXG4gICAgdXBkYXRlOiBmdW5jdGlvbigkZWwsIHZhbCkgeyAkZWwudmFsKHZhbCk7IH0sXG4gICAgZ2V0VmFsOiBmdW5jdGlvbigkZWwpIHtcbiAgICAgIHJldHVybiAkZWwudmFsKCk7XG4gICAgfVxuICB9LCB7XG4gICAgc2VsZWN0b3I6ICd0ZXh0YXJlYScsXG4gICAgZXZlbnRzOiBbJ3Byb3BlcnR5Y2hhbmdlJywgJ2lucHV0JywgJ2NoYW5nZSddLFxuICAgIHVwZGF0ZTogZnVuY3Rpb24oJGVsLCB2YWwpIHsgJGVsLnZhbCh2YWwpOyB9LFxuICAgIGdldFZhbDogZnVuY3Rpb24oJGVsKSB7IHJldHVybiAkZWwudmFsKCk7IH1cbiAgfSwge1xuICAgIHNlbGVjdG9yOiAnaW5wdXRbdHlwZT1cInJhZGlvXCJdJyxcbiAgICBldmVudHM6IFsnY2hhbmdlJ10sXG4gICAgdXBkYXRlOiBmdW5jdGlvbigkZWwsIHZhbCkge1xuICAgICAgJGVsLmZpbHRlcignW3ZhbHVlPVwiJyt2YWwrJ1wiXScpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtcbiAgICB9LFxuICAgIGdldFZhbDogZnVuY3Rpb24oJGVsKSB7XG4gICAgICByZXR1cm4gJGVsLmZpbHRlcignOmNoZWNrZWQnKS52YWwoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBzZWxlY3RvcjogJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScsXG4gICAgZXZlbnRzOiBbJ2NoYW5nZSddLFxuICAgIHVwZGF0ZTogZnVuY3Rpb24oJGVsLCB2YWwsIG1vZGVsLCBvcHRpb25zKSB7XG4gICAgICBpZiAoJGVsLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgLy8gVGhlcmUgYXJlIG11bHRpcGxlIGNoZWNrYm94ZXMgc28gd2UgbmVlZCB0byBnbyB0aHJvdWdoIHRoZW0gYW5kIGNoZWNrXG4gICAgICAgIC8vIGFueSB0aGF0IGhhdmUgdmFsdWUgYXR0cmlidXRlcyB0aGF0IG1hdGNoIHdoYXQncyBpbiB0aGUgYXJyYXkgb2YgYHZhbGBzLlxuICAgICAgICB2YWwgfHwgKHZhbCA9IFtdKTtcbiAgICAgICAgJGVsLmVhY2goZnVuY3Rpb24oaSwgZWwpIHtcbiAgICAgICAgICB2YXIgY2hlY2tib3ggPSBCYWNrYm9uZS4kKGVsKTtcbiAgICAgICAgICB2YXIgY2hlY2tlZCA9IF8uY29udGFpbnModmFsLCBjaGVja2JveC52YWwoKSk7XG4gICAgICAgICAgY2hlY2tib3gucHJvcCgnY2hlY2tlZCcsIGNoZWNrZWQpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBjaGVja2VkID0gXy5pc0Jvb2xlYW4odmFsKSA/IHZhbCA6IHZhbCA9PT0gJGVsLnZhbCgpO1xuICAgICAgICAkZWwucHJvcCgnY2hlY2tlZCcsIGNoZWNrZWQpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0VmFsOiBmdW5jdGlvbigkZWwpIHtcbiAgICAgIHZhciB2YWw7XG4gICAgICBpZiAoJGVsLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdmFsID0gXy5yZWR1Y2UoJGVsLCBmdW5jdGlvbihtZW1vLCBlbCkge1xuICAgICAgICAgIHZhciBjaGVja2JveCA9IEJhY2tib25lLiQoZWwpO1xuICAgICAgICAgIGlmIChjaGVja2JveC5wcm9wKCdjaGVja2VkJykpIG1lbW8ucHVzaChjaGVja2JveC52YWwoKSk7XG4gICAgICAgICAgcmV0dXJuIG1lbW87XG4gICAgICAgIH0sIFtdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbCA9ICRlbC5wcm9wKCdjaGVja2VkJyk7XG4gICAgICAgIC8vIElmIHRoZSBjaGVja2JveCBoYXMgYSB2YWx1ZSBhdHRyaWJ1dGUgZGVmaW5lZCwgdGhlblxuICAgICAgICAvLyB1c2UgdGhhdCB2YWx1ZS4gTW9zdCBicm93c2VycyB1c2UgXCJvblwiIGFzIGEgZGVmYXVsdC5cbiAgICAgICAgdmFyIGJveHZhbCA9ICRlbC52YWwoKTtcbiAgICAgICAgaWYgKGJveHZhbCAhPT0gJ29uJyAmJiBib3h2YWwgIT0gbnVsbCkge1xuICAgICAgICAgIHZhbCA9IHZhbCA/ICRlbC52YWwoKSA6IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICB9LCB7XG4gICAgc2VsZWN0b3I6ICdzZWxlY3QnLFxuICAgIGV2ZW50czogWydjaGFuZ2UnXSxcbiAgICB1cGRhdGU6IGZ1bmN0aW9uKCRlbCwgdmFsLCBtb2RlbCwgb3B0aW9ucykge1xuICAgICAgdmFyIG9wdExpc3QsXG4gICAgICAgIHNlbGVjdENvbmZpZyA9IG9wdGlvbnMuc2VsZWN0T3B0aW9ucyxcbiAgICAgICAgbGlzdCA9IHNlbGVjdENvbmZpZyAmJiBzZWxlY3RDb25maWcuY29sbGVjdGlvbiB8fCB1bmRlZmluZWQsXG4gICAgICAgIGlzTXVsdGlwbGUgPSAkZWwucHJvcCgnbXVsdGlwbGUnKTtcblxuICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vIGBzZWxlY3RPcHRpb25zYCB0aGVuIHdlIGFzc3VtZSB0aGF0IHRoZSBgPHNlbGVjdD5gXG4gICAgICAvLyBpcyBwcmUtcmVuZGVyZWQgYW5kIHRoYXQgd2UgbmVlZCB0byBnZW5lcmF0ZSB0aGUgY29sbGVjdGlvbi5cbiAgICAgIGlmICghc2VsZWN0Q29uZmlnKSB7XG4gICAgICAgIHNlbGVjdENvbmZpZyA9IHt9O1xuICAgICAgICB2YXIgZ2V0TGlzdCA9IGZ1bmN0aW9uKCRlbCkge1xuICAgICAgICAgIHJldHVybiAkZWwubWFwKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWx1ZTp0aGlzLnZhbHVlLCBsYWJlbDp0aGlzLnRleHR9O1xuICAgICAgICAgIH0pLmdldCgpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoJGVsLmZpbmQoJ29wdGdyb3VwJykubGVuZ3RoKSB7XG4gICAgICAgICAgbGlzdCA9IHtvcHRfbGFiZWxzOltdfTtcbiAgICAgICAgICAvLyBTZWFyY2ggZm9yIG9wdGlvbnMgd2l0aG91dCBvcHRncm91cFxuICAgICAgICAgIGlmICgkZWwuZmluZCgnPiBvcHRpb24nKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxpc3Qub3B0X2xhYmVscy5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBfLmVhY2goJGVsLmZpbmQoJz4gb3B0aW9uJyksIGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICAgIGxpc3RbdW5kZWZpbmVkXSA9IGdldExpc3QoQmFja2JvbmUuJChlbCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIF8uZWFjaCgkZWwuZmluZCgnb3B0Z3JvdXAnKSwgZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IEJhY2tib25lLiQoZWwpLmF0dHIoJ2xhYmVsJyk7XG4gICAgICAgICAgICBsaXN0Lm9wdF9sYWJlbHMucHVzaChsYWJlbCk7XG4gICAgICAgICAgICBsaXN0W2xhYmVsXSA9IGdldExpc3QoQmFja2JvbmUuJChlbCkuZmluZCgnb3B0aW9uJykpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpc3QgPSBnZXRMaXN0KCRlbC5maW5kKCdvcHRpb24nKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gRmlsbCBpbiBkZWZhdWx0IGxhYmVsIGFuZCBwYXRoIHZhbHVlcy5cbiAgICAgIHNlbGVjdENvbmZpZy52YWx1ZVBhdGggPSBzZWxlY3RDb25maWcudmFsdWVQYXRoIHx8ICd2YWx1ZSc7XG4gICAgICBzZWxlY3RDb25maWcubGFiZWxQYXRoID0gc2VsZWN0Q29uZmlnLmxhYmVsUGF0aCB8fCAnbGFiZWwnO1xuXG4gICAgICB2YXIgYWRkU2VsZWN0T3B0aW9ucyA9IGZ1bmN0aW9uKG9wdExpc3QsICRlbCwgZmllbGRWYWwpIHtcbiAgICAgICAgXy5lYWNoKG9wdExpc3QsIGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgIHZhciBvcHRpb24gPSBCYWNrYm9uZS4kKCc8b3B0aW9uLz4nKSwgb3B0aW9uVmFsID0gb2JqO1xuXG4gICAgICAgICAgdmFyIGZpbGxPcHRpb24gPSBmdW5jdGlvbih0ZXh0LCB2YWwpIHtcbiAgICAgICAgICAgIG9wdGlvbi50ZXh0KHRleHQpO1xuICAgICAgICAgICAgb3B0aW9uVmFsID0gdmFsO1xuICAgICAgICAgICAgLy8gU2F2ZSB0aGUgb3B0aW9uIHZhbHVlIGFzIGRhdGEgc28gdGhhdCB3ZSBjYW4gcmVmZXJlbmNlIGl0IGxhdGVyLlxuICAgICAgICAgICAgb3B0aW9uLmRhdGEoJ3N0aWNraXRfYmluZF92YWwnLCBvcHRpb25WYWwpO1xuICAgICAgICAgICAgaWYgKCFfLmlzQXJyYXkob3B0aW9uVmFsKSAmJiAhXy5pc09iamVjdChvcHRpb25WYWwpKSBvcHRpb24udmFsKG9wdGlvblZhbCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmIChvYmogPT09ICdfX2RlZmF1bHRfXycpXG4gICAgICAgICAgICBmaWxsT3B0aW9uKHNlbGVjdENvbmZpZy5kZWZhdWx0T3B0aW9uLmxhYmVsLCBzZWxlY3RDb25maWcuZGVmYXVsdE9wdGlvbi52YWx1ZSk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgZmlsbE9wdGlvbihldmFsdWF0ZVBhdGgob2JqLCBzZWxlY3RDb25maWcubGFiZWxQYXRoKSwgZXZhbHVhdGVQYXRoKG9iaiwgc2VsZWN0Q29uZmlnLnZhbHVlUGF0aCkpO1xuXG4gICAgICAgICAgLy8gRGV0ZXJtaW5lIGlmIHRoaXMgb3B0aW9uIGlzIHNlbGVjdGVkLlxuICAgICAgICAgIGlmICghaXNNdWx0aXBsZSAmJiBvcHRpb25WYWwgIT0gbnVsbCAmJiBmaWVsZFZhbCAhPSBudWxsICYmIG9wdGlvblZhbCA9PT0gZmllbGRWYWwgfHwgKF8uaXNPYmplY3QoZmllbGRWYWwpICYmIF8uaXNFcXVhbChvcHRpb25WYWwsIGZpZWxkVmFsKSkpXG4gICAgICAgICAgICBvcHRpb24ucHJvcCgnc2VsZWN0ZWQnLCB0cnVlKTtcbiAgICAgICAgICBlbHNlIGlmIChpc011bHRpcGxlICYmIF8uaXNBcnJheShmaWVsZFZhbCkpIHtcbiAgICAgICAgICAgIF8uZWFjaChmaWVsZFZhbCwgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICAgIGlmIChfLmlzT2JqZWN0KHZhbCkpIHZhbCA9IGV2YWx1YXRlUGF0aCh2YWwsIHNlbGVjdENvbmZpZy52YWx1ZVBhdGgpO1xuICAgICAgICAgICAgICBpZiAodmFsID09PSBvcHRpb25WYWwgfHwgKF8uaXNPYmplY3QodmFsKSAmJiBfLmlzRXF1YWwob3B0aW9uVmFsLCB2YWwpKSlcbiAgICAgICAgICAgICAgICBvcHRpb24ucHJvcCgnc2VsZWN0ZWQnLCB0cnVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgICRlbC5hcHBlbmQob3B0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICAkZWwuZmluZCgnKicpLnJlbW92ZSgpO1xuXG4gICAgICAvLyBUaGUgYGxpc3RgIGNvbmZpZ3VyYXRpb24gaXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIG9wdGlvbnMgbGlzdCBvciBhIHN0cmluZ1xuICAgICAgLy8gd2hpY2ggcmVwcmVzZW50cyB0aGUgcGF0aCB0byB0aGUgbGlzdCByZWxhdGl2ZSB0byBgd2luZG93YCBvciB0aGUgdmlldy9gdGhpc2AuXG4gICAgICB2YXIgZXZhbHVhdGUgPSBmdW5jdGlvbih2aWV3LCBsaXN0KSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gd2luZG93O1xuICAgICAgICBpZiAobGlzdC5pbmRleE9mKCd0aGlzLicpID09PSAwKSBjb250ZXh0ID0gdmlldztcbiAgICAgICAgbGlzdCA9IGxpc3QucmVwbGFjZSgvXlthLXpdKlxcLiguKykkLywgJyQxJyk7XG4gICAgICAgIHJldHVybiBldmFsdWF0ZVBhdGgoY29udGV4dCwgbGlzdCk7XG4gICAgICB9O1xuICAgICAgaWYgKF8uaXNTdHJpbmcobGlzdCkpIG9wdExpc3QgPSBldmFsdWF0ZSh0aGlzLCBsaXN0KTtcbiAgICAgIGVsc2UgaWYgKF8uaXNGdW5jdGlvbihsaXN0KSkgb3B0TGlzdCA9IGFwcGx5Vmlld0ZuKHRoaXMsIGxpc3QsICRlbCwgb3B0aW9ucyk7XG4gICAgICBlbHNlIG9wdExpc3QgPSBsaXN0O1xuXG4gICAgICAvLyBTdXBwb3J0IEJhY2tib25lLkNvbGxlY3Rpb24gYW5kIGRlc2VyaWFsaXplLlxuICAgICAgaWYgKG9wdExpc3QgaW5zdGFuY2VvZiBCYWNrYm9uZS5Db2xsZWN0aW9uKSBvcHRMaXN0ID0gb3B0TGlzdC50b0pTT04oKTtcblxuICAgICAgaWYgKHNlbGVjdENvbmZpZy5kZWZhdWx0T3B0aW9uKSB7XG4gICAgICAgIGFkZFNlbGVjdE9wdGlvbnMoW1wiX19kZWZhdWx0X19cIl0sICRlbCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChfLmlzQXJyYXkob3B0TGlzdCkpIHtcbiAgICAgICAgYWRkU2VsZWN0T3B0aW9ucyhvcHRMaXN0LCAkZWwsIHZhbCk7XG4gICAgICB9IGVsc2UgaWYgKG9wdExpc3Qub3B0X2xhYmVscykge1xuICAgICAgICAvLyBUbyBkZWZpbmUgYSBzZWxlY3Qgd2l0aCBvcHRncm91cHMsIGZvcm1hdCBzZWxlY3RPcHRpb25zLmNvbGxlY3Rpb24gYXMgYW4gb2JqZWN0XG4gICAgICAgIC8vIHdpdGggYW4gJ29wdF9sYWJlbHMnIHByb3BlcnR5LCBhcyBpbiB0aGUgZm9sbG93aW5nOlxuICAgICAgICAvL1xuICAgICAgICAvLyAgICAge1xuICAgICAgICAvLyAgICAgICAnb3B0X2xhYmVscyc6IFsnTG9vbmV5IFR1bmVzJywgJ1RocmVlIFN0b29nZXMnXSxcbiAgICAgICAgLy8gICAgICAgJ0xvb25leSBUdW5lcyc6IFt7aWQ6IDEsIG5hbWU6ICdCdWdzIEJ1bm55J30sIHtpZDogMiwgbmFtZTogJ0RvbmFsZCBEdWNrJ31dLFxuICAgICAgICAvLyAgICAgICAnVGhyZWUgU3Rvb2dlcyc6IFt7aWQ6IDMsIG5hbWUgOiAnbW9lJ30sIHtpZDogNCwgbmFtZSA6ICdsYXJyeSd9LCB7aWQ6IDUsIG5hbWUgOiAnY3VybHknfV1cbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy9cbiAgICAgICAgXy5lYWNoKG9wdExpc3Qub3B0X2xhYmVscywgZnVuY3Rpb24obGFiZWwpIHtcbiAgICAgICAgICB2YXIgJGdyb3VwID0gQmFja2JvbmUuJCgnPG9wdGdyb3VwLz4nKS5hdHRyKCdsYWJlbCcsIGxhYmVsKTtcbiAgICAgICAgICBhZGRTZWxlY3RPcHRpb25zKG9wdExpc3RbbGFiZWxdLCAkZ3JvdXAsIHZhbCk7XG4gICAgICAgICAgJGVsLmFwcGVuZCgkZ3JvdXApO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gV2l0aCBubyAnb3B0X2xhYmVscycgcGFyYW1ldGVyLCB0aGUgb2JqZWN0IGlzIGFzc3VtZWQgdG8gYmUgYSBzaW1wbGUgdmFsdWUtbGFiZWwgbWFwLlxuICAgICAgICAvLyBQYXNzIGEgc2VsZWN0T3B0aW9ucy5jb21wYXJhdG9yIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IG9yZGVyIG9mIGFscGhhYmV0aWNhbCBieSBsYWJlbC5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBvcHRzID0gW10sIG9wdDtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBvcHRMaXN0KSB7XG4gICAgICAgICAgb3B0ID0ge307XG4gICAgICAgICAgb3B0W3NlbGVjdENvbmZpZy52YWx1ZVBhdGhdID0gaTtcbiAgICAgICAgICBvcHRbc2VsZWN0Q29uZmlnLmxhYmVsUGF0aF0gPSBvcHRMaXN0W2ldO1xuICAgICAgICAgIG9wdHMucHVzaChvcHQpO1xuICAgICAgICB9XG4gICAgICAgIGFkZFNlbGVjdE9wdGlvbnMoXy5zb3J0Qnkob3B0cywgc2VsZWN0Q29uZmlnLmNvbXBhcmF0b3IgfHwgc2VsZWN0Q29uZmlnLmxhYmVsUGF0aCksICRlbCwgdmFsKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldFZhbDogZnVuY3Rpb24oJGVsKSB7XG4gICAgICB2YXIgdmFsO1xuICAgICAgaWYgKCRlbC5wcm9wKCdtdWx0aXBsZScpKSB7XG4gICAgICAgIHZhbCA9IEJhY2tib25lLiQoZ2V0U2VsZWN0ZWRPcHRpb24oJGVsKS5tYXAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIEJhY2tib25lLiQodGhpcykuZGF0YSgnc3RpY2tpdF9iaW5kX3ZhbCcpO1xuICAgICAgICB9KSkuZ2V0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWwgPSBnZXRTZWxlY3RlZE9wdGlvbigkZWwpLmRhdGEoJ3N0aWNraXRfYmluZF92YWwnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICB9XSk7XG5cblxuICAvLyBFeHBvcnQgb250byBCYWNrYm9uZSBvYmplY3RcbiAgQmFja2JvbmUuU3RpY2tpdCA9IFN0aWNraXQ7XG5cbiAgcmV0dXJuIEJhY2tib25lLlN0aWNraXQ7XG5cbn0pKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhY2tib25lLnN0aWNraXQvYmFja2JvbmUuc3RpY2tpdC5qc1xuICoqIG1vZHVsZSBpZCA9IDkzXG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI5My5qcyJ9");

/***/ },
/* 94 */
/*!***************************************************************!*\
  !*** ./~/backbone-validation/dist/backbone-validation-amd.js ***!
  \***************************************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("// Backbone.Validation v0.9.1\n//\n// Copyright (c) 2011-2014 Thomas Pedersen\n// Distributed under MIT License\n//\n// Documentation and full license available at:\n// http://thedersen.com/projects/backbone-validation\n(function (factory) {\n  if (true) {\n    module.exports = factory(__webpack_require__(/*! backbone */ 2), __webpack_require__(/*! underscore */ 1));\n  } else if (typeof define === 'function' && define.amd) {\n    define(['backbone', 'underscore'], factory);\n  }\n}(function (Backbone, _) {\n  Backbone.Validation = (function(_){\n    'use strict';\n  \n    // Default options\n    // ---------------\n  \n    var defaultOptions = {\n      forceUpdate: false,\n      selector: 'name',\n      labelFormatter: 'sentenceCase',\n      valid: Function.prototype,\n      invalid: Function.prototype\n    };\n  \n  \n    // Helper functions\n    // ----------------\n  \n    // Formatting functions used for formatting error messages\n    var formatFunctions = {\n      // Uses the configured label formatter to format the attribute name\n      // to make it more readable for the user\n      formatLabel: function(attrName, model) {\n        return defaultLabelFormatters[defaultOptions.labelFormatter](attrName, model);\n      },\n  \n      // Replaces nummeric placeholders like {0} in a string with arguments\n      // passed to the function\n      format: function() {\n        var args = Array.prototype.slice.call(arguments),\n            text = args.shift();\n        return text.replace(/\\{(\\d+)\\}/g, function(match, number) {\n          return typeof args[number] !== 'undefined' ? args[number] : match;\n        });\n      }\n    };\n  \n    // Flattens an object\n    // eg:\n    //\n    //     var o = {\n    //       address: {\n    //         street: 'Street',\n    //         zip: 1234\n    //       }\n    //     };\n    //\n    // becomes:\n    //\n    //     var o = {\n    //       'address.street': 'Street',\n    //       'address.zip': 1234\n    //     };\n    var flatten = function (obj, into, prefix) {\n      into = into || {};\n      prefix = prefix || '';\n  \n      _.each(obj, function(val, key) {\n        if(obj.hasOwnProperty(key)) {\n          if (val && typeof val === 'object' && !(\n            val instanceof Array ||\n            val instanceof Date ||\n            val instanceof RegExp ||\n            val instanceof Backbone.Model ||\n            val instanceof Backbone.Collection)\n          ) {\n            flatten(val, into, prefix + key + '.');\n          }\n          else {\n            into[prefix + key] = val;\n          }\n        }\n      });\n  \n      return into;\n    };\n  \n    // Validation\n    // ----------\n  \n    var Validation = (function(){\n  \n      // Returns an object with undefined properties for all\n      // attributes on the model that has defined one or more\n      // validation rules.\n      var getValidatedAttrs = function(model) {\n        return _.reduce(_.keys(_.result(model, 'validation') || {}), function(memo, key) {\n          memo[key] = void 0;\n          return memo;\n        }, {});\n      };\n  \n      // Looks on the model for validations for a specified\n      // attribute. Returns an array of any validators defined,\n      // or an empty array if none is defined.\n      var getValidators = function(model, attr) {\n        var attrValidationSet = model.validation ? _.result(model, 'validation')[attr] || {} : {};\n  \n        // If the validator is a function or a string, wrap it in a function validator\n        if (_.isFunction(attrValidationSet) || _.isString(attrValidationSet)) {\n          attrValidationSet = {\n            fn: attrValidationSet\n          };\n        }\n  \n        // Stick the validator object into an array\n        if(!_.isArray(attrValidationSet)) {\n          attrValidationSet = [attrValidationSet];\n        }\n  \n        // Reduces the array of validators into a new array with objects\n        // with a validation method to call, the value to validate against\n        // and the specified error message, if any\n        return _.reduce(attrValidationSet, function(memo, attrValidation) {\n          _.each(_.without(_.keys(attrValidation), 'msg'), function(validator) {\n            memo.push({\n              fn: defaultValidators[validator],\n              val: attrValidation[validator],\n              msg: attrValidation.msg\n            });\n          });\n          return memo;\n        }, []);\n      };\n  \n      // Validates an attribute against all validators defined\n      // for that attribute. If one or more errors are found,\n      // the first error message is returned.\n      // If the attribute is valid, an empty string is returned.\n      var validateAttr = function(model, attr, value, computed) {\n        // Reduces the array of validators to an error message by\n        // applying all the validators and returning the first error\n        // message, if any.\n        return _.reduce(getValidators(model, attr), function(memo, validator){\n          // Pass the format functions plus the default\n          // validators as the context to the validator\n          var ctx = _.extend({}, formatFunctions, defaultValidators),\n              result = validator.fn.call(ctx, value, attr, validator.val, model, computed);\n  \n          if(result === false || memo === false) {\n            return false;\n          }\n          if (result && !memo) {\n            return _.result(validator, 'msg') || result;\n          }\n          return memo;\n        }, '');\n      };\n  \n      // Loops through the model's attributes and validates them all.\n      // Returns and object containing names of invalid attributes\n      // as well as error messages.\n      var validateModel = function(model, attrs) {\n        var error,\n            invalidAttrs = {},\n            isValid = true,\n            computed = _.clone(attrs),\n            flattened = flatten(attrs);\n  \n        _.each(flattened, function(val, attr) {\n          error = validateAttr(model, attr, val, computed);\n          if (error) {\n            invalidAttrs[attr] = error;\n            isValid = false;\n          }\n        });\n  \n        return {\n          invalidAttrs: invalidAttrs,\n          isValid: isValid\n        };\n      };\n  \n      // Contains the methods that are mixed in on the model when binding\n      var mixin = function(view, options) {\n        return {\n  \n          // Check whether or not a value, or a hash of values\n          // passes validation without updating the model\n          preValidate: function(attr, value) {\n            var self = this,\n                result = {},\n                error;\n  \n            if(_.isObject(attr)){\n              _.each(attr, function(value, key) {\n                error = self.preValidate(key, value);\n                if(error){\n                  result[key] = error;\n                }\n              });\n  \n              return _.isEmpty(result) ? undefined : result;\n            }\n            else {\n              return validateAttr(this, attr, value, _.extend({}, this.attributes));\n            }\n          },\n  \n          // Check to see if an attribute, an array of attributes or the\n          // entire model is valid. Passing true will force a validation\n          // of the model.\n          isValid: function(option) {\n            var flattened = flatten(this.attributes);\n  \n            if(_.isString(option)){\n              return !validateAttr(this, option, flattened[option], _.extend({}, this.attributes));\n            }\n            if(_.isArray(option)){\n              return _.reduce(option, function(memo, attr) {\n                return memo && !validateAttr(this, attr, flattened[attr], _.extend({}, this.attributes));\n              }, true, this);\n            }\n            if(option === true) {\n              this.validate();\n            }\n            return this.validation ? this._isValid : true;\n          },\n  \n          // This is called by Backbone when it needs to perform validation.\n          // You can call it manually without any parameters to validate the\n          // entire model.\n          validate: function(attrs, setOptions){\n            var model = this,\n                validateAll = !attrs,\n                opt = _.extend({}, options, setOptions),\n                validatedAttrs = getValidatedAttrs(model),\n                allAttrs = _.extend({}, validatedAttrs, model.attributes, attrs),\n                changedAttrs = flatten(attrs || allAttrs),\n  \n                result = validateModel(model, allAttrs);\n  \n            model._isValid = result.isValid;\n  \n            // After validation is performed, loop through all validated attributes\n            // and call the valid callbacks so the view is updated.\n            _.each(validatedAttrs, function(val, attr){\n              var invalid = result.invalidAttrs.hasOwnProperty(attr);\n              if(!invalid){\n                opt.valid(view, attr, opt.selector);\n              }\n            });\n  \n            // After validation is performed, loop through all validated and changed attributes\n            // and call the invalid callback so the view is updated.\n            _.each(validatedAttrs, function(val, attr){\n              var invalid = result.invalidAttrs.hasOwnProperty(attr),\n                  changed = changedAttrs.hasOwnProperty(attr);\n  \n              if(invalid && (changed || validateAll)){\n                opt.invalid(view, attr, result.invalidAttrs[attr], opt.selector);\n              }\n            });\n  \n            // Trigger validated events.\n            // Need to defer this so the model is actually updated before\n            // the event is triggered.\n            _.defer(function() {\n              model.trigger('validated', model._isValid, model, result.invalidAttrs);\n              model.trigger('validated:' + (model._isValid ? 'valid' : 'invalid'), model, result.invalidAttrs);\n            });\n  \n            // Return any error messages to Backbone, unless the forceUpdate flag is set.\n            // Then we do not return anything and fools Backbone to believe the validation was\n            // a success. That way Backbone will update the model regardless.\n            if (!opt.forceUpdate && _.intersection(_.keys(result.invalidAttrs), _.keys(changedAttrs)).length > 0) {\n              return result.invalidAttrs;\n            }\n          }\n        };\n      };\n  \n      // Helper to mix in validation on a model\n      var bindModel = function(view, model, options) {\n        _.extend(model, mixin(view, options));\n      };\n  \n      // Removes the methods added to a model\n      var unbindModel = function(model) {\n        delete model.validate;\n        delete model.preValidate;\n        delete model.isValid;\n      };\n  \n      // Mix in validation on a model whenever a model is\n      // added to a collection\n      var collectionAdd = function(model) {\n        bindModel(this.view, model, this.options);\n      };\n  \n      // Remove validation from a model whenever a model is\n      // removed from a collection\n      var collectionRemove = function(model) {\n        unbindModel(model);\n      };\n  \n      // Returns the public methods on Backbone.Validation\n      return {\n  \n        // Current version of the library\n        version: '0.9.1',\n  \n        // Called to configure the default options\n        configure: function(options) {\n          _.extend(defaultOptions, options);\n        },\n  \n        // Hooks up validation on a view with a model\n        // or collection\n        bind: function(view, options) {\n          options = _.extend({}, defaultOptions, defaultCallbacks, options);\n  \n          var model = options.model || view.model,\n              collection = options.collection || view.collection;\n  \n          if(typeof model === 'undefined' && typeof collection === 'undefined'){\n            throw 'Before you execute the binding your view must have a model or a collection.\\n' +\n                  'See http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information.';\n          }\n  \n          if(model) {\n            bindModel(view, model, options);\n          }\n          else if(collection) {\n            collection.each(function(model){\n              bindModel(view, model, options);\n            });\n            collection.bind('add', collectionAdd, {view: view, options: options});\n            collection.bind('remove', collectionRemove);\n          }\n        },\n  \n        // Removes validation from a view with a model\n        // or collection\n        unbind: function(view, options) {\n          options = _.extend({}, options);\n          var model = options.model || view.model,\n              collection = options.collection || view.collection;\n  \n          if(model) {\n            unbindModel(model);\n          }\n          else if(collection) {\n            collection.each(function(model){\n              unbindModel(model);\n            });\n            collection.unbind('add', collectionAdd);\n            collection.unbind('remove', collectionRemove);\n          }\n        },\n  \n        // Used to extend the Backbone.Model.prototype\n        // with validation\n        mixin: mixin(null, defaultOptions)\n      };\n    }());\n  \n  \n    // Callbacks\n    // ---------\n  \n    var defaultCallbacks = Validation.callbacks = {\n  \n      // Gets called when a previously invalid field in the\n      // view becomes valid. Removes any error message.\n      // Should be overridden with custom functionality.\n      valid: function(view, attr, selector) {\n        view.$('[' + selector + '~=\"' + attr + '\"]')\n            .removeClass('invalid')\n            .removeAttr('data-error');\n      },\n  \n      // Gets called when a field in the view becomes invalid.\n      // Adds a error message.\n      // Should be overridden with custom functionality.\n      invalid: function(view, attr, error, selector) {\n        view.$('[' + selector + '~=\"' + attr + '\"]')\n            .addClass('invalid')\n            .attr('data-error', error);\n      }\n    };\n  \n  \n    // Patterns\n    // --------\n  \n    var defaultPatterns = Validation.patterns = {\n      // Matches any digit(s) (i.e. 0-9)\n      digits: /^\\d+$/,\n  \n      // Matches any number (e.g. 100.000)\n      number: /^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)(?:\\.\\d+)?$/,\n  \n      // Matches a valid email address (e.g. mail@example.com)\n      email: /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i,\n  \n      // Mathes any valid url (e.g. http://www.xample.com)\n      url: /^(https?|ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i\n    };\n  \n  \n    // Error messages\n    // --------------\n  \n    // Error message for the build in validators.\n    // {x} gets swapped out with arguments form the validator.\n    var defaultMessages = Validation.messages = {\n      required: '{0} is required',\n      acceptance: '{0} must be accepted',\n      min: '{0} must be greater than or equal to {1}',\n      max: '{0} must be less than or equal to {1}',\n      range: '{0} must be between {1} and {2}',\n      length: '{0} must be {1} characters',\n      minLength: '{0} must be at least {1} characters',\n      maxLength: '{0} must be at most {1} characters',\n      rangeLength: '{0} must be between {1} and {2} characters',\n      oneOf: '{0} must be one of: {1}',\n      equalTo: '{0} must be the same as {1}',\n      digits: '{0} must only contain digits',\n      number: '{0} must be a number',\n      email: '{0} must be a valid email',\n      url: '{0} must be a valid url',\n      inlinePattern: '{0} is invalid'\n    };\n  \n    // Label formatters\n    // ----------------\n  \n    // Label formatters are used to convert the attribute name\n    // to a more human friendly label when using the built in\n    // error messages.\n    // Configure which one to use with a call to\n    //\n    //     Backbone.Validation.configure({\n    //       labelFormatter: 'label'\n    //     });\n    var defaultLabelFormatters = Validation.labelFormatters = {\n  \n      // Returns the attribute name with applying any formatting\n      none: function(attrName) {\n        return attrName;\n      },\n  \n      // Converts attributeName or attribute_name to Attribute name\n      sentenceCase: function(attrName) {\n        return attrName.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, function(match, index) {\n          return index === 0 ? match.toUpperCase() : ' ' + match.toLowerCase();\n        }).replace(/_/g, ' ');\n      },\n  \n      // Looks for a label configured on the model and returns it\n      //\n      //      var Model = Backbone.Model.extend({\n      //        validation: {\n      //          someAttribute: {\n      //            required: true\n      //          }\n      //        },\n      //\n      //        labels: {\n      //          someAttribute: 'Custom label'\n      //        }\n      //      });\n      label: function(attrName, model) {\n        return (model.labels && model.labels[attrName]) || defaultLabelFormatters.sentenceCase(attrName, model);\n      }\n    };\n  \n  \n    // Built in validators\n    // -------------------\n  \n    var defaultValidators = Validation.validators = (function(){\n      // Use native trim when defined\n      var trim = String.prototype.trim ?\n        function(text) {\n          return text === null ? '' : String.prototype.trim.call(text);\n        } :\n        function(text) {\n          var trimLeft = /^\\s+/,\n              trimRight = /\\s+$/;\n  \n          return text === null ? '' : text.toString().replace(trimLeft, '').replace(trimRight, '');\n        };\n  \n      // Determines whether or not a value is a number\n      var isNumber = function(value){\n        return _.isNumber(value) || (_.isString(value) && value.match(defaultPatterns.number));\n      };\n  \n      // Determines whether or not a value is empty\n      var hasValue = function(value) {\n        return !(_.isNull(value) || _.isUndefined(value) || (_.isString(value) && trim(value) === '') || (_.isArray(value) && _.isEmpty(value)));\n      };\n  \n      return {\n        // Function validator\n        // Lets you implement a custom function used for validation\n        fn: function(value, attr, fn, model, computed) {\n          if(_.isString(fn)){\n            fn = model[fn];\n          }\n          return fn.call(model, value, attr, computed);\n        },\n  \n        // Required validator\n        // Validates if the attribute is required or not\n        // This can be specified as either a boolean value or a function that returns a boolean value\n        required: function(value, attr, required, model, computed) {\n          var isRequired = _.isFunction(required) ? required.call(model, value, attr, computed) : required;\n          if(!isRequired && !hasValue(value)) {\n            return false; // overrides all other validators\n          }\n          if (isRequired && !hasValue(value)) {\n            return this.format(defaultMessages.required, this.formatLabel(attr, model));\n          }\n        },\n  \n        // Acceptance validator\n        // Validates that something has to be accepted, e.g. terms of use\n        // `true` or 'true' are valid\n        acceptance: function(value, attr, accept, model) {\n          if(value !== 'true' && (!_.isBoolean(value) || value === false)) {\n            return this.format(defaultMessages.acceptance, this.formatLabel(attr, model));\n          }\n        },\n  \n        // Min validator\n        // Validates that the value has to be a number and equal to or greater than\n        // the min value specified\n        min: function(value, attr, minValue, model) {\n          if (!isNumber(value) || value < minValue) {\n            return this.format(defaultMessages.min, this.formatLabel(attr, model), minValue);\n          }\n        },\n  \n        // Max validator\n        // Validates that the value has to be a number and equal to or less than\n        // the max value specified\n        max: function(value, attr, maxValue, model) {\n          if (!isNumber(value) || value > maxValue) {\n            return this.format(defaultMessages.max, this.formatLabel(attr, model), maxValue);\n          }\n        },\n  \n        // Range validator\n        // Validates that the value has to be a number and equal to or between\n        // the two numbers specified\n        range: function(value, attr, range, model) {\n          if(!isNumber(value) || value < range[0] || value > range[1]) {\n            return this.format(defaultMessages.range, this.formatLabel(attr, model), range[0], range[1]);\n          }\n        },\n  \n        // Length validator\n        // Validates that the value has to be a string with length equal to\n        // the length value specified\n        length: function(value, attr, length, model) {\n          if (!_.isString(value) || value.length !== length) {\n            return this.format(defaultMessages.length, this.formatLabel(attr, model), length);\n          }\n        },\n  \n        // Min length validator\n        // Validates that the value has to be a string with length equal to or greater than\n        // the min length value specified\n        minLength: function(value, attr, minLength, model) {\n          if (!_.isString(value) || value.length < minLength) {\n            return this.format(defaultMessages.minLength, this.formatLabel(attr, model), minLength);\n          }\n        },\n  \n        // Max length validator\n        // Validates that the value has to be a string with length equal to or less than\n        // the max length value specified\n        maxLength: function(value, attr, maxLength, model) {\n          if (!_.isString(value) || value.length > maxLength) {\n            return this.format(defaultMessages.maxLength, this.formatLabel(attr, model), maxLength);\n          }\n        },\n  \n        // Range length validator\n        // Validates that the value has to be a string and equal to or between\n        // the two numbers specified\n        rangeLength: function(value, attr, range, model) {\n          if (!_.isString(value) || value.length < range[0] || value.length > range[1]) {\n            return this.format(defaultMessages.rangeLength, this.formatLabel(attr, model), range[0], range[1]);\n          }\n        },\n  \n        // One of validator\n        // Validates that the value has to be equal to one of the elements in\n        // the specified array. Case sensitive matching\n        oneOf: function(value, attr, values, model) {\n          if(!_.include(values, value)){\n            return this.format(defaultMessages.oneOf, this.formatLabel(attr, model), values.join(', '));\n          }\n        },\n  \n        // Equal to validator\n        // Validates that the value has to be equal to the value of the attribute\n        // with the name specified\n        equalTo: function(value, attr, equalTo, model, computed) {\n          if(value !== computed[equalTo]) {\n            return this.format(defaultMessages.equalTo, this.formatLabel(attr, model), this.formatLabel(equalTo, model));\n          }\n        },\n  \n        // Pattern validator\n        // Validates that the value has to match the pattern specified.\n        // Can be a regular expression or the name of one of the built in patterns\n        pattern: function(value, attr, pattern, model) {\n          if (!hasValue(value) || !value.toString().match(defaultPatterns[pattern] || pattern)) {\n            return this.format(defaultMessages[pattern] || defaultMessages.inlinePattern, this.formatLabel(attr, model), pattern);\n          }\n        }\n      };\n    }());\n  \n    // Set the correct context for all validators\n    // when used from within a method validator\n    _.each(defaultValidators, function(validator, key){\n      defaultValidators[key] = _.bind(defaultValidators[key], _.extend({}, formatFunctions, defaultValidators));\n    });\n  \n    return Validation;\n  }(_));\n  return Backbone.Validation;\n}));//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2JhY2tib25lLXZhbGlkYXRpb24vZGlzdC9iYWNrYm9uZS12YWxpZGF0aW9uLWFtZC5qcz9iMjgzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVAsOENBQThDLEVBQUU7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsT0FBTztBQUN0QztBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFO0FBQ2xFO0FBQ0E7QUFDQSxTQUFTLElBQUk7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRGQUE0Rjs7QUFFNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1g7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7O0FBRWY7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFO0FBQ2hFO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0VBQStFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBLHFGQUFxRjtBQUNyRixlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0Esc0NBQXNDO0FBQ3RDOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7O0FBRS9CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLG1EQUFtRCw2QkFBNkI7QUFDaEY7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOzs7QUFHTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEJBQTRCLElBQUksT0FBTyxFQUFFOztBQUV6QztBQUNBLG1EQUFtRCxHQUFHLG1GQUFtRixHQUFHOztBQUU1STtBQUNBLHlHQUF5RyxFQUFFLGtCQUFrQixrckJBQWtyQixFQUFFLGtCQUFrQixvRkFBb0YsRUFBRSxrQkFBa0IsMkZBQTJGLEVBQUUsa0JBQWtCLDhHQUE4RyxFQUFFLGtCQUFrQjtBQUM1cEM7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQSxRQUFRLEVBQUU7QUFDVjtBQUNBLGtCQUFrQixFQUFFO0FBQ3BCLG9CQUFvQixFQUFFO0FBQ3RCLGFBQWEsRUFBRSxtQ0FBbUMsRUFBRTtBQUNwRCxhQUFhLEVBQUUsZ0NBQWdDLEVBQUU7QUFDakQsZUFBZSxFQUFFLGtCQUFrQixFQUFFLE1BQU0sRUFBRTtBQUM3QyxnQkFBZ0IsRUFBRSxVQUFVLEVBQUU7QUFDOUIsbUJBQW1CLEVBQUUsbUJBQW1CLEVBQUU7QUFDMUMsbUJBQW1CLEVBQUUsa0JBQWtCLEVBQUU7QUFDekMscUJBQXFCLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxFQUFFO0FBQ25ELGVBQWUsRUFBRSxrQkFBa0IsRUFBRTtBQUNyQyxpQkFBaUIsRUFBRSxzQkFBc0IsRUFBRTtBQUMzQyxnQkFBZ0IsRUFBRTtBQUNsQixnQkFBZ0IsRUFBRTtBQUNsQixlQUFlLEVBQUU7QUFDakIsYUFBYSxFQUFFO0FBQ2YsdUJBQXVCLEVBQUU7QUFDekI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RTtBQUN6RSxLQUFLOztBQUVMO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEJhY2tib25lLlZhbGlkYXRpb24gdjAuOS4xXG4vL1xuLy8gQ29weXJpZ2h0IChjKSAyMDExLTIwMTQgVGhvbWFzIFBlZGVyc2VuXG4vLyBEaXN0cmlidXRlZCB1bmRlciBNSVQgTGljZW5zZVxuLy9cbi8vIERvY3VtZW50YXRpb24gYW5kIGZ1bGwgbGljZW5zZSBhdmFpbGFibGUgYXQ6XG4vLyBodHRwOi8vdGhlZGVyc2VuLmNvbS9wcm9qZWN0cy9iYWNrYm9uZS12YWxpZGF0aW9uXG4oZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdiYWNrYm9uZScpLCByZXF1aXJlKCd1bmRlcnNjb3JlJykpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbJ2JhY2tib25lJywgJ3VuZGVyc2NvcmUnXSwgZmFjdG9yeSk7XG4gIH1cbn0oZnVuY3Rpb24gKEJhY2tib25lLCBfKSB7XG4gIEJhY2tib25lLlZhbGlkYXRpb24gPSAoZnVuY3Rpb24oXyl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICBcbiAgICAvLyBEZWZhdWx0IG9wdGlvbnNcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgXG4gICAgdmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgZm9yY2VVcGRhdGU6IGZhbHNlLFxuICAgICAgc2VsZWN0b3I6ICduYW1lJyxcbiAgICAgIGxhYmVsRm9ybWF0dGVyOiAnc2VudGVuY2VDYXNlJyxcbiAgICAgIHZhbGlkOiBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgICBpbnZhbGlkOiBGdW5jdGlvbi5wcm90b3R5cGVcbiAgICB9O1xuICBcbiAgXG4gICAgLy8gSGVscGVyIGZ1bmN0aW9uc1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS1cbiAgXG4gICAgLy8gRm9ybWF0dGluZyBmdW5jdGlvbnMgdXNlZCBmb3IgZm9ybWF0dGluZyBlcnJvciBtZXNzYWdlc1xuICAgIHZhciBmb3JtYXRGdW5jdGlvbnMgPSB7XG4gICAgICAvLyBVc2VzIHRoZSBjb25maWd1cmVkIGxhYmVsIGZvcm1hdHRlciB0byBmb3JtYXQgdGhlIGF0dHJpYnV0ZSBuYW1lXG4gICAgICAvLyB0byBtYWtlIGl0IG1vcmUgcmVhZGFibGUgZm9yIHRoZSB1c2VyXG4gICAgICBmb3JtYXRMYWJlbDogZnVuY3Rpb24oYXR0ck5hbWUsIG1vZGVsKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0TGFiZWxGb3JtYXR0ZXJzW2RlZmF1bHRPcHRpb25zLmxhYmVsRm9ybWF0dGVyXShhdHRyTmFtZSwgbW9kZWwpO1xuICAgICAgfSxcbiAgXG4gICAgICAvLyBSZXBsYWNlcyBudW1tZXJpYyBwbGFjZWhvbGRlcnMgbGlrZSB7MH0gaW4gYSBzdHJpbmcgd2l0aCBhcmd1bWVudHNcbiAgICAgIC8vIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25cbiAgICAgIGZvcm1hdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxcbiAgICAgICAgICAgIHRleHQgPSBhcmdzLnNoaWZ0KCk7XG4gICAgICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoL1xceyhcXGQrKVxcfS9nLCBmdW5jdGlvbihtYXRjaCwgbnVtYmVyKSB7XG4gICAgICAgICAgcmV0dXJuIHR5cGVvZiBhcmdzW251bWJlcl0gIT09ICd1bmRlZmluZWQnID8gYXJnc1tudW1iZXJdIDogbWF0Y2g7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIFxuICAgIC8vIEZsYXR0ZW5zIGFuIG9iamVjdFxuICAgIC8vIGVnOlxuICAgIC8vXG4gICAgLy8gICAgIHZhciBvID0ge1xuICAgIC8vICAgICAgIGFkZHJlc3M6IHtcbiAgICAvLyAgICAgICAgIHN0cmVldDogJ1N0cmVldCcsXG4gICAgLy8gICAgICAgICB6aXA6IDEyMzRcbiAgICAvLyAgICAgICB9XG4gICAgLy8gICAgIH07XG4gICAgLy9cbiAgICAvLyBiZWNvbWVzOlxuICAgIC8vXG4gICAgLy8gICAgIHZhciBvID0ge1xuICAgIC8vICAgICAgICdhZGRyZXNzLnN0cmVldCc6ICdTdHJlZXQnLFxuICAgIC8vICAgICAgICdhZGRyZXNzLnppcCc6IDEyMzRcbiAgICAvLyAgICAgfTtcbiAgICB2YXIgZmxhdHRlbiA9IGZ1bmN0aW9uIChvYmosIGludG8sIHByZWZpeCkge1xuICAgICAgaW50byA9IGludG8gfHwge307XG4gICAgICBwcmVmaXggPSBwcmVmaXggfHwgJyc7XG4gIFxuICAgICAgXy5lYWNoKG9iaiwgZnVuY3Rpb24odmFsLCBrZXkpIHtcbiAgICAgICAgaWYob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICBpZiAodmFsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnICYmICEoXG4gICAgICAgICAgICB2YWwgaW5zdGFuY2VvZiBBcnJheSB8fFxuICAgICAgICAgICAgdmFsIGluc3RhbmNlb2YgRGF0ZSB8fFxuICAgICAgICAgICAgdmFsIGluc3RhbmNlb2YgUmVnRXhwIHx8XG4gICAgICAgICAgICB2YWwgaW5zdGFuY2VvZiBCYWNrYm9uZS5Nb2RlbCB8fFxuICAgICAgICAgICAgdmFsIGluc3RhbmNlb2YgQmFja2JvbmUuQ29sbGVjdGlvbilcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGZsYXR0ZW4odmFsLCBpbnRvLCBwcmVmaXggKyBrZXkgKyAnLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGludG9bcHJlZml4ICsga2V5XSA9IHZhbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICBcbiAgICAgIHJldHVybiBpbnRvO1xuICAgIH07XG4gIFxuICAgIC8vIFZhbGlkYXRpb25cbiAgICAvLyAtLS0tLS0tLS0tXG4gIFxuICAgIHZhciBWYWxpZGF0aW9uID0gKGZ1bmN0aW9uKCl7XG4gIFxuICAgICAgLy8gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCB1bmRlZmluZWQgcHJvcGVydGllcyBmb3IgYWxsXG4gICAgICAvLyBhdHRyaWJ1dGVzIG9uIHRoZSBtb2RlbCB0aGF0IGhhcyBkZWZpbmVkIG9uZSBvciBtb3JlXG4gICAgICAvLyB2YWxpZGF0aW9uIHJ1bGVzLlxuICAgICAgdmFyIGdldFZhbGlkYXRlZEF0dHJzID0gZnVuY3Rpb24obW9kZWwpIHtcbiAgICAgICAgcmV0dXJuIF8ucmVkdWNlKF8ua2V5cyhfLnJlc3VsdChtb2RlbCwgJ3ZhbGlkYXRpb24nKSB8fCB7fSksIGZ1bmN0aW9uKG1lbW8sIGtleSkge1xuICAgICAgICAgIG1lbW9ba2V5XSA9IHZvaWQgMDtcbiAgICAgICAgICByZXR1cm4gbWVtbztcbiAgICAgICAgfSwge30pO1xuICAgICAgfTtcbiAgXG4gICAgICAvLyBMb29rcyBvbiB0aGUgbW9kZWwgZm9yIHZhbGlkYXRpb25zIGZvciBhIHNwZWNpZmllZFxuICAgICAgLy8gYXR0cmlidXRlLiBSZXR1cm5zIGFuIGFycmF5IG9mIGFueSB2YWxpZGF0b3JzIGRlZmluZWQsXG4gICAgICAvLyBvciBhbiBlbXB0eSBhcnJheSBpZiBub25lIGlzIGRlZmluZWQuXG4gICAgICB2YXIgZ2V0VmFsaWRhdG9ycyA9IGZ1bmN0aW9uKG1vZGVsLCBhdHRyKSB7XG4gICAgICAgIHZhciBhdHRyVmFsaWRhdGlvblNldCA9IG1vZGVsLnZhbGlkYXRpb24gPyBfLnJlc3VsdChtb2RlbCwgJ3ZhbGlkYXRpb24nKVthdHRyXSB8fCB7fSA6IHt9O1xuICBcbiAgICAgICAgLy8gSWYgdGhlIHZhbGlkYXRvciBpcyBhIGZ1bmN0aW9uIG9yIGEgc3RyaW5nLCB3cmFwIGl0IGluIGEgZnVuY3Rpb24gdmFsaWRhdG9yXG4gICAgICAgIGlmIChfLmlzRnVuY3Rpb24oYXR0clZhbGlkYXRpb25TZXQpIHx8IF8uaXNTdHJpbmcoYXR0clZhbGlkYXRpb25TZXQpKSB7XG4gICAgICAgICAgYXR0clZhbGlkYXRpb25TZXQgPSB7XG4gICAgICAgICAgICBmbjogYXR0clZhbGlkYXRpb25TZXRcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gIFxuICAgICAgICAvLyBTdGljayB0aGUgdmFsaWRhdG9yIG9iamVjdCBpbnRvIGFuIGFycmF5XG4gICAgICAgIGlmKCFfLmlzQXJyYXkoYXR0clZhbGlkYXRpb25TZXQpKSB7XG4gICAgICAgICAgYXR0clZhbGlkYXRpb25TZXQgPSBbYXR0clZhbGlkYXRpb25TZXRdO1xuICAgICAgICB9XG4gIFxuICAgICAgICAvLyBSZWR1Y2VzIHRoZSBhcnJheSBvZiB2YWxpZGF0b3JzIGludG8gYSBuZXcgYXJyYXkgd2l0aCBvYmplY3RzXG4gICAgICAgIC8vIHdpdGggYSB2YWxpZGF0aW9uIG1ldGhvZCB0byBjYWxsLCB0aGUgdmFsdWUgdG8gdmFsaWRhdGUgYWdhaW5zdFxuICAgICAgICAvLyBhbmQgdGhlIHNwZWNpZmllZCBlcnJvciBtZXNzYWdlLCBpZiBhbnlcbiAgICAgICAgcmV0dXJuIF8ucmVkdWNlKGF0dHJWYWxpZGF0aW9uU2V0LCBmdW5jdGlvbihtZW1vLCBhdHRyVmFsaWRhdGlvbikge1xuICAgICAgICAgIF8uZWFjaChfLndpdGhvdXQoXy5rZXlzKGF0dHJWYWxpZGF0aW9uKSwgJ21zZycpLCBmdW5jdGlvbih2YWxpZGF0b3IpIHtcbiAgICAgICAgICAgIG1lbW8ucHVzaCh7XG4gICAgICAgICAgICAgIGZuOiBkZWZhdWx0VmFsaWRhdG9yc1t2YWxpZGF0b3JdLFxuICAgICAgICAgICAgICB2YWw6IGF0dHJWYWxpZGF0aW9uW3ZhbGlkYXRvcl0sXG4gICAgICAgICAgICAgIG1zZzogYXR0clZhbGlkYXRpb24ubXNnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gbWVtbztcbiAgICAgICAgfSwgW10pO1xuICAgICAgfTtcbiAgXG4gICAgICAvLyBWYWxpZGF0ZXMgYW4gYXR0cmlidXRlIGFnYWluc3QgYWxsIHZhbGlkYXRvcnMgZGVmaW5lZFxuICAgICAgLy8gZm9yIHRoYXQgYXR0cmlidXRlLiBJZiBvbmUgb3IgbW9yZSBlcnJvcnMgYXJlIGZvdW5kLFxuICAgICAgLy8gdGhlIGZpcnN0IGVycm9yIG1lc3NhZ2UgaXMgcmV0dXJuZWQuXG4gICAgICAvLyBJZiB0aGUgYXR0cmlidXRlIGlzIHZhbGlkLCBhbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQuXG4gICAgICB2YXIgdmFsaWRhdGVBdHRyID0gZnVuY3Rpb24obW9kZWwsIGF0dHIsIHZhbHVlLCBjb21wdXRlZCkge1xuICAgICAgICAvLyBSZWR1Y2VzIHRoZSBhcnJheSBvZiB2YWxpZGF0b3JzIHRvIGFuIGVycm9yIG1lc3NhZ2UgYnlcbiAgICAgICAgLy8gYXBwbHlpbmcgYWxsIHRoZSB2YWxpZGF0b3JzIGFuZCByZXR1cm5pbmcgdGhlIGZpcnN0IGVycm9yXG4gICAgICAgIC8vIG1lc3NhZ2UsIGlmIGFueS5cbiAgICAgICAgcmV0dXJuIF8ucmVkdWNlKGdldFZhbGlkYXRvcnMobW9kZWwsIGF0dHIpLCBmdW5jdGlvbihtZW1vLCB2YWxpZGF0b3Ipe1xuICAgICAgICAgIC8vIFBhc3MgdGhlIGZvcm1hdCBmdW5jdGlvbnMgcGx1cyB0aGUgZGVmYXVsdFxuICAgICAgICAgIC8vIHZhbGlkYXRvcnMgYXMgdGhlIGNvbnRleHQgdG8gdGhlIHZhbGlkYXRvclxuICAgICAgICAgIHZhciBjdHggPSBfLmV4dGVuZCh7fSwgZm9ybWF0RnVuY3Rpb25zLCBkZWZhdWx0VmFsaWRhdG9ycyksXG4gICAgICAgICAgICAgIHJlc3VsdCA9IHZhbGlkYXRvci5mbi5jYWxsKGN0eCwgdmFsdWUsIGF0dHIsIHZhbGlkYXRvci52YWwsIG1vZGVsLCBjb21wdXRlZCk7XG4gIFxuICAgICAgICAgIGlmKHJlc3VsdCA9PT0gZmFsc2UgfHwgbWVtbyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJlc3VsdCAmJiAhbWVtbykge1xuICAgICAgICAgICAgcmV0dXJuIF8ucmVzdWx0KHZhbGlkYXRvciwgJ21zZycpIHx8IHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG1lbW87XG4gICAgICAgIH0sICcnKTtcbiAgICAgIH07XG4gIFxuICAgICAgLy8gTG9vcHMgdGhyb3VnaCB0aGUgbW9kZWwncyBhdHRyaWJ1dGVzIGFuZCB2YWxpZGF0ZXMgdGhlbSBhbGwuXG4gICAgICAvLyBSZXR1cm5zIGFuZCBvYmplY3QgY29udGFpbmluZyBuYW1lcyBvZiBpbnZhbGlkIGF0dHJpYnV0ZXNcbiAgICAgIC8vIGFzIHdlbGwgYXMgZXJyb3IgbWVzc2FnZXMuXG4gICAgICB2YXIgdmFsaWRhdGVNb2RlbCA9IGZ1bmN0aW9uKG1vZGVsLCBhdHRycykge1xuICAgICAgICB2YXIgZXJyb3IsXG4gICAgICAgICAgICBpbnZhbGlkQXR0cnMgPSB7fSxcbiAgICAgICAgICAgIGlzVmFsaWQgPSB0cnVlLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBfLmNsb25lKGF0dHJzKSxcbiAgICAgICAgICAgIGZsYXR0ZW5lZCA9IGZsYXR0ZW4oYXR0cnMpO1xuICBcbiAgICAgICAgXy5lYWNoKGZsYXR0ZW5lZCwgZnVuY3Rpb24odmFsLCBhdHRyKSB7XG4gICAgICAgICAgZXJyb3IgPSB2YWxpZGF0ZUF0dHIobW9kZWwsIGF0dHIsIHZhbCwgY29tcHV0ZWQpO1xuICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgaW52YWxpZEF0dHJzW2F0dHJdID0gZXJyb3I7XG4gICAgICAgICAgICBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaW52YWxpZEF0dHJzOiBpbnZhbGlkQXR0cnMsXG4gICAgICAgICAgaXNWYWxpZDogaXNWYWxpZFxuICAgICAgICB9O1xuICAgICAgfTtcbiAgXG4gICAgICAvLyBDb250YWlucyB0aGUgbWV0aG9kcyB0aGF0IGFyZSBtaXhlZCBpbiBvbiB0aGUgbW9kZWwgd2hlbiBiaW5kaW5nXG4gICAgICB2YXIgbWl4aW4gPSBmdW5jdGlvbih2aWV3LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB7XG4gIFxuICAgICAgICAgIC8vIENoZWNrIHdoZXRoZXIgb3Igbm90IGEgdmFsdWUsIG9yIGEgaGFzaCBvZiB2YWx1ZXNcbiAgICAgICAgICAvLyBwYXNzZXMgdmFsaWRhdGlvbiB3aXRob3V0IHVwZGF0aW5nIHRoZSBtb2RlbFxuICAgICAgICAgIHByZVZhbGlkYXRlOiBmdW5jdGlvbihhdHRyLCB2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHt9LFxuICAgICAgICAgICAgICAgIGVycm9yO1xuICBcbiAgICAgICAgICAgIGlmKF8uaXNPYmplY3QoYXR0cikpe1xuICAgICAgICAgICAgICBfLmVhY2goYXR0ciwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICAgICAgICAgIGVycm9yID0gc2VsZi5wcmVWYWxpZGF0ZShrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZihlcnJvcil7XG4gICAgICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gIFxuICAgICAgICAgICAgICByZXR1cm4gXy5pc0VtcHR5KHJlc3VsdCkgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbGlkYXRlQXR0cih0aGlzLCBhdHRyLCB2YWx1ZSwgXy5leHRlbmQoe30sIHRoaXMuYXR0cmlidXRlcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gIFxuICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiBhbiBhdHRyaWJ1dGUsIGFuIGFycmF5IG9mIGF0dHJpYnV0ZXMgb3IgdGhlXG4gICAgICAgICAgLy8gZW50aXJlIG1vZGVsIGlzIHZhbGlkLiBQYXNzaW5nIHRydWUgd2lsbCBmb3JjZSBhIHZhbGlkYXRpb25cbiAgICAgICAgICAvLyBvZiB0aGUgbW9kZWwuXG4gICAgICAgICAgaXNWYWxpZDogZnVuY3Rpb24ob3B0aW9uKSB7XG4gICAgICAgICAgICB2YXIgZmxhdHRlbmVkID0gZmxhdHRlbih0aGlzLmF0dHJpYnV0ZXMpO1xuICBcbiAgICAgICAgICAgIGlmKF8uaXNTdHJpbmcob3B0aW9uKSl7XG4gICAgICAgICAgICAgIHJldHVybiAhdmFsaWRhdGVBdHRyKHRoaXMsIG9wdGlvbiwgZmxhdHRlbmVkW29wdGlvbl0sIF8uZXh0ZW5kKHt9LCB0aGlzLmF0dHJpYnV0ZXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKF8uaXNBcnJheShvcHRpb24pKXtcbiAgICAgICAgICAgICAgcmV0dXJuIF8ucmVkdWNlKG9wdGlvbiwgZnVuY3Rpb24obWVtbywgYXR0cikge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZW1vICYmICF2YWxpZGF0ZUF0dHIodGhpcywgYXR0ciwgZmxhdHRlbmVkW2F0dHJdLCBfLmV4dGVuZCh7fSwgdGhpcy5hdHRyaWJ1dGVzKSk7XG4gICAgICAgICAgICAgIH0sIHRydWUsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYob3B0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRpb24gPyB0aGlzLl9pc1ZhbGlkIDogdHJ1ZTtcbiAgICAgICAgICB9LFxuICBcbiAgICAgICAgICAvLyBUaGlzIGlzIGNhbGxlZCBieSBCYWNrYm9uZSB3aGVuIGl0IG5lZWRzIHRvIHBlcmZvcm0gdmFsaWRhdGlvbi5cbiAgICAgICAgICAvLyBZb3UgY2FuIGNhbGwgaXQgbWFudWFsbHkgd2l0aG91dCBhbnkgcGFyYW1ldGVycyB0byB2YWxpZGF0ZSB0aGVcbiAgICAgICAgICAvLyBlbnRpcmUgbW9kZWwuXG4gICAgICAgICAgdmFsaWRhdGU6IGZ1bmN0aW9uKGF0dHJzLCBzZXRPcHRpb25zKXtcbiAgICAgICAgICAgIHZhciBtb2RlbCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVBbGwgPSAhYXR0cnMsXG4gICAgICAgICAgICAgICAgb3B0ID0gXy5leHRlbmQoe30sIG9wdGlvbnMsIHNldE9wdGlvbnMpLFxuICAgICAgICAgICAgICAgIHZhbGlkYXRlZEF0dHJzID0gZ2V0VmFsaWRhdGVkQXR0cnMobW9kZWwpLFxuICAgICAgICAgICAgICAgIGFsbEF0dHJzID0gXy5leHRlbmQoe30sIHZhbGlkYXRlZEF0dHJzLCBtb2RlbC5hdHRyaWJ1dGVzLCBhdHRycyksXG4gICAgICAgICAgICAgICAgY2hhbmdlZEF0dHJzID0gZmxhdHRlbihhdHRycyB8fCBhbGxBdHRycyksXG4gIFxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHZhbGlkYXRlTW9kZWwobW9kZWwsIGFsbEF0dHJzKTtcbiAgXG4gICAgICAgICAgICBtb2RlbC5faXNWYWxpZCA9IHJlc3VsdC5pc1ZhbGlkO1xuICBcbiAgICAgICAgICAgIC8vIEFmdGVyIHZhbGlkYXRpb24gaXMgcGVyZm9ybWVkLCBsb29wIHRocm91Z2ggYWxsIHZhbGlkYXRlZCBhdHRyaWJ1dGVzXG4gICAgICAgICAgICAvLyBhbmQgY2FsbCB0aGUgdmFsaWQgY2FsbGJhY2tzIHNvIHRoZSB2aWV3IGlzIHVwZGF0ZWQuXG4gICAgICAgICAgICBfLmVhY2godmFsaWRhdGVkQXR0cnMsIGZ1bmN0aW9uKHZhbCwgYXR0cil7XG4gICAgICAgICAgICAgIHZhciBpbnZhbGlkID0gcmVzdWx0LmludmFsaWRBdHRycy5oYXNPd25Qcm9wZXJ0eShhdHRyKTtcbiAgICAgICAgICAgICAgaWYoIWludmFsaWQpe1xuICAgICAgICAgICAgICAgIG9wdC52YWxpZCh2aWV3LCBhdHRyLCBvcHQuc2VsZWN0b3IpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgXG4gICAgICAgICAgICAvLyBBZnRlciB2YWxpZGF0aW9uIGlzIHBlcmZvcm1lZCwgbG9vcCB0aHJvdWdoIGFsbCB2YWxpZGF0ZWQgYW5kIGNoYW5nZWQgYXR0cmlidXRlc1xuICAgICAgICAgICAgLy8gYW5kIGNhbGwgdGhlIGludmFsaWQgY2FsbGJhY2sgc28gdGhlIHZpZXcgaXMgdXBkYXRlZC5cbiAgICAgICAgICAgIF8uZWFjaCh2YWxpZGF0ZWRBdHRycywgZnVuY3Rpb24odmFsLCBhdHRyKXtcbiAgICAgICAgICAgICAgdmFyIGludmFsaWQgPSByZXN1bHQuaW52YWxpZEF0dHJzLmhhc093blByb3BlcnR5KGF0dHIpLFxuICAgICAgICAgICAgICAgICAgY2hhbmdlZCA9IGNoYW5nZWRBdHRycy5oYXNPd25Qcm9wZXJ0eShhdHRyKTtcbiAgXG4gICAgICAgICAgICAgIGlmKGludmFsaWQgJiYgKGNoYW5nZWQgfHwgdmFsaWRhdGVBbGwpKXtcbiAgICAgICAgICAgICAgICBvcHQuaW52YWxpZCh2aWV3LCBhdHRyLCByZXN1bHQuaW52YWxpZEF0dHJzW2F0dHJdLCBvcHQuc2VsZWN0b3IpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgXG4gICAgICAgICAgICAvLyBUcmlnZ2VyIHZhbGlkYXRlZCBldmVudHMuXG4gICAgICAgICAgICAvLyBOZWVkIHRvIGRlZmVyIHRoaXMgc28gdGhlIG1vZGVsIGlzIGFjdHVhbGx5IHVwZGF0ZWQgYmVmb3JlXG4gICAgICAgICAgICAvLyB0aGUgZXZlbnQgaXMgdHJpZ2dlcmVkLlxuICAgICAgICAgICAgXy5kZWZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgbW9kZWwudHJpZ2dlcigndmFsaWRhdGVkJywgbW9kZWwuX2lzVmFsaWQsIG1vZGVsLCByZXN1bHQuaW52YWxpZEF0dHJzKTtcbiAgICAgICAgICAgICAgbW9kZWwudHJpZ2dlcigndmFsaWRhdGVkOicgKyAobW9kZWwuX2lzVmFsaWQgPyAndmFsaWQnIDogJ2ludmFsaWQnKSwgbW9kZWwsIHJlc3VsdC5pbnZhbGlkQXR0cnMpO1xuICAgICAgICAgICAgfSk7XG4gIFxuICAgICAgICAgICAgLy8gUmV0dXJuIGFueSBlcnJvciBtZXNzYWdlcyB0byBCYWNrYm9uZSwgdW5sZXNzIHRoZSBmb3JjZVVwZGF0ZSBmbGFnIGlzIHNldC5cbiAgICAgICAgICAgIC8vIFRoZW4gd2UgZG8gbm90IHJldHVybiBhbnl0aGluZyBhbmQgZm9vbHMgQmFja2JvbmUgdG8gYmVsaWV2ZSB0aGUgdmFsaWRhdGlvbiB3YXNcbiAgICAgICAgICAgIC8vIGEgc3VjY2Vzcy4gVGhhdCB3YXkgQmFja2JvbmUgd2lsbCB1cGRhdGUgdGhlIG1vZGVsIHJlZ2FyZGxlc3MuXG4gICAgICAgICAgICBpZiAoIW9wdC5mb3JjZVVwZGF0ZSAmJiBfLmludGVyc2VjdGlvbihfLmtleXMocmVzdWx0LmludmFsaWRBdHRycyksIF8ua2V5cyhjaGFuZ2VkQXR0cnMpKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQuaW52YWxpZEF0dHJzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH07XG4gIFxuICAgICAgLy8gSGVscGVyIHRvIG1peCBpbiB2YWxpZGF0aW9uIG9uIGEgbW9kZWxcbiAgICAgIHZhciBiaW5kTW9kZWwgPSBmdW5jdGlvbih2aWV3LCBtb2RlbCwgb3B0aW9ucykge1xuICAgICAgICBfLmV4dGVuZChtb2RlbCwgbWl4aW4odmlldywgb3B0aW9ucykpO1xuICAgICAgfTtcbiAgXG4gICAgICAvLyBSZW1vdmVzIHRoZSBtZXRob2RzIGFkZGVkIHRvIGEgbW9kZWxcbiAgICAgIHZhciB1bmJpbmRNb2RlbCA9IGZ1bmN0aW9uKG1vZGVsKSB7XG4gICAgICAgIGRlbGV0ZSBtb2RlbC52YWxpZGF0ZTtcbiAgICAgICAgZGVsZXRlIG1vZGVsLnByZVZhbGlkYXRlO1xuICAgICAgICBkZWxldGUgbW9kZWwuaXNWYWxpZDtcbiAgICAgIH07XG4gIFxuICAgICAgLy8gTWl4IGluIHZhbGlkYXRpb24gb24gYSBtb2RlbCB3aGVuZXZlciBhIG1vZGVsIGlzXG4gICAgICAvLyBhZGRlZCB0byBhIGNvbGxlY3Rpb25cbiAgICAgIHZhciBjb2xsZWN0aW9uQWRkID0gZnVuY3Rpb24obW9kZWwpIHtcbiAgICAgICAgYmluZE1vZGVsKHRoaXMudmlldywgbW9kZWwsIHRoaXMub3B0aW9ucyk7XG4gICAgICB9O1xuICBcbiAgICAgIC8vIFJlbW92ZSB2YWxpZGF0aW9uIGZyb20gYSBtb2RlbCB3aGVuZXZlciBhIG1vZGVsIGlzXG4gICAgICAvLyByZW1vdmVkIGZyb20gYSBjb2xsZWN0aW9uXG4gICAgICB2YXIgY29sbGVjdGlvblJlbW92ZSA9IGZ1bmN0aW9uKG1vZGVsKSB7XG4gICAgICAgIHVuYmluZE1vZGVsKG1vZGVsKTtcbiAgICAgIH07XG4gIFxuICAgICAgLy8gUmV0dXJucyB0aGUgcHVibGljIG1ldGhvZHMgb24gQmFja2JvbmUuVmFsaWRhdGlvblxuICAgICAgcmV0dXJuIHtcbiAgXG4gICAgICAgIC8vIEN1cnJlbnQgdmVyc2lvbiBvZiB0aGUgbGlicmFyeVxuICAgICAgICB2ZXJzaW9uOiAnMC45LjEnLFxuICBcbiAgICAgICAgLy8gQ2FsbGVkIHRvIGNvbmZpZ3VyZSB0aGUgZGVmYXVsdCBvcHRpb25zXG4gICAgICAgIGNvbmZpZ3VyZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICAgIF8uZXh0ZW5kKGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgfSxcbiAgXG4gICAgICAgIC8vIEhvb2tzIHVwIHZhbGlkYXRpb24gb24gYSB2aWV3IHdpdGggYSBtb2RlbFxuICAgICAgICAvLyBvciBjb2xsZWN0aW9uXG4gICAgICAgIGJpbmQ6IGZ1bmN0aW9uKHZpZXcsIG9wdGlvbnMpIHtcbiAgICAgICAgICBvcHRpb25zID0gXy5leHRlbmQoe30sIGRlZmF1bHRPcHRpb25zLCBkZWZhdWx0Q2FsbGJhY2tzLCBvcHRpb25zKTtcbiAgXG4gICAgICAgICAgdmFyIG1vZGVsID0gb3B0aW9ucy5tb2RlbCB8fCB2aWV3Lm1vZGVsLFxuICAgICAgICAgICAgICBjb2xsZWN0aW9uID0gb3B0aW9ucy5jb2xsZWN0aW9uIHx8IHZpZXcuY29sbGVjdGlvbjtcbiAgXG4gICAgICAgICAgaWYodHlwZW9mIG1vZGVsID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY29sbGVjdGlvbiA9PT0gJ3VuZGVmaW5lZCcpe1xuICAgICAgICAgICAgdGhyb3cgJ0JlZm9yZSB5b3UgZXhlY3V0ZSB0aGUgYmluZGluZyB5b3VyIHZpZXcgbXVzdCBoYXZlIGEgbW9kZWwgb3IgYSBjb2xsZWN0aW9uLlxcbicgK1xuICAgICAgICAgICAgICAgICAgJ1NlZSBodHRwOi8vdGhlZGVyc2VuLmNvbS9wcm9qZWN0cy9iYWNrYm9uZS12YWxpZGF0aW9uLyN1c2luZy1mb3JtLW1vZGVsLXZhbGlkYXRpb24gZm9yIG1vcmUgaW5mb3JtYXRpb24uJztcbiAgICAgICAgICB9XG4gIFxuICAgICAgICAgIGlmKG1vZGVsKSB7XG4gICAgICAgICAgICBiaW5kTW9kZWwodmlldywgbW9kZWwsIG9wdGlvbnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmKGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgIGNvbGxlY3Rpb24uZWFjaChmdW5jdGlvbihtb2RlbCl7XG4gICAgICAgICAgICAgIGJpbmRNb2RlbCh2aWV3LCBtb2RlbCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbGxlY3Rpb24uYmluZCgnYWRkJywgY29sbGVjdGlvbkFkZCwge3ZpZXc6IHZpZXcsIG9wdGlvbnM6IG9wdGlvbnN9KTtcbiAgICAgICAgICAgIGNvbGxlY3Rpb24uYmluZCgncmVtb3ZlJywgY29sbGVjdGlvblJlbW92ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICBcbiAgICAgICAgLy8gUmVtb3ZlcyB2YWxpZGF0aW9uIGZyb20gYSB2aWV3IHdpdGggYSBtb2RlbFxuICAgICAgICAvLyBvciBjb2xsZWN0aW9uXG4gICAgICAgIHVuYmluZDogZnVuY3Rpb24odmlldywgb3B0aW9ucykge1xuICAgICAgICAgIG9wdGlvbnMgPSBfLmV4dGVuZCh7fSwgb3B0aW9ucyk7XG4gICAgICAgICAgdmFyIG1vZGVsID0gb3B0aW9ucy5tb2RlbCB8fCB2aWV3Lm1vZGVsLFxuICAgICAgICAgICAgICBjb2xsZWN0aW9uID0gb3B0aW9ucy5jb2xsZWN0aW9uIHx8IHZpZXcuY29sbGVjdGlvbjtcbiAgXG4gICAgICAgICAgaWYobW9kZWwpIHtcbiAgICAgICAgICAgIHVuYmluZE1vZGVsKG1vZGVsKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZihjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICBjb2xsZWN0aW9uLmVhY2goZnVuY3Rpb24obW9kZWwpe1xuICAgICAgICAgICAgICB1bmJpbmRNb2RlbChtb2RlbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbGxlY3Rpb24udW5iaW5kKCdhZGQnLCBjb2xsZWN0aW9uQWRkKTtcbiAgICAgICAgICAgIGNvbGxlY3Rpb24udW5iaW5kKCdyZW1vdmUnLCBjb2xsZWN0aW9uUmVtb3ZlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gIFxuICAgICAgICAvLyBVc2VkIHRvIGV4dGVuZCB0aGUgQmFja2JvbmUuTW9kZWwucHJvdG90eXBlXG4gICAgICAgIC8vIHdpdGggdmFsaWRhdGlvblxuICAgICAgICBtaXhpbjogbWl4aW4obnVsbCwgZGVmYXVsdE9wdGlvbnMpXG4gICAgICB9O1xuICAgIH0oKSk7XG4gIFxuICBcbiAgICAvLyBDYWxsYmFja3NcbiAgICAvLyAtLS0tLS0tLS1cbiAgXG4gICAgdmFyIGRlZmF1bHRDYWxsYmFja3MgPSBWYWxpZGF0aW9uLmNhbGxiYWNrcyA9IHtcbiAgXG4gICAgICAvLyBHZXRzIGNhbGxlZCB3aGVuIGEgcHJldmlvdXNseSBpbnZhbGlkIGZpZWxkIGluIHRoZVxuICAgICAgLy8gdmlldyBiZWNvbWVzIHZhbGlkLiBSZW1vdmVzIGFueSBlcnJvciBtZXNzYWdlLlxuICAgICAgLy8gU2hvdWxkIGJlIG92ZXJyaWRkZW4gd2l0aCBjdXN0b20gZnVuY3Rpb25hbGl0eS5cbiAgICAgIHZhbGlkOiBmdW5jdGlvbih2aWV3LCBhdHRyLCBzZWxlY3Rvcikge1xuICAgICAgICB2aWV3LiQoJ1snICsgc2VsZWN0b3IgKyAnfj1cIicgKyBhdHRyICsgJ1wiXScpXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2ludmFsaWQnKVxuICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ2RhdGEtZXJyb3InKTtcbiAgICAgIH0sXG4gIFxuICAgICAgLy8gR2V0cyBjYWxsZWQgd2hlbiBhIGZpZWxkIGluIHRoZSB2aWV3IGJlY29tZXMgaW52YWxpZC5cbiAgICAgIC8vIEFkZHMgYSBlcnJvciBtZXNzYWdlLlxuICAgICAgLy8gU2hvdWxkIGJlIG92ZXJyaWRkZW4gd2l0aCBjdXN0b20gZnVuY3Rpb25hbGl0eS5cbiAgICAgIGludmFsaWQ6IGZ1bmN0aW9uKHZpZXcsIGF0dHIsIGVycm9yLCBzZWxlY3Rvcikge1xuICAgICAgICB2aWV3LiQoJ1snICsgc2VsZWN0b3IgKyAnfj1cIicgKyBhdHRyICsgJ1wiXScpXG4gICAgICAgICAgICAuYWRkQ2xhc3MoJ2ludmFsaWQnKVxuICAgICAgICAgICAgLmF0dHIoJ2RhdGEtZXJyb3InLCBlcnJvcik7XG4gICAgICB9XG4gICAgfTtcbiAgXG4gIFxuICAgIC8vIFBhdHRlcm5zXG4gICAgLy8gLS0tLS0tLS1cbiAgXG4gICAgdmFyIGRlZmF1bHRQYXR0ZXJucyA9IFZhbGlkYXRpb24ucGF0dGVybnMgPSB7XG4gICAgICAvLyBNYXRjaGVzIGFueSBkaWdpdChzKSAoaS5lLiAwLTkpXG4gICAgICBkaWdpdHM6IC9eXFxkKyQvLFxuICBcbiAgICAgIC8vIE1hdGNoZXMgYW55IG51bWJlciAoZS5nLiAxMDAuMDAwKVxuICAgICAgbnVtYmVyOiAvXi0/KD86XFxkK3xcXGR7MSwzfSg/OixcXGR7M30pKykoPzpcXC5cXGQrKT8kLyxcbiAgXG4gICAgICAvLyBNYXRjaGVzIGEgdmFsaWQgZW1haWwgYWRkcmVzcyAoZS5nLiBtYWlsQGV4YW1wbGUuY29tKVxuICAgICAgZW1haWw6IC9eKCgoW2Etel18XFxkfFshI1xcJCUmJ1xcKlxcK1xcLVxcLz1cXD9cXF5fYHtcXHx9fl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKyhcXC4oW2Etel18XFxkfFshI1xcJCUmJ1xcKlxcK1xcLVxcLz1cXD9cXF5fYHtcXHx9fl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKykqKXwoKFxceDIyKSgoKChcXHgyMHxcXHgwOSkqKFxceDBkXFx4MGEpKT8oXFx4MjB8XFx4MDkpKyk/KChbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHg3Zl18XFx4MjF8W1xceDIzLVxceDViXXxbXFx4NWQtXFx4N2VdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoXFxcXChbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGQtXFx4N2ZdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpKSooKChcXHgyMHxcXHgwOSkqKFxceDBkXFx4MGEpKT8oXFx4MjB8XFx4MDkpKyk/KFxceDIyKSkpQCgoKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSlcXC4pKygoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKSQvaSxcbiAgXG4gICAgICAvLyBNYXRoZXMgYW55IHZhbGlkIHVybCAoZS5nLiBodHRwOi8vd3d3LnhhbXBsZS5jb20pXG4gICAgICB1cmw6IC9eKGh0dHBzP3xmdHApOlxcL1xcLygoKChbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoJVtcXGRhLWZdezJ9KXxbIVxcJCYnXFwoXFwpXFwqXFwrLDs9XXw6KSpAKT8oKChcXGR8WzEtOV1cXGR8MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSlcXC4oXFxkfFsxLTldXFxkfDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKFxcZHxbMS05XVxcZHwxXFxkXFxkfDJbMC00XVxcZHwyNVswLTVdKVxcLihcXGR8WzEtOV1cXGR8MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSkpfCgoKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSlcXC4pKygoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKVxcLj8pKDpcXGQqKT8pKFxcLygoKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCglW1xcZGEtZl17Mn0pfFshXFwkJidcXChcXClcXCpcXCssOz1dfDp8QCkrKFxcLygoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KCVbXFxkYS1mXXsyfSl8WyFcXCQmJ1xcKFxcKVxcKlxcKyw7PV18OnxAKSopKik/KT8oXFw/KCgoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KCVbXFxkYS1mXXsyfSl8WyFcXCQmJ1xcKFxcKVxcKlxcKyw7PV18OnxAKXxbXFx1RTAwMC1cXHVGOEZGXXxcXC98XFw/KSopPyhcXCMoKChbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoJVtcXGRhLWZdezJ9KXxbIVxcJCYnXFwoXFwpXFwqXFwrLDs9XXw6fEApfFxcL3xcXD8pKik/JC9pXG4gICAgfTtcbiAgXG4gIFxuICAgIC8vIEVycm9yIG1lc3NhZ2VzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS1cbiAgXG4gICAgLy8gRXJyb3IgbWVzc2FnZSBmb3IgdGhlIGJ1aWxkIGluIHZhbGlkYXRvcnMuXG4gICAgLy8ge3h9IGdldHMgc3dhcHBlZCBvdXQgd2l0aCBhcmd1bWVudHMgZm9ybSB0aGUgdmFsaWRhdG9yLlxuICAgIHZhciBkZWZhdWx0TWVzc2FnZXMgPSBWYWxpZGF0aW9uLm1lc3NhZ2VzID0ge1xuICAgICAgcmVxdWlyZWQ6ICd7MH0gaXMgcmVxdWlyZWQnLFxuICAgICAgYWNjZXB0YW5jZTogJ3swfSBtdXN0IGJlIGFjY2VwdGVkJyxcbiAgICAgIG1pbjogJ3swfSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB7MX0nLFxuICAgICAgbWF4OiAnezB9IG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHsxfScsXG4gICAgICByYW5nZTogJ3swfSBtdXN0IGJlIGJldHdlZW4gezF9IGFuZCB7Mn0nLFxuICAgICAgbGVuZ3RoOiAnezB9IG11c3QgYmUgezF9IGNoYXJhY3RlcnMnLFxuICAgICAgbWluTGVuZ3RoOiAnezB9IG11c3QgYmUgYXQgbGVhc3QgezF9IGNoYXJhY3RlcnMnLFxuICAgICAgbWF4TGVuZ3RoOiAnezB9IG11c3QgYmUgYXQgbW9zdCB7MX0gY2hhcmFjdGVycycsXG4gICAgICByYW5nZUxlbmd0aDogJ3swfSBtdXN0IGJlIGJldHdlZW4gezF9IGFuZCB7Mn0gY2hhcmFjdGVycycsXG4gICAgICBvbmVPZjogJ3swfSBtdXN0IGJlIG9uZSBvZjogezF9JyxcbiAgICAgIGVxdWFsVG86ICd7MH0gbXVzdCBiZSB0aGUgc2FtZSBhcyB7MX0nLFxuICAgICAgZGlnaXRzOiAnezB9IG11c3Qgb25seSBjb250YWluIGRpZ2l0cycsXG4gICAgICBudW1iZXI6ICd7MH0gbXVzdCBiZSBhIG51bWJlcicsXG4gICAgICBlbWFpbDogJ3swfSBtdXN0IGJlIGEgdmFsaWQgZW1haWwnLFxuICAgICAgdXJsOiAnezB9IG11c3QgYmUgYSB2YWxpZCB1cmwnLFxuICAgICAgaW5saW5lUGF0dGVybjogJ3swfSBpcyBpbnZhbGlkJ1xuICAgIH07XG4gIFxuICAgIC8vIExhYmVsIGZvcm1hdHRlcnNcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tXG4gIFxuICAgIC8vIExhYmVsIGZvcm1hdHRlcnMgYXJlIHVzZWQgdG8gY29udmVydCB0aGUgYXR0cmlidXRlIG5hbWVcbiAgICAvLyB0byBhIG1vcmUgaHVtYW4gZnJpZW5kbHkgbGFiZWwgd2hlbiB1c2luZyB0aGUgYnVpbHQgaW5cbiAgICAvLyBlcnJvciBtZXNzYWdlcy5cbiAgICAvLyBDb25maWd1cmUgd2hpY2ggb25lIHRvIHVzZSB3aXRoIGEgY2FsbCB0b1xuICAgIC8vXG4gICAgLy8gICAgIEJhY2tib25lLlZhbGlkYXRpb24uY29uZmlndXJlKHtcbiAgICAvLyAgICAgICBsYWJlbEZvcm1hdHRlcjogJ2xhYmVsJ1xuICAgIC8vICAgICB9KTtcbiAgICB2YXIgZGVmYXVsdExhYmVsRm9ybWF0dGVycyA9IFZhbGlkYXRpb24ubGFiZWxGb3JtYXR0ZXJzID0ge1xuICBcbiAgICAgIC8vIFJldHVybnMgdGhlIGF0dHJpYnV0ZSBuYW1lIHdpdGggYXBwbHlpbmcgYW55IGZvcm1hdHRpbmdcbiAgICAgIG5vbmU6IGZ1bmN0aW9uKGF0dHJOYW1lKSB7XG4gICAgICAgIHJldHVybiBhdHRyTmFtZTtcbiAgICAgIH0sXG4gIFxuICAgICAgLy8gQ29udmVydHMgYXR0cmlidXRlTmFtZSBvciBhdHRyaWJ1dGVfbmFtZSB0byBBdHRyaWJ1dGUgbmFtZVxuICAgICAgc2VudGVuY2VDYXNlOiBmdW5jdGlvbihhdHRyTmFtZSkge1xuICAgICAgICByZXR1cm4gYXR0ck5hbWUucmVwbGFjZSgvKD86Xlxcd3xbQS1aXXxcXGJcXHcpL2csIGZ1bmN0aW9uKG1hdGNoLCBpbmRleCkge1xuICAgICAgICAgIHJldHVybiBpbmRleCA9PT0gMCA/IG1hdGNoLnRvVXBwZXJDYXNlKCkgOiAnICcgKyBtYXRjaC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9KS5yZXBsYWNlKC9fL2csICcgJyk7XG4gICAgICB9LFxuICBcbiAgICAgIC8vIExvb2tzIGZvciBhIGxhYmVsIGNvbmZpZ3VyZWQgb24gdGhlIG1vZGVsIGFuZCByZXR1cm5zIGl0XG4gICAgICAvL1xuICAgICAgLy8gICAgICB2YXIgTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgICAgLy8gICAgICAgIHZhbGlkYXRpb246IHtcbiAgICAgIC8vICAgICAgICAgIHNvbWVBdHRyaWJ1dGU6IHtcbiAgICAgIC8vICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgIC8vICAgICAgICAgIH1cbiAgICAgIC8vICAgICAgICB9LFxuICAgICAgLy9cbiAgICAgIC8vICAgICAgICBsYWJlbHM6IHtcbiAgICAgIC8vICAgICAgICAgIHNvbWVBdHRyaWJ1dGU6ICdDdXN0b20gbGFiZWwnXG4gICAgICAvLyAgICAgICAgfVxuICAgICAgLy8gICAgICB9KTtcbiAgICAgIGxhYmVsOiBmdW5jdGlvbihhdHRyTmFtZSwgbW9kZWwpIHtcbiAgICAgICAgcmV0dXJuIChtb2RlbC5sYWJlbHMgJiYgbW9kZWwubGFiZWxzW2F0dHJOYW1lXSkgfHwgZGVmYXVsdExhYmVsRm9ybWF0dGVycy5zZW50ZW5jZUNhc2UoYXR0ck5hbWUsIG1vZGVsKTtcbiAgICAgIH1cbiAgICB9O1xuICBcbiAgXG4gICAgLy8gQnVpbHQgaW4gdmFsaWRhdG9yc1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgXG4gICAgdmFyIGRlZmF1bHRWYWxpZGF0b3JzID0gVmFsaWRhdGlvbi52YWxpZGF0b3JzID0gKGZ1bmN0aW9uKCl7XG4gICAgICAvLyBVc2UgbmF0aXZlIHRyaW0gd2hlbiBkZWZpbmVkXG4gICAgICB2YXIgdHJpbSA9IFN0cmluZy5wcm90b3R5cGUudHJpbSA/XG4gICAgICAgIGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgICByZXR1cm4gdGV4dCA9PT0gbnVsbCA/ICcnIDogU3RyaW5nLnByb3RvdHlwZS50cmltLmNhbGwodGV4dCk7XG4gICAgICAgIH0gOlxuICAgICAgICBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgICAgdmFyIHRyaW1MZWZ0ID0gL15cXHMrLyxcbiAgICAgICAgICAgICAgdHJpbVJpZ2h0ID0gL1xccyskLztcbiAgXG4gICAgICAgICAgcmV0dXJuIHRleHQgPT09IG51bGwgPyAnJyA6IHRleHQudG9TdHJpbmcoKS5yZXBsYWNlKHRyaW1MZWZ0LCAnJykucmVwbGFjZSh0cmltUmlnaHQsICcnKTtcbiAgICAgICAgfTtcbiAgXG4gICAgICAvLyBEZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IGEgdmFsdWUgaXMgYSBudW1iZXJcbiAgICAgIHZhciBpc051bWJlciA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgcmV0dXJuIF8uaXNOdW1iZXIodmFsdWUpIHx8IChfLmlzU3RyaW5nKHZhbHVlKSAmJiB2YWx1ZS5tYXRjaChkZWZhdWx0UGF0dGVybnMubnVtYmVyKSk7XG4gICAgICB9O1xuICBcbiAgICAgIC8vIERldGVybWluZXMgd2hldGhlciBvciBub3QgYSB2YWx1ZSBpcyBlbXB0eVxuICAgICAgdmFyIGhhc1ZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICEoXy5pc051bGwodmFsdWUpIHx8IF8uaXNVbmRlZmluZWQodmFsdWUpIHx8IChfLmlzU3RyaW5nKHZhbHVlKSAmJiB0cmltKHZhbHVlKSA9PT0gJycpIHx8IChfLmlzQXJyYXkodmFsdWUpICYmIF8uaXNFbXB0eSh2YWx1ZSkpKTtcbiAgICAgIH07XG4gIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLy8gRnVuY3Rpb24gdmFsaWRhdG9yXG4gICAgICAgIC8vIExldHMgeW91IGltcGxlbWVudCBhIGN1c3RvbSBmdW5jdGlvbiB1c2VkIGZvciB2YWxpZGF0aW9uXG4gICAgICAgIGZuOiBmdW5jdGlvbih2YWx1ZSwgYXR0ciwgZm4sIG1vZGVsLCBjb21wdXRlZCkge1xuICAgICAgICAgIGlmKF8uaXNTdHJpbmcoZm4pKXtcbiAgICAgICAgICAgIGZuID0gbW9kZWxbZm5dO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZm4uY2FsbChtb2RlbCwgdmFsdWUsIGF0dHIsIGNvbXB1dGVkKTtcbiAgICAgICAgfSxcbiAgXG4gICAgICAgIC8vIFJlcXVpcmVkIHZhbGlkYXRvclxuICAgICAgICAvLyBWYWxpZGF0ZXMgaWYgdGhlIGF0dHJpYnV0ZSBpcyByZXF1aXJlZCBvciBub3RcbiAgICAgICAgLy8gVGhpcyBjYW4gYmUgc3BlY2lmaWVkIGFzIGVpdGhlciBhIGJvb2xlYW4gdmFsdWUgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBib29sZWFuIHZhbHVlXG4gICAgICAgIHJlcXVpcmVkOiBmdW5jdGlvbih2YWx1ZSwgYXR0ciwgcmVxdWlyZWQsIG1vZGVsLCBjb21wdXRlZCkge1xuICAgICAgICAgIHZhciBpc1JlcXVpcmVkID0gXy5pc0Z1bmN0aW9uKHJlcXVpcmVkKSA/IHJlcXVpcmVkLmNhbGwobW9kZWwsIHZhbHVlLCBhdHRyLCBjb21wdXRlZCkgOiByZXF1aXJlZDtcbiAgICAgICAgICBpZighaXNSZXF1aXJlZCAmJiAhaGFzVmFsdWUodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIG92ZXJyaWRlcyBhbGwgb3RoZXIgdmFsaWRhdG9yc1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNSZXF1aXJlZCAmJiAhaGFzVmFsdWUodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQoZGVmYXVsdE1lc3NhZ2VzLnJlcXVpcmVkLCB0aGlzLmZvcm1hdExhYmVsKGF0dHIsIG1vZGVsKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICBcbiAgICAgICAgLy8gQWNjZXB0YW5jZSB2YWxpZGF0b3JcbiAgICAgICAgLy8gVmFsaWRhdGVzIHRoYXQgc29tZXRoaW5nIGhhcyB0byBiZSBhY2NlcHRlZCwgZS5nLiB0ZXJtcyBvZiB1c2VcbiAgICAgICAgLy8gYHRydWVgIG9yICd0cnVlJyBhcmUgdmFsaWRcbiAgICAgICAgYWNjZXB0YW5jZTogZnVuY3Rpb24odmFsdWUsIGF0dHIsIGFjY2VwdCwgbW9kZWwpIHtcbiAgICAgICAgICBpZih2YWx1ZSAhPT0gJ3RydWUnICYmICghXy5pc0Jvb2xlYW4odmFsdWUpIHx8IHZhbHVlID09PSBmYWxzZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvcm1hdChkZWZhdWx0TWVzc2FnZXMuYWNjZXB0YW5jZSwgdGhpcy5mb3JtYXRMYWJlbChhdHRyLCBtb2RlbCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgXG4gICAgICAgIC8vIE1pbiB2YWxpZGF0b3JcbiAgICAgICAgLy8gVmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIGhhcyB0byBiZSBhIG51bWJlciBhbmQgZXF1YWwgdG8gb3IgZ3JlYXRlciB0aGFuXG4gICAgICAgIC8vIHRoZSBtaW4gdmFsdWUgc3BlY2lmaWVkXG4gICAgICAgIG1pbjogZnVuY3Rpb24odmFsdWUsIGF0dHIsIG1pblZhbHVlLCBtb2RlbCkge1xuICAgICAgICAgIGlmICghaXNOdW1iZXIodmFsdWUpIHx8IHZhbHVlIDwgbWluVmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvcm1hdChkZWZhdWx0TWVzc2FnZXMubWluLCB0aGlzLmZvcm1hdExhYmVsKGF0dHIsIG1vZGVsKSwgbWluVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgXG4gICAgICAgIC8vIE1heCB2YWxpZGF0b3JcbiAgICAgICAgLy8gVmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIGhhcyB0byBiZSBhIG51bWJlciBhbmQgZXF1YWwgdG8gb3IgbGVzcyB0aGFuXG4gICAgICAgIC8vIHRoZSBtYXggdmFsdWUgc3BlY2lmaWVkXG4gICAgICAgIG1heDogZnVuY3Rpb24odmFsdWUsIGF0dHIsIG1heFZhbHVlLCBtb2RlbCkge1xuICAgICAgICAgIGlmICghaXNOdW1iZXIodmFsdWUpIHx8IHZhbHVlID4gbWF4VmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvcm1hdChkZWZhdWx0TWVzc2FnZXMubWF4LCB0aGlzLmZvcm1hdExhYmVsKGF0dHIsIG1vZGVsKSwgbWF4VmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgXG4gICAgICAgIC8vIFJhbmdlIHZhbGlkYXRvclxuICAgICAgICAvLyBWYWxpZGF0ZXMgdGhhdCB0aGUgdmFsdWUgaGFzIHRvIGJlIGEgbnVtYmVyIGFuZCBlcXVhbCB0byBvciBiZXR3ZWVuXG4gICAgICAgIC8vIHRoZSB0d28gbnVtYmVycyBzcGVjaWZpZWRcbiAgICAgICAgcmFuZ2U6IGZ1bmN0aW9uKHZhbHVlLCBhdHRyLCByYW5nZSwgbW9kZWwpIHtcbiAgICAgICAgICBpZighaXNOdW1iZXIodmFsdWUpIHx8IHZhbHVlIDwgcmFuZ2VbMF0gfHwgdmFsdWUgPiByYW5nZVsxXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0KGRlZmF1bHRNZXNzYWdlcy5yYW5nZSwgdGhpcy5mb3JtYXRMYWJlbChhdHRyLCBtb2RlbCksIHJhbmdlWzBdLCByYW5nZVsxXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICBcbiAgICAgICAgLy8gTGVuZ3RoIHZhbGlkYXRvclxuICAgICAgICAvLyBWYWxpZGF0ZXMgdGhhdCB0aGUgdmFsdWUgaGFzIHRvIGJlIGEgc3RyaW5nIHdpdGggbGVuZ3RoIGVxdWFsIHRvXG4gICAgICAgIC8vIHRoZSBsZW5ndGggdmFsdWUgc3BlY2lmaWVkXG4gICAgICAgIGxlbmd0aDogZnVuY3Rpb24odmFsdWUsIGF0dHIsIGxlbmd0aCwgbW9kZWwpIHtcbiAgICAgICAgICBpZiAoIV8uaXNTdHJpbmcodmFsdWUpIHx8IHZhbHVlLmxlbmd0aCAhPT0gbGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQoZGVmYXVsdE1lc3NhZ2VzLmxlbmd0aCwgdGhpcy5mb3JtYXRMYWJlbChhdHRyLCBtb2RlbCksIGxlbmd0aCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICBcbiAgICAgICAgLy8gTWluIGxlbmd0aCB2YWxpZGF0b3JcbiAgICAgICAgLy8gVmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIGhhcyB0byBiZSBhIHN0cmluZyB3aXRoIGxlbmd0aCBlcXVhbCB0byBvciBncmVhdGVyIHRoYW5cbiAgICAgICAgLy8gdGhlIG1pbiBsZW5ndGggdmFsdWUgc3BlY2lmaWVkXG4gICAgICAgIG1pbkxlbmd0aDogZnVuY3Rpb24odmFsdWUsIGF0dHIsIG1pbkxlbmd0aCwgbW9kZWwpIHtcbiAgICAgICAgICBpZiAoIV8uaXNTdHJpbmcodmFsdWUpIHx8IHZhbHVlLmxlbmd0aCA8IG1pbkxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0KGRlZmF1bHRNZXNzYWdlcy5taW5MZW5ndGgsIHRoaXMuZm9ybWF0TGFiZWwoYXR0ciwgbW9kZWwpLCBtaW5MZW5ndGgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgXG4gICAgICAgIC8vIE1heCBsZW5ndGggdmFsaWRhdG9yXG4gICAgICAgIC8vIFZhbGlkYXRlcyB0aGF0IHRoZSB2YWx1ZSBoYXMgdG8gYmUgYSBzdHJpbmcgd2l0aCBsZW5ndGggZXF1YWwgdG8gb3IgbGVzcyB0aGFuXG4gICAgICAgIC8vIHRoZSBtYXggbGVuZ3RoIHZhbHVlIHNwZWNpZmllZFxuICAgICAgICBtYXhMZW5ndGg6IGZ1bmN0aW9uKHZhbHVlLCBhdHRyLCBtYXhMZW5ndGgsIG1vZGVsKSB7XG4gICAgICAgICAgaWYgKCFfLmlzU3RyaW5nKHZhbHVlKSB8fCB2YWx1ZS5sZW5ndGggPiBtYXhMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvcm1hdChkZWZhdWx0TWVzc2FnZXMubWF4TGVuZ3RoLCB0aGlzLmZvcm1hdExhYmVsKGF0dHIsIG1vZGVsKSwgbWF4TGVuZ3RoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gIFxuICAgICAgICAvLyBSYW5nZSBsZW5ndGggdmFsaWRhdG9yXG4gICAgICAgIC8vIFZhbGlkYXRlcyB0aGF0IHRoZSB2YWx1ZSBoYXMgdG8gYmUgYSBzdHJpbmcgYW5kIGVxdWFsIHRvIG9yIGJldHdlZW5cbiAgICAgICAgLy8gdGhlIHR3byBudW1iZXJzIHNwZWNpZmllZFxuICAgICAgICByYW5nZUxlbmd0aDogZnVuY3Rpb24odmFsdWUsIGF0dHIsIHJhbmdlLCBtb2RlbCkge1xuICAgICAgICAgIGlmICghXy5pc1N0cmluZyh2YWx1ZSkgfHwgdmFsdWUubGVuZ3RoIDwgcmFuZ2VbMF0gfHwgdmFsdWUubGVuZ3RoID4gcmFuZ2VbMV0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvcm1hdChkZWZhdWx0TWVzc2FnZXMucmFuZ2VMZW5ndGgsIHRoaXMuZm9ybWF0TGFiZWwoYXR0ciwgbW9kZWwpLCByYW5nZVswXSwgcmFuZ2VbMV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgXG4gICAgICAgIC8vIE9uZSBvZiB2YWxpZGF0b3JcbiAgICAgICAgLy8gVmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIGhhcyB0byBiZSBlcXVhbCB0byBvbmUgb2YgdGhlIGVsZW1lbnRzIGluXG4gICAgICAgIC8vIHRoZSBzcGVjaWZpZWQgYXJyYXkuIENhc2Ugc2Vuc2l0aXZlIG1hdGNoaW5nXG4gICAgICAgIG9uZU9mOiBmdW5jdGlvbih2YWx1ZSwgYXR0ciwgdmFsdWVzLCBtb2RlbCkge1xuICAgICAgICAgIGlmKCFfLmluY2x1ZGUodmFsdWVzLCB2YWx1ZSkpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0KGRlZmF1bHRNZXNzYWdlcy5vbmVPZiwgdGhpcy5mb3JtYXRMYWJlbChhdHRyLCBtb2RlbCksIHZhbHVlcy5qb2luKCcsICcpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gIFxuICAgICAgICAvLyBFcXVhbCB0byB2YWxpZGF0b3JcbiAgICAgICAgLy8gVmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIGhhcyB0byBiZSBlcXVhbCB0byB0aGUgdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZVxuICAgICAgICAvLyB3aXRoIHRoZSBuYW1lIHNwZWNpZmllZFxuICAgICAgICBlcXVhbFRvOiBmdW5jdGlvbih2YWx1ZSwgYXR0ciwgZXF1YWxUbywgbW9kZWwsIGNvbXB1dGVkKSB7XG4gICAgICAgICAgaWYodmFsdWUgIT09IGNvbXB1dGVkW2VxdWFsVG9dKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQoZGVmYXVsdE1lc3NhZ2VzLmVxdWFsVG8sIHRoaXMuZm9ybWF0TGFiZWwoYXR0ciwgbW9kZWwpLCB0aGlzLmZvcm1hdExhYmVsKGVxdWFsVG8sIG1vZGVsKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICBcbiAgICAgICAgLy8gUGF0dGVybiB2YWxpZGF0b3JcbiAgICAgICAgLy8gVmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIGhhcyB0byBtYXRjaCB0aGUgcGF0dGVybiBzcGVjaWZpZWQuXG4gICAgICAgIC8vIENhbiBiZSBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBvciB0aGUgbmFtZSBvZiBvbmUgb2YgdGhlIGJ1aWx0IGluIHBhdHRlcm5zXG4gICAgICAgIHBhdHRlcm46IGZ1bmN0aW9uKHZhbHVlLCBhdHRyLCBwYXR0ZXJuLCBtb2RlbCkge1xuICAgICAgICAgIGlmICghaGFzVmFsdWUodmFsdWUpIHx8ICF2YWx1ZS50b1N0cmluZygpLm1hdGNoKGRlZmF1bHRQYXR0ZXJuc1twYXR0ZXJuXSB8fCBwYXR0ZXJuKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0KGRlZmF1bHRNZXNzYWdlc1twYXR0ZXJuXSB8fCBkZWZhdWx0TWVzc2FnZXMuaW5saW5lUGF0dGVybiwgdGhpcy5mb3JtYXRMYWJlbChhdHRyLCBtb2RlbCksIHBhdHRlcm4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KCkpO1xuICBcbiAgICAvLyBTZXQgdGhlIGNvcnJlY3QgY29udGV4dCBmb3IgYWxsIHZhbGlkYXRvcnNcbiAgICAvLyB3aGVuIHVzZWQgZnJvbSB3aXRoaW4gYSBtZXRob2QgdmFsaWRhdG9yXG4gICAgXy5lYWNoKGRlZmF1bHRWYWxpZGF0b3JzLCBmdW5jdGlvbih2YWxpZGF0b3IsIGtleSl7XG4gICAgICBkZWZhdWx0VmFsaWRhdG9yc1trZXldID0gXy5iaW5kKGRlZmF1bHRWYWxpZGF0b3JzW2tleV0sIF8uZXh0ZW5kKHt9LCBmb3JtYXRGdW5jdGlvbnMsIGRlZmF1bHRWYWxpZGF0b3JzKSk7XG4gICAgfSk7XG4gIFxuICAgIHJldHVybiBWYWxpZGF0aW9uO1xuICB9KF8pKTtcbiAgcmV0dXJuIEJhY2tib25lLlZhbGlkYXRpb247XG59KSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFja2JvbmUtdmFsaWRhdGlvbi9kaXN0L2JhY2tib25lLXZhbGlkYXRpb24tYW1kLmpzXG4gKiogbW9kdWxlIGlkID0gOTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6Ijk0LmpzIn0=");

/***/ }
/******/ ])