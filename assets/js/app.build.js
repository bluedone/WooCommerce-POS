/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/*!******************************!*\
  !*** ./assets/js/src/app.js ***!
  \******************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var _ = __webpack_require__(/*! lodash */ 1);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 9);\nvar Application = __webpack_require__(/*! apps/app/application */ 13);\n\n/**\n * bootstrap Handlebars Helpers\n */\n__webpack_require__(/*! lib/utilities/handlebars-helpers */ 10);\n\n/**\n * Create the app\n */\nvar app = new Application();\n\n/**\n * Modules\n */\napp.module( 'Entities', {\n    moduleClass: __webpack_require__(/*! entities/module */ 8)\n});\n\napp.module( 'HeaderApp', {\n    moduleClass: __webpack_require__(/*! apps/header/module */ 14),\n    container: app.layout.headerRegion\n});\n\napp.module( 'POSApp', {\n    moduleClass: __webpack_require__(/*! apps/pos/module */ 15),\n    container: app.layout.mainRegion\n});\n\napp.module( 'SupportApp', {\n    moduleClass: __webpack_require__(/*! apps/support/module */ 16),\n    container: app.layout.mainRegion\n});\n\napp.module( 'Modal', {\n    moduleClass: __webpack_require__(/*! lib/components/modal/module */ 12),\n    container: app.layout.modalRegion\n});\n\n/**\n * Attach app to window for third party plugins\n */\nmodule.exports = window.POS = POS.create(app);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvanMvc3JjL2FwcC5qcz85ZmY2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbnZhciBQT1MgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL2dsb2JhbCcpO1xudmFyIEFwcGxpY2F0aW9uID0gcmVxdWlyZSgnYXBwcy9hcHAvYXBwbGljYXRpb24nKTtcblxuLyoqXG4gKiBib290c3RyYXAgSGFuZGxlYmFycyBIZWxwZXJzXG4gKi9cbnJlcXVpcmUoJ2xpYi91dGlsaXRpZXMvaGFuZGxlYmFycy1oZWxwZXJzJyk7XG5cbi8qKlxuICogQ3JlYXRlIHRoZSBhcHBcbiAqL1xudmFyIGFwcCA9IG5ldyBBcHBsaWNhdGlvbigpO1xuXG4vKipcbiAqIE1vZHVsZXNcbiAqL1xuYXBwLm1vZHVsZSggJ0VudGl0aWVzJywge1xuICAgIG1vZHVsZUNsYXNzOiByZXF1aXJlKCdlbnRpdGllcy9tb2R1bGUnKVxufSk7XG5cbmFwcC5tb2R1bGUoICdIZWFkZXJBcHAnLCB7XG4gICAgbW9kdWxlQ2xhc3M6IHJlcXVpcmUoJ2FwcHMvaGVhZGVyL21vZHVsZScpLFxuICAgIGNvbnRhaW5lcjogYXBwLmxheW91dC5oZWFkZXJSZWdpb25cbn0pO1xuXG5hcHAubW9kdWxlKCAnUE9TQXBwJywge1xuICAgIG1vZHVsZUNsYXNzOiByZXF1aXJlKCdhcHBzL3Bvcy9tb2R1bGUnKSxcbiAgICBjb250YWluZXI6IGFwcC5sYXlvdXQubWFpblJlZ2lvblxufSk7XG5cbmFwcC5tb2R1bGUoICdTdXBwb3J0QXBwJywge1xuICAgIG1vZHVsZUNsYXNzOiByZXF1aXJlKCdhcHBzL3N1cHBvcnQvbW9kdWxlJyksXG4gICAgY29udGFpbmVyOiBhcHAubGF5b3V0Lm1haW5SZWdpb25cbn0pO1xuXG5hcHAubW9kdWxlKCAnTW9kYWwnLCB7XG4gICAgbW9kdWxlQ2xhc3M6IHJlcXVpcmUoJ2xpYi9jb21wb25lbnRzL21vZGFsL21vZHVsZScpLFxuICAgIGNvbnRhaW5lcjogYXBwLmxheW91dC5tb2RhbFJlZ2lvblxufSk7XG5cbi8qKlxuICogQXR0YWNoIGFwcCB0byB3aW5kb3cgZm9yIHRoaXJkIHBhcnR5IHBsdWdpbnNcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB3aW5kb3cuUE9TID0gUE9TLmNyZWF0ZShhcHApO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hc3NldHMvanMvc3JjL2FwcC5qc1xuICoqIG1vZHVsZSBpZCA9IDBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjAuanMifQ==");

/***/ },
/* 1 */
/*!********************!*\
  !*** external "_" ***!
  \********************/
/***/ function(module, exports, __webpack_require__) {

	eval("module.exports = _;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJfXCI/YjNiOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwgXCJfXCJcbiAqKiBtb2R1bGUgaWQgPSAxXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 2 */
/*!***************************!*\
  !*** external "Backbone" ***!
  \***************************/
/***/ function(module, exports, __webpack_require__) {

	eval("module.exports = Backbone;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJCYWNrYm9uZVwiPzcwOWQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gQmFja2JvbmU7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCBcIkJhY2tib25lXCJcbiAqKiBtb2R1bGUgaWQgPSAyXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 3 */
/*!*************************!*\
  !*** external "jQuery" ***!
  \*************************/
/***/ function(module, exports, __webpack_require__) {

	eval("module.exports = jQuery;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqUXVlcnlcIj8wY2I4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGpRdWVyeTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwialF1ZXJ5XCJcbiAqKiBtb2R1bGUgaWQgPSAzXG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 4 */,
/* 5 */,
/* 6 */,
/* 7 */,
/* 8 */
/*!******************************!*\
  !*** ./~/entities/module.js ***!
  \******************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Module = __webpack_require__(/*! lib/config/module */ 30);\nvar Products = __webpack_require__(/*! ./products/collection */ 43);\nvar Cart = __webpack_require__(/*! ./cart/collection */ 44);\nvar Orders = __webpack_require__(/*! ./orders/collection */ 45);\nvar Order = __webpack_require__(/*! ./orders/model */ 46);\nvar Settings = __webpack_require__(/*! ./settings */ 31);\nvar bb = __webpack_require__(/*! backbone */ 2);\n\nmodule.exports = Module.extend({\n\n  initialize: function() {\n    this.channel = bb.Radio.channel('entities');\n\n    this.channel.reply({\n      'products': function() {\n        return new Products();\n      },\n      'cart': function( options ) {\n        return new Cart( [], options );\n      },\n      'order': function(id) {\n        return new Order(id);\n      },\n      'orders': function() {\n        return new Orders();\n      },\n      'get:options': function(key){\n        return this.app.options[key];\n      },\n      'set:options': function(key){\n        return key;\n      },\n      'get:settings': function(key){\n        if( key === 'hotkeys' ){\n          return new Settings.Usermeta( this.app.options['hotkeys'],\n              { id: 'hotkeys' }\n          );\n        }\n      }\n    }, this);\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VudGl0aWVzL21vZHVsZS5qcz82YjI5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTW9kdWxlID0gcmVxdWlyZSgnbGliL2NvbmZpZy9tb2R1bGUnKTtcbnZhciBQcm9kdWN0cyA9IHJlcXVpcmUoJy4vcHJvZHVjdHMvY29sbGVjdGlvbicpO1xudmFyIENhcnQgPSByZXF1aXJlKCcuL2NhcnQvY29sbGVjdGlvbicpO1xudmFyIE9yZGVycyA9IHJlcXVpcmUoJy4vb3JkZXJzL2NvbGxlY3Rpb24nKTtcbnZhciBPcmRlciA9IHJlcXVpcmUoJy4vb3JkZXJzL21vZGVsJyk7XG52YXIgU2V0dGluZ3MgPSByZXF1aXJlKCcuL3NldHRpbmdzJyk7XG52YXIgYmIgPSByZXF1aXJlKCdiYWNrYm9uZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1vZHVsZS5leHRlbmQoe1xuXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY2hhbm5lbCA9IGJiLlJhZGlvLmNoYW5uZWwoJ2VudGl0aWVzJyk7XG5cbiAgICB0aGlzLmNoYW5uZWwucmVwbHkoe1xuICAgICAgJ3Byb2R1Y3RzJzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvZHVjdHMoKTtcbiAgICAgIH0sXG4gICAgICAnY2FydCc6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuICAgICAgICByZXR1cm4gbmV3IENhcnQoIFtdLCBvcHRpb25zICk7XG4gICAgICB9LFxuICAgICAgJ29yZGVyJzogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPcmRlcihpZCk7XG4gICAgICB9LFxuICAgICAgJ29yZGVycyc6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmV3IE9yZGVycygpO1xuICAgICAgfSxcbiAgICAgICdnZXQ6b3B0aW9ucyc6IGZ1bmN0aW9uKGtleSl7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcC5vcHRpb25zW2tleV07XG4gICAgICB9LFxuICAgICAgJ3NldDpvcHRpb25zJzogZnVuY3Rpb24oa2V5KXtcbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgIH0sXG4gICAgICAnZ2V0OnNldHRpbmdzJzogZnVuY3Rpb24oa2V5KXtcbiAgICAgICAgaWYoIGtleSA9PT0gJ2hvdGtleXMnICl7XG4gICAgICAgICAgcmV0dXJuIG5ldyBTZXR0aW5ncy5Vc2VybWV0YSggdGhpcy5hcHAub3B0aW9uc1snaG90a2V5cyddLFxuICAgICAgICAgICAgICB7IGlkOiAnaG90a2V5cycgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB0aGlzKTtcbiAgfVxuXG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9lbnRpdGllcy9tb2R1bGUuanNcbiAqKiBtb2R1bGUgaWQgPSA4XG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI4LmpzIn0=");

/***/ },
/* 9 */
/*!***********************************!*\
  !*** ./~/lib/utilities/global.js ***!
  \***********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var version = version || '';\nvar _ = __webpack_require__(/*! lodash */ 1);\n\n/**\n * create a global variable\n */\nmodule.exports = {\n  VERSION: version,\n  attach: function(deepProperty, value){\n    deepProperty = deepProperty.split('.');\n    var nestedObj = _.reduceRight(deepProperty, function (child, parent) {\n      var obj = {};\n      obj[parent] = child;\n      return obj;\n    }, value || {});\n    _.merge(this, nestedObj);\n  },\n  create: function(app){\n    return _.defaults( app, this );\n  }\n};//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjazovLy8uL34vbGliL3V0aWxpdGllcy9nbG9iYWwuanM/MjY5ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGFBQWE7QUFDbEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdmVyc2lvbiA9IHZlcnNpb24gfHwgJyc7XG52YXIgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG4vKipcbiAqIGNyZWF0ZSBhIGdsb2JhbCB2YXJpYWJsZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgVkVSU0lPTjogdmVyc2lvbixcbiAgYXR0YWNoOiBmdW5jdGlvbihkZWVwUHJvcGVydHksIHZhbHVlKXtcbiAgICBkZWVwUHJvcGVydHkgPSBkZWVwUHJvcGVydHkuc3BsaXQoJy4nKTtcbiAgICB2YXIgbmVzdGVkT2JqID0gXy5yZWR1Y2VSaWdodChkZWVwUHJvcGVydHksIGZ1bmN0aW9uIChjaGlsZCwgcGFyZW50KSB7XG4gICAgICB2YXIgb2JqID0ge307XG4gICAgICBvYmpbcGFyZW50XSA9IGNoaWxkO1xuICAgICAgcmV0dXJuIG9iajtcbiAgICB9LCB2YWx1ZSB8fCB7fSk7XG4gICAgXy5tZXJnZSh0aGlzLCBuZXN0ZWRPYmopO1xuICB9LFxuICBjcmVhdGU6IGZ1bmN0aW9uKGFwcCl7XG4gICAgcmV0dXJuIF8uZGVmYXVsdHMoIGFwcCwgdGhpcyApO1xuICB9XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xpYi91dGlsaXRpZXMvZ2xvYmFsLmpzXG4gKiogbW9kdWxlIGlkID0gOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDJcbiAqKi9cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrOi8vLy4vfi9saWIvdXRpbGl0aWVzL2dsb2JhbC5qcz9lYTE1XG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiOS5qcyJ9");

/***/ },
/* 10 */
/*!***********************************************!*\
  !*** ./~/lib/utilities/handlebars-helpers.js ***!
  \***********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var _ = __webpack_require__(/*! lodash */ 1);\nvar hbs = __webpack_require__(/*! handlebars */ 27);\nvar accounting = __webpack_require__(/*! accounting */ 28);\nvar moment = __webpack_require__(/*! moment */ 29);\nvar Utils = __webpack_require__(/*! lib/utilities/utils */ 32);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar entitiesChannel = bb.Radio.channel('entities');\n\n/**\n * is, compare helpers taken from\n * https://github.com/assemble/handlebars-helpers\n */\n\nhbs.registerHelper('is', function (value, test, options) {\n  if ( value === test ) {\n    return options.fn(this);\n  } else {\n    return options.inverse(this);\n  }\n});\n\n/*jshint -W071, -W074: suppress warnings  */\nhbs.registerHelper('compare', function(left, operator, right, options) {\n\n  if (arguments.length < 3) {\n    throw new Error('Handlebars Helper \"compare\" needs 2 parameters');\n  }\n\n  if (options === undefined) {\n    options = right;\n    right = operator;\n    operator = '===';\n  }\n\n  var operators = {\n    //'==': function(l, r) {\n    //  return l == r;\n    //},\n    '===': function(l, r) {\n      return l === r;\n    },\n    //'!=': function(l, r) {\n    //  return l != r;\n    //},\n    '!==': function(l, r) {\n      return l !== r;\n    },\n    '<': function(l, r) {\n      return l < r;\n    },\n    '>': function(l, r) {\n      return l > r;\n    },\n    '<=': function(l, r) {\n      return l <= r;\n    },\n    '>=': function(l, r) {\n      return l >= r;\n    }\n    //'typeof': function(l, r) {\n    //  return typeof l == r;\n    //}\n  };\n\n  if (!operators[operator]) {\n    throw new Error(\n      'Handlebars Helper \"compare\" doesn\\'t know the operator ' + operator\n    );\n  }\n\n  var result = operators[operator](left, right);\n\n  if (result) {\n    return options.fn(this);\n  } else {\n    return options.inverse(this);\n  }\n});\n/*jshint +W071, +W074 */\n\nhbs.registerHelper('csv', function(items, options) {\n  return options.fn(items.join(', '));\n});\n\nhbs.registerHelper('money', function(num, options){\n  var defaultPrecision = accounting.settings.currency.precision,\n      precision = options.hash.precision || defaultPrecision;\n\n  if( precision === 'auto' ) {\n    precision = Utils.decimalPlaces(num);\n  }\n\n  // round the number to even\n  num = Utils.round(num, precision);\n\n  if(options.hash.negative) {\n    num = num * -1;\n  }\n\n  return accounting.formatMoney(num);\n});\n\nhbs.registerHelper('number', function(num, options){\n  var defaultPrecision = accounting.settings.number.precision,\n      precision = options.hash.precision || defaultPrecision;\n\n  if( precision === 'auto' ) {\n    precision = Utils.decimalPlaces(num);\n  }\n\n  if(options.hash.negative) {\n    num = num * -1;\n  }\n\n  return accounting.formatNumber(num, precision);\n});\n\nhbs.registerHelper('formatAddress', function(a, options){\n  var format = [\n    [a.first_name, a.last_name],\n    [a.company],\n    [a.address_1],\n    [a.address_2],\n    [a.city, a.state, a.postcode]\n  ];\n\n  // format address\n  var address = _.chain(format)\n    .map(function(line) { return _.compact(line).join(' '); })\n    .compact()\n    .join('<br>\\n')\n    .value();\n\n  // prepend title\n  if( address !== '' && options.hash.title ) {\n    address = '<h3>' + options.hash.title + '</h3>\\n' + address;\n  }\n\n  return new hbs.SafeString(address);\n});\n\nhbs.registerHelper('formatDate', function(date, options){\n  var f = options.hash.format || '';\n  return moment(date).format(f);\n});\n\nhbs.registerHelper('getOption', function(key){\n  var lookup = key.split('.');\n  var option = entitiesChannel.request( lookup.shift() );\n  for(var i = 0; i < lookup.length; i++) {\n    option = option[lookup[i]];\n  }\n  return option;\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjazovLy8uL34vbGliL3V0aWxpdGllcy9oYW5kbGViYXJzLWhlbHBlcnMuanM/NjBlZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlCQUF5QixrQ0FBa0MsRUFBRTtBQUM3RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG1CQUFtQjtBQUNuQztBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbnZhciBoYnMgPSByZXF1aXJlKCdoYW5kbGViYXJzJyk7XG52YXIgYWNjb3VudGluZyA9IHJlcXVpcmUoJ2FjY291bnRpbmcnKTtcbnZhciBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcbnZhciBVdGlscyA9IHJlcXVpcmUoJ2xpYi91dGlsaXRpZXMvdXRpbHMnKTtcbnZhciBiYiA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG52YXIgZW50aXRpZXNDaGFubmVsID0gYmIuUmFkaW8uY2hhbm5lbCgnZW50aXRpZXMnKTtcblxuLyoqXG4gKiBpcywgY29tcGFyZSBoZWxwZXJzIHRha2VuIGZyb21cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hc3NlbWJsZS9oYW5kbGViYXJzLWhlbHBlcnNcbiAqL1xuXG5oYnMucmVnaXN0ZXJIZWxwZXIoJ2lzJywgZnVuY3Rpb24gKHZhbHVlLCB0ZXN0LCBvcHRpb25zKSB7XG4gIGlmICggdmFsdWUgPT09IHRlc3QgKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMuZm4odGhpcyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcbiAgfVxufSk7XG5cbi8qanNoaW50IC1XMDcxLCAtVzA3NDogc3VwcHJlc3Mgd2FybmluZ3MgICovXG5oYnMucmVnaXN0ZXJIZWxwZXIoJ2NvbXBhcmUnLCBmdW5jdGlvbihsZWZ0LCBvcGVyYXRvciwgcmlnaHQsIG9wdGlvbnMpIHtcblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0hhbmRsZWJhcnMgSGVscGVyIFwiY29tcGFyZVwiIG5lZWRzIDIgcGFyYW1ldGVycycpO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMgPT09IHVuZGVmaW5lZCkge1xuICAgIG9wdGlvbnMgPSByaWdodDtcbiAgICByaWdodCA9IG9wZXJhdG9yO1xuICAgIG9wZXJhdG9yID0gJz09PSc7XG4gIH1cblxuICB2YXIgb3BlcmF0b3JzID0ge1xuICAgIC8vJz09JzogZnVuY3Rpb24obCwgcikge1xuICAgIC8vICByZXR1cm4gbCA9PSByO1xuICAgIC8vfSxcbiAgICAnPT09JzogZnVuY3Rpb24obCwgcikge1xuICAgICAgcmV0dXJuIGwgPT09IHI7XG4gICAgfSxcbiAgICAvLychPSc6IGZ1bmN0aW9uKGwsIHIpIHtcbiAgICAvLyAgcmV0dXJuIGwgIT0gcjtcbiAgICAvL30sXG4gICAgJyE9PSc6IGZ1bmN0aW9uKGwsIHIpIHtcbiAgICAgIHJldHVybiBsICE9PSByO1xuICAgIH0sXG4gICAgJzwnOiBmdW5jdGlvbihsLCByKSB7XG4gICAgICByZXR1cm4gbCA8IHI7XG4gICAgfSxcbiAgICAnPic6IGZ1bmN0aW9uKGwsIHIpIHtcbiAgICAgIHJldHVybiBsID4gcjtcbiAgICB9LFxuICAgICc8PSc6IGZ1bmN0aW9uKGwsIHIpIHtcbiAgICAgIHJldHVybiBsIDw9IHI7XG4gICAgfSxcbiAgICAnPj0nOiBmdW5jdGlvbihsLCByKSB7XG4gICAgICByZXR1cm4gbCA+PSByO1xuICAgIH1cbiAgICAvLyd0eXBlb2YnOiBmdW5jdGlvbihsLCByKSB7XG4gICAgLy8gIHJldHVybiB0eXBlb2YgbCA9PSByO1xuICAgIC8vfVxuICB9O1xuXG4gIGlmICghb3BlcmF0b3JzW29wZXJhdG9yXSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdIYW5kbGViYXJzIEhlbHBlciBcImNvbXBhcmVcIiBkb2VzblxcJ3Qga25vdyB0aGUgb3BlcmF0b3IgJyArIG9wZXJhdG9yXG4gICAgKTtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSBvcGVyYXRvcnNbb3BlcmF0b3JdKGxlZnQsIHJpZ2h0KTtcblxuICBpZiAocmVzdWx0KSB7XG4gICAgcmV0dXJuIG9wdGlvbnMuZm4odGhpcyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcbiAgfVxufSk7XG4vKmpzaGludCArVzA3MSwgK1cwNzQgKi9cblxuaGJzLnJlZ2lzdGVySGVscGVyKCdjc3YnLCBmdW5jdGlvbihpdGVtcywgb3B0aW9ucykge1xuICByZXR1cm4gb3B0aW9ucy5mbihpdGVtcy5qb2luKCcsICcpKTtcbn0pO1xuXG5oYnMucmVnaXN0ZXJIZWxwZXIoJ21vbmV5JywgZnVuY3Rpb24obnVtLCBvcHRpb25zKXtcbiAgdmFyIGRlZmF1bHRQcmVjaXNpb24gPSBhY2NvdW50aW5nLnNldHRpbmdzLmN1cnJlbmN5LnByZWNpc2lvbixcbiAgICAgIHByZWNpc2lvbiA9IG9wdGlvbnMuaGFzaC5wcmVjaXNpb24gfHwgZGVmYXVsdFByZWNpc2lvbjtcblxuICBpZiggcHJlY2lzaW9uID09PSAnYXV0bycgKSB7XG4gICAgcHJlY2lzaW9uID0gVXRpbHMuZGVjaW1hbFBsYWNlcyhudW0pO1xuICB9XG5cbiAgLy8gcm91bmQgdGhlIG51bWJlciB0byBldmVuXG4gIG51bSA9IFV0aWxzLnJvdW5kKG51bSwgcHJlY2lzaW9uKTtcblxuICBpZihvcHRpb25zLmhhc2gubmVnYXRpdmUpIHtcbiAgICBudW0gPSBudW0gKiAtMTtcbiAgfVxuXG4gIHJldHVybiBhY2NvdW50aW5nLmZvcm1hdE1vbmV5KG51bSk7XG59KTtcblxuaGJzLnJlZ2lzdGVySGVscGVyKCdudW1iZXInLCBmdW5jdGlvbihudW0sIG9wdGlvbnMpe1xuICB2YXIgZGVmYXVsdFByZWNpc2lvbiA9IGFjY291bnRpbmcuc2V0dGluZ3MubnVtYmVyLnByZWNpc2lvbixcbiAgICAgIHByZWNpc2lvbiA9IG9wdGlvbnMuaGFzaC5wcmVjaXNpb24gfHwgZGVmYXVsdFByZWNpc2lvbjtcblxuICBpZiggcHJlY2lzaW9uID09PSAnYXV0bycgKSB7XG4gICAgcHJlY2lzaW9uID0gVXRpbHMuZGVjaW1hbFBsYWNlcyhudW0pO1xuICB9XG5cbiAgaWYob3B0aW9ucy5oYXNoLm5lZ2F0aXZlKSB7XG4gICAgbnVtID0gbnVtICogLTE7XG4gIH1cblxuICByZXR1cm4gYWNjb3VudGluZy5mb3JtYXROdW1iZXIobnVtLCBwcmVjaXNpb24pO1xufSk7XG5cbmhicy5yZWdpc3RlckhlbHBlcignZm9ybWF0QWRkcmVzcycsIGZ1bmN0aW9uKGEsIG9wdGlvbnMpe1xuICB2YXIgZm9ybWF0ID0gW1xuICAgIFthLmZpcnN0X25hbWUsIGEubGFzdF9uYW1lXSxcbiAgICBbYS5jb21wYW55XSxcbiAgICBbYS5hZGRyZXNzXzFdLFxuICAgIFthLmFkZHJlc3NfMl0sXG4gICAgW2EuY2l0eSwgYS5zdGF0ZSwgYS5wb3N0Y29kZV1cbiAgXTtcblxuICAvLyBmb3JtYXQgYWRkcmVzc1xuICB2YXIgYWRkcmVzcyA9IF8uY2hhaW4oZm9ybWF0KVxuICAgIC5tYXAoZnVuY3Rpb24obGluZSkgeyByZXR1cm4gXy5jb21wYWN0KGxpbmUpLmpvaW4oJyAnKTsgfSlcbiAgICAuY29tcGFjdCgpXG4gICAgLmpvaW4oJzxicj5cXG4nKVxuICAgIC52YWx1ZSgpO1xuXG4gIC8vIHByZXBlbmQgdGl0bGVcbiAgaWYoIGFkZHJlc3MgIT09ICcnICYmIG9wdGlvbnMuaGFzaC50aXRsZSApIHtcbiAgICBhZGRyZXNzID0gJzxoMz4nICsgb3B0aW9ucy5oYXNoLnRpdGxlICsgJzwvaDM+XFxuJyArIGFkZHJlc3M7XG4gIH1cblxuICByZXR1cm4gbmV3IGhicy5TYWZlU3RyaW5nKGFkZHJlc3MpO1xufSk7XG5cbmhicy5yZWdpc3RlckhlbHBlcignZm9ybWF0RGF0ZScsIGZ1bmN0aW9uKGRhdGUsIG9wdGlvbnMpe1xuICB2YXIgZiA9IG9wdGlvbnMuaGFzaC5mb3JtYXQgfHwgJyc7XG4gIHJldHVybiBtb21lbnQoZGF0ZSkuZm9ybWF0KGYpO1xufSk7XG5cbmhicy5yZWdpc3RlckhlbHBlcignZ2V0T3B0aW9uJywgZnVuY3Rpb24oa2V5KXtcbiAgdmFyIGxvb2t1cCA9IGtleS5zcGxpdCgnLicpO1xuICB2YXIgb3B0aW9uID0gZW50aXRpZXNDaGFubmVsLnJlcXVlc3QoIGxvb2t1cC5zaGlmdCgpICk7XG4gIGZvcih2YXIgaSA9IDA7IGkgPCBsb29rdXAubGVuZ3RoOyBpKyspIHtcbiAgICBvcHRpb24gPSBvcHRpb25bbG9va3VwW2ldXTtcbiAgfVxuICByZXR1cm4gb3B0aW9uO1xufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbGliL3V0aWxpdGllcy9oYW5kbGViYXJzLWhlbHBlcnMuanNcbiAqKiBtb2R1bGUgaWQgPSAxMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDJcbiAqKi9cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrOi8vLy4vfi9saWIvdXRpbGl0aWVzL2hhbmRsZWJhcnMtaGVscGVycy5qcz85ZjFlXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiMTAuanMifQ==");

/***/ },
/* 11 */
/*!*********************************************!*\
  !*** ./~/lib/utilities/stickit-handlers.js ***!
  \*********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Utils = __webpack_require__(/*! ./utils */ 32);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar _ = __webpack_require__(/*! lodash */ 1);\n\n/**\n * Display localised string, eg: 2,55\n * Set float 2.55\n */\nbb.Stickit.addHandler({\n  selector: 'input[data-numpad=\"discount\"]',\n  onGet: Utils.formatNumber,\n  onSet: Utils.unformat,\n  events: ['blur'],\n  afterUpdate: function($el){\n    $el.trigger('input');\n  }\n});\n\nbb.Stickit.addHandler({\n  selector: 'input[data-numpad=\"quantity\"]',\n  onGet: Utils.formatNumber,\n  onSet: Utils.unformat,\n  events: ['blur'],\n  afterUpdate: function($el){\n    $el.trigger('input');\n  }\n});\n\n/**\n * Custom Stickit handler for nested customer address\n */\nbb.Stickit.addHandler({\n  selector: 'input[data-handler=\"address\"]',\n  onGet: function( value, options ){\n    var key = options.selector.match(/\\w+\\[(\\w+)\\]/)[1];\n    if( _(value).has(key) ){\n      return value[key];\n    } else {\n      return '';\n    }\n\n  },\n  onSet: function( value, options ){\n    var key = options.selector.match(/\\w+\\[(\\w+)\\]/)[1];\n    var address = options.view.model.get( options.observe );\n    address = address || {};\n    address[key] = value;\n    return address;\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjazovLy8uL34vbGliL3V0aWxpdGllcy9zdGlja2l0LWhhbmRsZXJzLmpzP2Q0YjIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBVdGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciBiYiA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG52YXIgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG4vKipcbiAqIERpc3BsYXkgbG9jYWxpc2VkIHN0cmluZywgZWc6IDIsNTVcbiAqIFNldCBmbG9hdCAyLjU1XG4gKi9cbmJiLlN0aWNraXQuYWRkSGFuZGxlcih7XG4gIHNlbGVjdG9yOiAnaW5wdXRbZGF0YS1udW1wYWQ9XCJkaXNjb3VudFwiXScsXG4gIG9uR2V0OiBVdGlscy5mb3JtYXROdW1iZXIsXG4gIG9uU2V0OiBVdGlscy51bmZvcm1hdCxcbiAgZXZlbnRzOiBbJ2JsdXInXSxcbiAgYWZ0ZXJVcGRhdGU6IGZ1bmN0aW9uKCRlbCl7XG4gICAgJGVsLnRyaWdnZXIoJ2lucHV0Jyk7XG4gIH1cbn0pO1xuXG5iYi5TdGlja2l0LmFkZEhhbmRsZXIoe1xuICBzZWxlY3RvcjogJ2lucHV0W2RhdGEtbnVtcGFkPVwicXVhbnRpdHlcIl0nLFxuICBvbkdldDogVXRpbHMuZm9ybWF0TnVtYmVyLFxuICBvblNldDogVXRpbHMudW5mb3JtYXQsXG4gIGV2ZW50czogWydibHVyJ10sXG4gIGFmdGVyVXBkYXRlOiBmdW5jdGlvbigkZWwpe1xuICAgICRlbC50cmlnZ2VyKCdpbnB1dCcpO1xuICB9XG59KTtcblxuLyoqXG4gKiBDdXN0b20gU3RpY2tpdCBoYW5kbGVyIGZvciBuZXN0ZWQgY3VzdG9tZXIgYWRkcmVzc1xuICovXG5iYi5TdGlja2l0LmFkZEhhbmRsZXIoe1xuICBzZWxlY3RvcjogJ2lucHV0W2RhdGEtaGFuZGxlcj1cImFkZHJlc3NcIl0nLFxuICBvbkdldDogZnVuY3Rpb24oIHZhbHVlLCBvcHRpb25zICl7XG4gICAgdmFyIGtleSA9IG9wdGlvbnMuc2VsZWN0b3IubWF0Y2goL1xcdytcXFsoXFx3KylcXF0vKVsxXTtcbiAgICBpZiggXyh2YWx1ZSkuaGFzKGtleSkgKXtcbiAgICAgIHJldHVybiB2YWx1ZVtrZXldO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gIH0sXG4gIG9uU2V0OiBmdW5jdGlvbiggdmFsdWUsIG9wdGlvbnMgKXtcbiAgICB2YXIga2V5ID0gb3B0aW9ucy5zZWxlY3Rvci5tYXRjaCgvXFx3K1xcWyhcXHcrKVxcXS8pWzFdO1xuICAgIHZhciBhZGRyZXNzID0gb3B0aW9ucy52aWV3Lm1vZGVsLmdldCggb3B0aW9ucy5vYnNlcnZlICk7XG4gICAgYWRkcmVzcyA9IGFkZHJlc3MgfHwge307XG4gICAgYWRkcmVzc1trZXldID0gdmFsdWU7XG4gICAgcmV0dXJuIGFkZHJlc3M7XG4gIH1cbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xpYi91dGlsaXRpZXMvc3RpY2tpdC1oYW5kbGVycy5qc1xuICoqIG1vZHVsZSBpZCA9IDExXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMlxuICoqL1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2s6Ly8vLi9+L2xpYi91dGlsaXRpZXMvc3RpY2tpdC1oYW5kbGVycy5qcz8yYjVlXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiMTEuanMifQ==");

/***/ },
/* 12 */
/*!******************************************!*\
  !*** ./~/lib/components/modal/module.js ***!
  \******************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Module = __webpack_require__(/*! lib/config/module */ 30);\nvar Backbone = __webpack_require__(/*! backbone */ 2);\nvar modalChannel = Backbone.Radio.channel('modal');\nvar routerChannel = Backbone.Radio.channel('router');\nvar LayoutView = __webpack_require__(/*! ./layout-view */ 33);\n\nmodule.exports = Module.extend({\n  initialize: function () {\n    this.container = this.options.container;\n    this.start();\n  },\n\n  onStart: function() {\n    this._showLayoutView();\n    this._bindChannelCommands();\n  },\n\n  onStop: function() {\n    this.stopListening();\n  },\n\n  openModal: function (options) {\n    this.layout.openModal(options);\n    this.listenToOnce(routerChannel, 'route', function () {\n      this.destroyModal();\n    });\n  },\n\n  destroyModal: function (options) {\n    this.layout.destroyModal(options);\n  },\n\n  _showLayoutView: function() {\n    this.layout = new LayoutView();\n    this.container.show(this.layout);\n  },\n\n  _bindChannelCommands: function() {\n    modalChannel.comply('open', this.openModal, this);\n    modalChannel.comply('destroy', this.destroyModal, this);\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb21wb25lbnRzL21vZGFsL21vZHVsZS5qcz9mZjNhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBNb2R1bGUgPSByZXF1aXJlKCdsaWIvY29uZmlnL21vZHVsZScpO1xudmFyIEJhY2tib25lID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBtb2RhbENoYW5uZWwgPSBCYWNrYm9uZS5SYWRpby5jaGFubmVsKCdtb2RhbCcpO1xudmFyIHJvdXRlckNoYW5uZWwgPSBCYWNrYm9uZS5SYWRpby5jaGFubmVsKCdyb3V0ZXInKTtcbnZhciBMYXlvdXRWaWV3ID0gcmVxdWlyZSgnLi9sYXlvdXQtdmlldycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1vZHVsZS5leHRlbmQoe1xuICBpbml0aWFsaXplOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5jb250YWluZXIgPSB0aGlzLm9wdGlvbnMuY29udGFpbmVyO1xuICAgIHRoaXMuc3RhcnQoKTtcbiAgfSxcblxuICBvblN0YXJ0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9zaG93TGF5b3V0VmlldygpO1xuICAgIHRoaXMuX2JpbmRDaGFubmVsQ29tbWFuZHMoKTtcbiAgfSxcblxuICBvblN0b3A6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc3RvcExpc3RlbmluZygpO1xuICB9LFxuXG4gIG9wZW5Nb2RhbDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB0aGlzLmxheW91dC5vcGVuTW9kYWwob3B0aW9ucyk7XG4gICAgdGhpcy5saXN0ZW5Ub09uY2Uocm91dGVyQ2hhbm5lbCwgJ3JvdXRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5kZXN0cm95TW9kYWwoKTtcbiAgICB9KTtcbiAgfSxcblxuICBkZXN0cm95TW9kYWw6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdGhpcy5sYXlvdXQuZGVzdHJveU1vZGFsKG9wdGlvbnMpO1xuICB9LFxuXG4gIF9zaG93TGF5b3V0VmlldzogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5sYXlvdXQgPSBuZXcgTGF5b3V0VmlldygpO1xuICAgIHRoaXMuY29udGFpbmVyLnNob3codGhpcy5sYXlvdXQpO1xuICB9LFxuXG4gIF9iaW5kQ2hhbm5lbENvbW1hbmRzOiBmdW5jdGlvbigpIHtcbiAgICBtb2RhbENoYW5uZWwuY29tcGx5KCdvcGVuJywgdGhpcy5vcGVuTW9kYWwsIHRoaXMpO1xuICAgIG1vZGFsQ2hhbm5lbC5jb21wbHkoJ2Rlc3Ryb3knLCB0aGlzLmRlc3Ryb3lNb2RhbCwgdGhpcyk7XG4gIH1cbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xpYi9jb21wb25lbnRzL21vZGFsL21vZHVsZS5qc1xuICoqIG1vZHVsZSBpZCA9IDEyXG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiIxMi5qcyJ9");

/***/ },
/* 13 */
/*!***********************************!*\
  !*** ./~/apps/app/application.js ***!
  \***********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Application = __webpack_require__(/*! lib/config/application */ 21);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar LayoutView = __webpack_require__(/*! ./layout-view */ 34);\nvar debugLog = __webpack_require__(/*! lib/utilities/debug */ 17);\nvar accounting = __webpack_require__(/*! accounting */ 28);\nvar routerChannel = bb.Radio.channel('router');\nvar entitiesChannel = bb.Radio.channel('entities');\n\n\nmodule.exports = Application.extend({\n\n    initialize: function() {\n\n        // init Root LayoutView\n        this.layout = new LayoutView();\n        this.layout.render();\n\n        this.listenTo(routerChannel, {\n            'before:enter:route' : this.onBeforeEnterRoute,\n            'enter:route'        : this.onEnterRoute,\n            'error:route'        : this.onErrorRoute\n        });\n    },\n\n    /**\n     * Set up application with start params\n     */\n    onBeforeStart: function(options){\n        debugLog( 'starting WooCommerce POS app' );\n\n        // app settings\n        this.options = options;\n\n        // bootstrap accounting settings\n        accounting.settings = options.accounting;\n\n        // global ajax settings\n        bb.$.ajaxSetup({\n            data: {\n                security: function(){\n                    return entitiesChannel.request( 'get:options', 'nonce' );\n                }\n            },\n            beforeSend: function(xhr){\n                xhr.setRequestHeader('X-WC-POS', 1);\n            },\n            timeout: 50000\n        });\n    },\n\n    onStart: function(){\n\n        bb.history.start();\n\n        // header app starts on all pages\n        //POS.HeaderApp.start();\n    },\n\n    onBeforeEnterRoute: function() {\n        var self = this;\n        this.transitioning = true;\n        // Don't show for synchronous route changes\n        setTimeout(function() {\n            if (self.transitioning) {\n                console.log('loading');\n                //nprogress.start();\n            }\n        }, 0);\n    },\n\n    onEnterRoute: function() {\n        this.transitioning = false;\n        //this.$body.scrollTop(0);\n        //nprogress.done();\n    },\n\n    onErrorRoute: function() {\n        this.transitioning = false;\n        //nprogress.done(true);\n    }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvYXBwL2FwcGxpY2F0aW9uLmpzP2U4OWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNULEtBQUs7O0FBRUw7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBBcHBsaWNhdGlvbiA9IHJlcXVpcmUoJ2xpYi9jb25maWcvYXBwbGljYXRpb24nKTtcbnZhciBiYiA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG52YXIgTGF5b3V0VmlldyA9IHJlcXVpcmUoJy4vbGF5b3V0LXZpZXcnKTtcbnZhciBkZWJ1Z0xvZyA9IHJlcXVpcmUoJ2xpYi91dGlsaXRpZXMvZGVidWcnKTtcbnZhciBhY2NvdW50aW5nID0gcmVxdWlyZSgnYWNjb3VudGluZycpO1xudmFyIHJvdXRlckNoYW5uZWwgPSBiYi5SYWRpby5jaGFubmVsKCdyb3V0ZXInKTtcbnZhciBlbnRpdGllc0NoYW5uZWwgPSBiYi5SYWRpby5jaGFubmVsKCdlbnRpdGllcycpO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gQXBwbGljYXRpb24uZXh0ZW5kKHtcblxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIC8vIGluaXQgUm9vdCBMYXlvdXRWaWV3XG4gICAgICAgIHRoaXMubGF5b3V0ID0gbmV3IExheW91dFZpZXcoKTtcbiAgICAgICAgdGhpcy5sYXlvdXQucmVuZGVyKCk7XG5cbiAgICAgICAgdGhpcy5saXN0ZW5Ubyhyb3V0ZXJDaGFubmVsLCB7XG4gICAgICAgICAgICAnYmVmb3JlOmVudGVyOnJvdXRlJyA6IHRoaXMub25CZWZvcmVFbnRlclJvdXRlLFxuICAgICAgICAgICAgJ2VudGVyOnJvdXRlJyAgICAgICAgOiB0aGlzLm9uRW50ZXJSb3V0ZSxcbiAgICAgICAgICAgICdlcnJvcjpyb3V0ZScgICAgICAgIDogdGhpcy5vbkVycm9yUm91dGVcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCB1cCBhcHBsaWNhdGlvbiB3aXRoIHN0YXJ0IHBhcmFtc1xuICAgICAqL1xuICAgIG9uQmVmb3JlU3RhcnQ6IGZ1bmN0aW9uKG9wdGlvbnMpe1xuICAgICAgICBkZWJ1Z0xvZyggJ3N0YXJ0aW5nIFdvb0NvbW1lcmNlIFBPUyBhcHAnICk7XG5cbiAgICAgICAgLy8gYXBwIHNldHRpbmdzXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICAgICAgLy8gYm9vdHN0cmFwIGFjY291bnRpbmcgc2V0dGluZ3NcbiAgICAgICAgYWNjb3VudGluZy5zZXR0aW5ncyA9IG9wdGlvbnMuYWNjb3VudGluZztcblxuICAgICAgICAvLyBnbG9iYWwgYWpheCBzZXR0aW5nc1xuICAgICAgICBiYi4kLmFqYXhTZXR1cCh7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgc2VjdXJpdHk6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbnRpdGllc0NoYW5uZWwucmVxdWVzdCggJ2dldDpvcHRpb25zJywgJ25vbmNlJyApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbih4aHIpe1xuICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdYLVdDLVBPUycsIDEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRpbWVvdXQ6IDUwMDAwXG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBvblN0YXJ0OiBmdW5jdGlvbigpe1xuXG4gICAgICAgIGJiLmhpc3Rvcnkuc3RhcnQoKTtcblxuICAgICAgICAvLyBoZWFkZXIgYXBwIHN0YXJ0cyBvbiBhbGwgcGFnZXNcbiAgICAgICAgLy9QT1MuSGVhZGVyQXBwLnN0YXJ0KCk7XG4gICAgfSxcblxuICAgIG9uQmVmb3JlRW50ZXJSb3V0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gdHJ1ZTtcbiAgICAgICAgLy8gRG9uJ3Qgc2hvdyBmb3Igc3luY2hyb25vdXMgcm91dGUgY2hhbmdlc1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHNlbGYudHJhbnNpdGlvbmluZykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsb2FkaW5nJyk7XG4gICAgICAgICAgICAgICAgLy9ucHJvZ3Jlc3Muc3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMCk7XG4gICAgfSxcblxuICAgIG9uRW50ZXJSb3V0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgICAvL3RoaXMuJGJvZHkuc2Nyb2xsVG9wKDApO1xuICAgICAgICAvL25wcm9ncmVzcy5kb25lKCk7XG4gICAgfSxcblxuICAgIG9uRXJyb3JSb3V0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgICAvL25wcm9ncmVzcy5kb25lKHRydWUpO1xuICAgIH1cbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FwcHMvYXBwL2FwcGxpY2F0aW9uLmpzXG4gKiogbW9kdWxlIGlkID0gMTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjEzLmpzIn0=");

/***/ },
/* 14 */
/*!*********************************!*\
  !*** ./~/apps/header/module.js ***!
  \*********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Module = __webpack_require__(/*! lib/config/module */ 30);\nvar Views = __webpack_require__(/*! ./views */ 35);\n\nmodule.exports = Module.extend({\n  initialize: function() {\n    this.channel = Backbone.Radio.channel('header');\n  },\n\n  onStart: function(){\n    var header = new Views.Header({ el: $('#header') });\n    var menu = new Views.Menu({ el: $('#menu') });\n\n    this.channel.comply({\n      'open:menu': header.openMenu,\n      'close:menu': header.closeMenu\n    }, header);\n  }\n});\n//\n//addTabs: function( layout ) {\n//\n//  // get tabs component\n//  var view = POS.Components.Tabs.channel.request( 'get:tabs', [\n//    { value: 'left' }, { value: 'right' }\n//  ]);\n//\n//  // listen to tab changes\n//  this.listenTo( view.collection, 'change:active', function( tab ){\n//    this.$el\n//        .removeClass('left-active right-active')\n//        .addClass( tab.id + '-active' );\n//  });\n//\n//  // update tab labels\n//  POS.channel.comply( 'update:tab:label', function( label, column ){\n//    view.collection.get(column).set({ label: label });\n//  });\n//\n//  // init tabs\n//  view.collection.get('left').set({ active: true });\n//  POS.layout.tabsRegion.show(view);\n//\n//  // teardown\n//  this.on( 'empty', function() {\n//    this.$el.removeClass('two-column left-active right-active');\n//    POS.layout.tabsRegion.empty();\n//  });\n//\n//}//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvaGVhZGVyL21vZHVsZS5qcz9hNzFiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLG1DQUFtQyxtQkFBbUI7QUFDdEQsK0JBQStCLGlCQUFpQjs7QUFFaEQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLGdCQUFnQixHQUFHO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxlQUFlO0FBQ3RELEtBQUs7QUFDTDtBQUNBO0FBQ0EscUNBQXFDLGVBQWU7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTW9kdWxlID0gcmVxdWlyZSgnbGliL2NvbmZpZy9tb2R1bGUnKTtcbnZhciBWaWV3cyA9IHJlcXVpcmUoJy4vdmlld3MnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBNb2R1bGUuZXh0ZW5kKHtcbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5jaGFubmVsID0gQmFja2JvbmUuUmFkaW8uY2hhbm5lbCgnaGVhZGVyJyk7XG4gIH0sXG5cbiAgb25TdGFydDogZnVuY3Rpb24oKXtcbiAgICB2YXIgaGVhZGVyID0gbmV3IFZpZXdzLkhlYWRlcih7IGVsOiAkKCcjaGVhZGVyJykgfSk7XG4gICAgdmFyIG1lbnUgPSBuZXcgVmlld3MuTWVudSh7IGVsOiAkKCcjbWVudScpIH0pO1xuXG4gICAgdGhpcy5jaGFubmVsLmNvbXBseSh7XG4gICAgICAnb3BlbjptZW51JzogaGVhZGVyLm9wZW5NZW51LFxuICAgICAgJ2Nsb3NlOm1lbnUnOiBoZWFkZXIuY2xvc2VNZW51XG4gICAgfSwgaGVhZGVyKTtcbiAgfVxufSk7XG4vL1xuLy9hZGRUYWJzOiBmdW5jdGlvbiggbGF5b3V0ICkge1xuLy9cbi8vICAvLyBnZXQgdGFicyBjb21wb25lbnRcbi8vICB2YXIgdmlldyA9IFBPUy5Db21wb25lbnRzLlRhYnMuY2hhbm5lbC5yZXF1ZXN0KCAnZ2V0OnRhYnMnLCBbXG4vLyAgICB7IHZhbHVlOiAnbGVmdCcgfSwgeyB2YWx1ZTogJ3JpZ2h0JyB9XG4vLyAgXSk7XG4vL1xuLy8gIC8vIGxpc3RlbiB0byB0YWIgY2hhbmdlc1xuLy8gIHRoaXMubGlzdGVuVG8oIHZpZXcuY29sbGVjdGlvbiwgJ2NoYW5nZTphY3RpdmUnLCBmdW5jdGlvbiggdGFiICl7XG4vLyAgICB0aGlzLiRlbFxuLy8gICAgICAgIC5yZW1vdmVDbGFzcygnbGVmdC1hY3RpdmUgcmlnaHQtYWN0aXZlJylcbi8vICAgICAgICAuYWRkQ2xhc3MoIHRhYi5pZCArICctYWN0aXZlJyApO1xuLy8gIH0pO1xuLy9cbi8vICAvLyB1cGRhdGUgdGFiIGxhYmVsc1xuLy8gIFBPUy5jaGFubmVsLmNvbXBseSggJ3VwZGF0ZTp0YWI6bGFiZWwnLCBmdW5jdGlvbiggbGFiZWwsIGNvbHVtbiApe1xuLy8gICAgdmlldy5jb2xsZWN0aW9uLmdldChjb2x1bW4pLnNldCh7IGxhYmVsOiBsYWJlbCB9KTtcbi8vICB9KTtcbi8vXG4vLyAgLy8gaW5pdCB0YWJzXG4vLyAgdmlldy5jb2xsZWN0aW9uLmdldCgnbGVmdCcpLnNldCh7IGFjdGl2ZTogdHJ1ZSB9KTtcbi8vICBQT1MubGF5b3V0LnRhYnNSZWdpb24uc2hvdyh2aWV3KTtcbi8vXG4vLyAgLy8gdGVhcmRvd25cbi8vICB0aGlzLm9uKCAnZW1wdHknLCBmdW5jdGlvbigpIHtcbi8vICAgIHRoaXMuJGVsLnJlbW92ZUNsYXNzKCd0d28tY29sdW1uIGxlZnQtYWN0aXZlIHJpZ2h0LWFjdGl2ZScpO1xuLy8gICAgUE9TLmxheW91dC50YWJzUmVnaW9uLmVtcHR5KCk7XG4vLyAgfSk7XG4vL1xuLy99XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXBwcy9oZWFkZXIvbW9kdWxlLmpzXG4gKiogbW9kdWxlIGlkID0gMTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjE0LmpzIn0=");

/***/ },
/* 15 */
/*!******************************!*\
  !*** ./~/apps/pos/module.js ***!
  \******************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Module = __webpack_require__(/*! lib/config/module */ 30);\nvar Router = __webpack_require__(/*! ./router */ 36);\n\nmodule.exports = Module.extend({\n  initialize: function() {\n    this.router = new Router(this.options);\n  }\n});\n\n\n//\n//POS.module('POSApp', {\n//\n//    startWithParent: false,\n//\n//    initialize: function() {\n//        this.channel = Backbone.Radio.channel('pos');\n//    }\n//\n//});\n//\n//POS.module('POSApp', function(POSApp, POS, Backbone, Marionette, $, _) {\n//\n//    // API\n//    var API = {\n//        init: function(){\n//            // check registry for products controller\n//            var controller = _( POS._registry ).find( function( controller ){\n//                return controller instanceof POSApp.Products.Controller;\n//            });\n//\n//            // init products if required\n//            if( ! controller ){\n//                controller = new POSApp.Products.Controller();\n//            }\n//\n//            // return the right region\n//            return controller.columnsLayout.rightRegion;\n//        },\n//        cart: function(id) {\n//            new POSApp.Cart.Controller({ id: id, region: this.init() });\n//        },\n//        checkout: function(id) {\n//            new POSApp.Checkout.Controller({ id: id, region: this.init() });\n//        },\n//        receipt: function(id) {\n//            new POSApp.Receipt.Controller({ id: id, region: this.init() });\n//        }\n//    };\n//\n//    // add routes\n//    POS.on('before:start', function(options) {\n//        new Marionette.AppRouter({\n//            controller: API,\n//            appRoutes: {\n//                '' : 'cart',\n//                'cart' : 'cart',\n//                'cart/:id' : 'cart',\n//                'checkout' : 'checkout',\n//                'checkout/:id' : 'checkout',\n//                'receipt/:id' : 'receipt'\n//            }\n//        });\n//    });\n//\n//    // radio API\n//    this.channel.comply({\n//        'show:cart': function(id) {\n//            var url = id ? 'cart/' + id : '';\n//            this.POS.navigate( url );\n//            API.cart(id);\n//        },\n//        'show:checkout': function(id) {\n//            var url = id ? 'checkout/' + id : 'checkout';\n//            this.POS.navigate( url );\n//            API.checkout(id);\n//        },\n//        'show:receipt': function(id) {\n//            var url = id ? 'receipt/' + id : 'receipt';\n//            this.POS.navigate( url );\n//            API.receipt(id);\n//        }\n//    }, this);\n//\n//});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL21vZHVsZS5qcz8yOGVhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSwwQ0FBMEMsOEJBQThCO0FBQ3hFLFdBQVc7QUFDWDtBQUNBLDhDQUE4Qyw4QkFBOEI7QUFDNUUsV0FBVztBQUNYO0FBQ0EsNkNBQTZDLDhCQUE4QjtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHIiwic291cmNlc0NvbnRlbnQiOlsidmFyIE1vZHVsZSA9IHJlcXVpcmUoJ2xpYi9jb25maWcvbW9kdWxlJyk7XG52YXIgUm91dGVyID0gcmVxdWlyZSgnLi9yb3V0ZXInKTtcblxubW9kdWxlLmV4cG9ydHMgPSBNb2R1bGUuZXh0ZW5kKHtcbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5yb3V0ZXIgPSBuZXcgUm91dGVyKHRoaXMub3B0aW9ucyk7XG4gIH1cbn0pO1xuXG5cbi8vXG4vL1BPUy5tb2R1bGUoJ1BPU0FwcCcsIHtcbi8vXG4vLyAgICBzdGFydFdpdGhQYXJlbnQ6IGZhbHNlLFxuLy9cbi8vICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuLy8gICAgICAgIHRoaXMuY2hhbm5lbCA9IEJhY2tib25lLlJhZGlvLmNoYW5uZWwoJ3BvcycpO1xuLy8gICAgfVxuLy9cbi8vfSk7XG4vL1xuLy9QT1MubW9kdWxlKCdQT1NBcHAnLCBmdW5jdGlvbihQT1NBcHAsIFBPUywgQmFja2JvbmUsIE1hcmlvbmV0dGUsICQsIF8pIHtcbi8vXG4vLyAgICAvLyBBUElcbi8vICAgIHZhciBBUEkgPSB7XG4vLyAgICAgICAgaW5pdDogZnVuY3Rpb24oKXtcbi8vICAgICAgICAgICAgLy8gY2hlY2sgcmVnaXN0cnkgZm9yIHByb2R1Y3RzIGNvbnRyb2xsZXJcbi8vICAgICAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSBfKCBQT1MuX3JlZ2lzdHJ5ICkuZmluZCggZnVuY3Rpb24oIGNvbnRyb2xsZXIgKXtcbi8vICAgICAgICAgICAgICAgIHJldHVybiBjb250cm9sbGVyIGluc3RhbmNlb2YgUE9TQXBwLlByb2R1Y3RzLkNvbnRyb2xsZXI7XG4vLyAgICAgICAgICAgIH0pO1xuLy9cbi8vICAgICAgICAgICAgLy8gaW5pdCBwcm9kdWN0cyBpZiByZXF1aXJlZFxuLy8gICAgICAgICAgICBpZiggISBjb250cm9sbGVyICl7XG4vLyAgICAgICAgICAgICAgICBjb250cm9sbGVyID0gbmV3IFBPU0FwcC5Qcm9kdWN0cy5Db250cm9sbGVyKCk7XG4vLyAgICAgICAgICAgIH1cbi8vXG4vLyAgICAgICAgICAgIC8vIHJldHVybiB0aGUgcmlnaHQgcmVnaW9uXG4vLyAgICAgICAgICAgIHJldHVybiBjb250cm9sbGVyLmNvbHVtbnNMYXlvdXQucmlnaHRSZWdpb247XG4vLyAgICAgICAgfSxcbi8vICAgICAgICBjYXJ0OiBmdW5jdGlvbihpZCkge1xuLy8gICAgICAgICAgICBuZXcgUE9TQXBwLkNhcnQuQ29udHJvbGxlcih7IGlkOiBpZCwgcmVnaW9uOiB0aGlzLmluaXQoKSB9KTtcbi8vICAgICAgICB9LFxuLy8gICAgICAgIGNoZWNrb3V0OiBmdW5jdGlvbihpZCkge1xuLy8gICAgICAgICAgICBuZXcgUE9TQXBwLkNoZWNrb3V0LkNvbnRyb2xsZXIoeyBpZDogaWQsIHJlZ2lvbjogdGhpcy5pbml0KCkgfSk7XG4vLyAgICAgICAgfSxcbi8vICAgICAgICByZWNlaXB0OiBmdW5jdGlvbihpZCkge1xuLy8gICAgICAgICAgICBuZXcgUE9TQXBwLlJlY2VpcHQuQ29udHJvbGxlcih7IGlkOiBpZCwgcmVnaW9uOiB0aGlzLmluaXQoKSB9KTtcbi8vICAgICAgICB9XG4vLyAgICB9O1xuLy9cbi8vICAgIC8vIGFkZCByb3V0ZXNcbi8vICAgIFBPUy5vbignYmVmb3JlOnN0YXJ0JywgZnVuY3Rpb24ob3B0aW9ucykge1xuLy8gICAgICAgIG5ldyBNYXJpb25ldHRlLkFwcFJvdXRlcih7XG4vLyAgICAgICAgICAgIGNvbnRyb2xsZXI6IEFQSSxcbi8vICAgICAgICAgICAgYXBwUm91dGVzOiB7XG4vLyAgICAgICAgICAgICAgICAnJyA6ICdjYXJ0Jyxcbi8vICAgICAgICAgICAgICAgICdjYXJ0JyA6ICdjYXJ0Jyxcbi8vICAgICAgICAgICAgICAgICdjYXJ0LzppZCcgOiAnY2FydCcsXG4vLyAgICAgICAgICAgICAgICAnY2hlY2tvdXQnIDogJ2NoZWNrb3V0Jyxcbi8vICAgICAgICAgICAgICAgICdjaGVja291dC86aWQnIDogJ2NoZWNrb3V0Jyxcbi8vICAgICAgICAgICAgICAgICdyZWNlaXB0LzppZCcgOiAncmVjZWlwdCdcbi8vICAgICAgICAgICAgfVxuLy8gICAgICAgIH0pO1xuLy8gICAgfSk7XG4vL1xuLy8gICAgLy8gcmFkaW8gQVBJXG4vLyAgICB0aGlzLmNoYW5uZWwuY29tcGx5KHtcbi8vICAgICAgICAnc2hvdzpjYXJ0JzogZnVuY3Rpb24oaWQpIHtcbi8vICAgICAgICAgICAgdmFyIHVybCA9IGlkID8gJ2NhcnQvJyArIGlkIDogJyc7XG4vLyAgICAgICAgICAgIHRoaXMuUE9TLm5hdmlnYXRlKCB1cmwgKTtcbi8vICAgICAgICAgICAgQVBJLmNhcnQoaWQpO1xuLy8gICAgICAgIH0sXG4vLyAgICAgICAgJ3Nob3c6Y2hlY2tvdXQnOiBmdW5jdGlvbihpZCkge1xuLy8gICAgICAgICAgICB2YXIgdXJsID0gaWQgPyAnY2hlY2tvdXQvJyArIGlkIDogJ2NoZWNrb3V0Jztcbi8vICAgICAgICAgICAgdGhpcy5QT1MubmF2aWdhdGUoIHVybCApO1xuLy8gICAgICAgICAgICBBUEkuY2hlY2tvdXQoaWQpO1xuLy8gICAgICAgIH0sXG4vLyAgICAgICAgJ3Nob3c6cmVjZWlwdCc6IGZ1bmN0aW9uKGlkKSB7XG4vLyAgICAgICAgICAgIHZhciB1cmwgPSBpZCA/ICdyZWNlaXB0LycgKyBpZCA6ICdyZWNlaXB0Jztcbi8vICAgICAgICAgICAgdGhpcy5QT1MubmF2aWdhdGUoIHVybCApO1xuLy8gICAgICAgICAgICBBUEkucmVjZWlwdChpZCk7XG4vLyAgICAgICAgfVxuLy8gICAgfSwgdGhpcyk7XG4vL1xuLy99KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hcHBzL3Bvcy9tb2R1bGUuanNcbiAqKiBtb2R1bGUgaWQgPSAxNVxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiMTUuanMifQ==");

/***/ },
/* 16 */
/*!**********************************!*\
  !*** ./~/apps/support/module.js ***!
  \**********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Module = __webpack_require__(/*! lib/config/module */ 30);\nvar Router = __webpack_require__(/*! ./router */ 37);\n\nmodule.exports = Module.extend({\n  initialize: function() {\n    this.router = new Router(this.options);\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvc3VwcG9ydC9tb2R1bGUuanM/ZWRmYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBNb2R1bGUgPSByZXF1aXJlKCdsaWIvY29uZmlnL21vZHVsZScpO1xudmFyIFJvdXRlciA9IHJlcXVpcmUoJy4vcm91dGVyJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gTW9kdWxlLmV4dGVuZCh7XG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucm91dGVyID0gbmV3IFJvdXRlcih0aGlzLm9wdGlvbnMpO1xuICB9XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hcHBzL3N1cHBvcnQvbW9kdWxlLmpzXG4gKiogbW9kdWxlIGlkID0gMTZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjE2LmpzIn0=");

/***/ },
/* 17 */
/*!**********************************!*\
  !*** ./~/lib/utilities/debug.js ***!
  \**********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar POS = __webpack_require__(/*! ./global */ 9);\n\nvar debug = false;\n\n// use localStorage to turn debugging on/off\nvar flag = localStorage.getItem('wc_pos_debug');\n\n// if flag, turn on\nif( flag !== null ){\n  debug = true;\n  bb.Radio.DEBUG = true;\n}\n\nfunction Debug(){\n  this.on = debug;\n  this.log = function(message, type, force){\n    var on = force || this.on;\n    if( ! on ) { return; }\n    if( typeof console[type] !== 'function' ) { type = 'log'; }\n    console[type](message);\n  };\n  this.welcome = function(){\n    console.info(\n        'Debugging is ' +\n        ( this.on ? 'on' : 'off' )  +\n        ', visit http://woopos.com.au/docs/debugging'\n    );\n  };\n}\nvar debug = new Debug();\n\n// print welcome message\ndebug.welcome();\n\nmodule.exports = POS.debugLog = _.bind(debug.log, debug);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjazovLy8uL34vbGliL3V0aWxpdGllcy9kZWJ1Zy5qcz9lZDAyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QiwrQ0FBK0MsY0FBYztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYmIgPSByZXF1aXJlKCdiYWNrYm9uZScpO1xudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbnZhciBQT1MgPSByZXF1aXJlKCcuL2dsb2JhbCcpO1xuXG52YXIgZGVidWcgPSBmYWxzZTtcblxuLy8gdXNlIGxvY2FsU3RvcmFnZSB0byB0dXJuIGRlYnVnZ2luZyBvbi9vZmZcbnZhciBmbGFnID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3djX3Bvc19kZWJ1ZycpO1xuXG4vLyBpZiBmbGFnLCB0dXJuIG9uXG5pZiggZmxhZyAhPT0gbnVsbCApe1xuICBkZWJ1ZyA9IHRydWU7XG4gIGJiLlJhZGlvLkRFQlVHID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gRGVidWcoKXtcbiAgdGhpcy5vbiA9IGRlYnVnO1xuICB0aGlzLmxvZyA9IGZ1bmN0aW9uKG1lc3NhZ2UsIHR5cGUsIGZvcmNlKXtcbiAgICB2YXIgb24gPSBmb3JjZSB8fCB0aGlzLm9uO1xuICAgIGlmKCAhIG9uICkgeyByZXR1cm47IH1cbiAgICBpZiggdHlwZW9mIGNvbnNvbGVbdHlwZV0gIT09ICdmdW5jdGlvbicgKSB7IHR5cGUgPSAnbG9nJzsgfVxuICAgIGNvbnNvbGVbdHlwZV0obWVzc2FnZSk7XG4gIH07XG4gIHRoaXMud2VsY29tZSA9IGZ1bmN0aW9uKCl7XG4gICAgY29uc29sZS5pbmZvKFxuICAgICAgICAnRGVidWdnaW5nIGlzICcgK1xuICAgICAgICAoIHRoaXMub24gPyAnb24nIDogJ29mZicgKSAgK1xuICAgICAgICAnLCB2aXNpdCBodHRwOi8vd29vcG9zLmNvbS5hdS9kb2NzL2RlYnVnZ2luZydcbiAgICApO1xuICB9O1xufVxudmFyIGRlYnVnID0gbmV3IERlYnVnKCk7XG5cbi8vIHByaW50IHdlbGNvbWUgbWVzc2FnZVxuZGVidWcud2VsY29tZSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBPUy5kZWJ1Z0xvZyA9IF8uYmluZChkZWJ1Zy5sb2csIGRlYnVnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9saWIvdXRpbGl0aWVzL2RlYnVnLmpzXG4gKiogbW9kdWxlIGlkID0gMTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyXG4gKiovXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjazovLy8uL34vbGliL3V0aWxpdGllcy9kZWJ1Zy5qcz9iOGIyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiMTcuanMifQ==");

/***/ },
/* 18 */
/*!************************************************!*\
  !*** ./~/backbone.stickit/backbone.stickit.js ***!
  \************************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// Backbone.Stickit v0.8.0, MIT Licensed\n// Copyright (c) 2012 The New York Times, CMS Group, Matthew DeLambo <delambo@gmail.com>\n\n(function (factory) {\n\n  // Set up Stickit appropriately for the environment. Start with AMD.\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ 1), __webpack_require__(/*! backbone */ 2), exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  }\n\n  // Next for Node.js or CommonJS.\n  else if (typeof exports === 'object') {\n    factory(require('underscore'), require('backbone'), exports);\n  }\n\n  // Finally, as a browser global.\n  else {\n    factory(_, Backbone, {});\n  }\n\n}(function (_, Backbone, Stickit) {\n\n  // Stickit Namespace\n  // --------------------------\n\n  Stickit._handlers = [];\n\n  Stickit.addHandler = function(handlers) {\n    // Fill-in default values.\n    handlers = _.map(_.flatten([handlers]), function(handler) {\n      return _.extend({\n        updateModel: true,\n        updateView: true,\n        updateMethod: 'text'\n      }, handler);\n    });\n    this._handlers = this._handlers.concat(handlers);\n  };\n\n  // Backbone.View Mixins\n  // --------------------\n\n  Stickit.ViewMixin = {\n\n    // Collection of model event bindings.\n    //   [{model,event,fn,config}, ...]\n    _modelBindings: null,\n\n    // Unbind the model and event bindings from `this._modelBindings` and\n    // `this.$el`. If the optional `model` parameter is defined, then only\n    // delete bindings for the given `model` and its corresponding view events.\n    unstickit: function(model, bindingSelector) {\n      // Support bindings hash in place of selector.\n      if (_.isObject(bindingSelector)) {\n        _.each(_.keys(bindingSelector), function(selector) {\n          this.unstickit(model, selector);\n        }, this);\n        return;\n      }\n\n      var models = [], destroyFns = [];\n      _.each(this._modelBindings, function(binding, i) {\n        if (model && binding.model !== model) { return; }\n        if (bindingSelector && binding.config.selector != bindingSelector) return;\n        destroyFns.push(binding.config._destroy);\n        binding.model.off(binding.event, binding.fn);\n        models.push(binding.model);\n        delete this._modelBindings[i];\n      }, this);\n\n      // Trigger an event for each model that was unbound.\n      _.invoke(_.uniq(models), 'trigger', 'stickit:unstuck', this.cid);\n      // Call `_destroy` on a unique list of the binding callbacks.\n      _.each(_.uniq(destroyFns), function(fn) { fn.call(this); }, this);\n      // Cleanup the null values.\n      this._modelBindings = _.compact(this._modelBindings);\n\n      this.$el.off('.stickit' + (model ? '.' + model.cid : ''), bindingSelector);\n    },\n\n    // Using `this.bindings` configuration or the `optionalBindingsConfig`, binds `this.model`\n    // or the `optionalModel` to elements in the view.\n    stickit: function(optionalModel, optionalBindingsConfig) {\n      var model = optionalModel || this.model,\n          bindings = optionalBindingsConfig || _.result(this, \"bindings\") || {};\n\n      this._modelBindings || (this._modelBindings = []);\n\n      // Iterate through the selectors in the bindings configuration and configure\n      // the various options for each field.\n      this.addBinding(model, bindings);\n\n      // Wrap `view.remove` to unbind stickit model and dom events.\n      var remove = this.remove;\n      if (!remove.stickitWrapped) {\n        this.remove = function() {\n          var ret = this;\n          this.unstickit();\n          if (remove) ret = remove.apply(this, arguments);\n          return ret;\n        };\n      }\n      this.remove.stickitWrapped = true;\n    },\n\n    // Add a single model binding to the view\n    addBinding: function(optionalModel, second, _binding) {\n      var $el, options, modelAttr, config, selector,\n        model = optionalModel || this.model,\n        namespace = '.stickit.' + model.cid,\n        binding = _binding || {},\n        bindId = _.uniqueId();\n\n      // Allow jQuery-style {key: val} event maps\n      if (_.isString(second)) {\n        selector = second;\n      } else {\n        var bindings = second;\n        _.each(bindings, function(v, selector) {\n          this.addBinding(model, selector, bindings[selector]);\n        }, this);\n        return;\n      }\n\n      // Support ':el' selector - special case selector for the view managed delegate.\n      $el = selector === ':el' ? this.$el : this.$(selector);\n\n      this.unstickit(model, selector);\n\n      // Fail fast if the selector didn't match an element.\n      if (!$el.length) return;\n\n      // Allow shorthand setting of model attributes - `'selector':'observe'`.\n      if (_.isString(binding)) binding = {observe:binding};\n\n      // Handle case where `observe` is in the form of a function.\n      if (_.isFunction(binding.observe)) binding.observe = binding.observe.call(this);\n\n      config = getConfiguration($el, binding);\n      config.selector = selector;\n      modelAttr = config.observe;\n\n      // Create the model set options with a unique `bindId` so that we\n      // can avoid double-binding in the `change:attribute` event handler.\n      config.bindId = bindId;\n\n      // Add a reference to the view for handlers of stickitChange events\n      config.view = this;\n      options = _.extend({stickitChange:config}, config.setOptions);\n\n      // Add a `_destroy` callback to the configuration, in case `destroy`\n      // is a named function and we need a unique function when unsticking.\n      config._destroy = function() {\n        applyViewFn(this, config.destroy, $el, model, config);\n      };\n\n      initializeAttributes(this, $el, config, model, modelAttr);\n\n      initializeVisible(this, $el, config, model, modelAttr);\n\n      if (modelAttr) {\n        // Setup one-way, form element to model, bindings.\n        _.each(config.events, function(type) {\n          var event = type + namespace;\n          var method = function(event) {\n            var val = config.getVal.call(this, $el, event, config, _.rest(arguments));\n            // Don't update the model if false is returned from the `updateModel` configuration.\n            if (evaluateBoolean(this, config.updateModel, val, event, config))\n              setAttr(model, modelAttr, val, options, this, config);\n          };\n          method = _.bind(method, this);\n          if (selector === ':el') this.$el.on(event, method);\n          else this.$el.on(event, selector, method);\n        }, this);\n\n        // Setup a `change:modelAttr` observer to keep the view element in sync.\n        // `modelAttr` may be an array of attributes or a single string value.\n        _.each(_.flatten([modelAttr]), function(attr) {\n          observeModelEvent(model, this, 'change:'+attr, config, function(model, val, options) {\n            var changeId = options && options.stickitChange && options.stickitChange.bindId || null;\n            if (changeId !== bindId)\n              updateViewBindEl(this, $el, config, getAttr(model, modelAttr, config, this), model);\n          });\n        }, this);\n\n        updateViewBindEl(this, $el, config, getAttr(model, modelAttr, config, this), model, true);\n      }\n\n      // After each binding is setup, call the `initialize` callback.\n      applyViewFn(this, config.initialize, $el, model, config);\n    }\n  };\n\n  _.extend(Backbone.View.prototype, Stickit.ViewMixin);\n\n  // Helpers\n  // -------\n\n  // Evaluates the given `path` (in object/dot-notation) relative to the given\n  // `obj`. If the path is null/undefined, then the given `obj` is returned.\n  var evaluatePath = function(obj, path) {\n    var parts = (path || '').split('.');\n    var result = _.reduce(parts, function(memo, i) { return memo[i]; }, obj);\n    return result == null ? obj : result;\n  };\n\n  // If the given `fn` is a string, then view[fn] is called, otherwise it is\n  // a function that should be executed.\n  var applyViewFn = function(view, fn) {\n    if (fn) return (_.isString(fn) ? evaluatePath(view,fn) : fn).apply(view, _.rest(arguments, 2));\n  };\n\n  var getSelectedOption = function($select) { return $select.find('option').not(function(){ return !this.selected; }); };\n\n  // Given a function, string (view function reference), or a boolean\n  // value, returns the truthy result. Any other types evaluate as false.\n  var evaluateBoolean = function(view, reference) {\n    if (_.isBoolean(reference)) return reference;\n    else if (_.isFunction(reference) || _.isString(reference))\n      return applyViewFn.apply(this, arguments);\n    return false;\n  };\n\n  // Setup a model event binding with the given function, and track the event\n  // in the view's _modelBindings.\n  var observeModelEvent = function(model, view, event, config, fn) {\n    model.on(event, fn, view);\n    view._modelBindings.push({model:model, event:event, fn:fn, config:config});\n  };\n\n  // Prepares the given `val`ue and sets it into the `model`.\n  var setAttr = function(model, attr, val, options, context, config) {\n    var value = {};\n    if (config.onSet)\n      val = applyViewFn(context, config.onSet, val, config);\n\n    if (config.set)\n      applyViewFn(context, config.set, attr, val, options, config);\n    else {\n      value[attr] = val;\n      // If `observe` is defined as an array and `onSet` returned\n      // an array, then map attributes to their values.\n      if (_.isArray(attr) && _.isArray(val)) {\n        value = _.reduce(attr, function(memo, attribute, index) {\n          memo[attribute] = _.has(val, index) ? val[index] : null;\n          return memo;\n        }, {});\n      }\n      model.set(value, options);\n    }\n  };\n\n  // Returns the given `attr`'s value from the `model`, escaping and\n  // formatting if necessary. If `attr` is an array, then an array of\n  // respective values will be returned.\n  var getAttr = function(model, attr, config, context) {\n    var val,\n      retrieveVal = function(field) {\n        return model[config.escape ? 'escape' : 'get'](field);\n      },\n      sanitizeVal = function(val) {\n        return val == null ? '' : val;\n      };\n    val = _.isArray(attr) ? _.map(attr, retrieveVal) : retrieveVal(attr);\n    if (config.onGet) val = applyViewFn(context, config.onGet, val, config);\n    return _.isArray(val) ? _.map(val, sanitizeVal) : sanitizeVal(val);\n  };\n\n  // Find handlers in `Backbone.Stickit._handlers` with selectors that match\n  // `$el` and generate a configuration by mixing them in the order that they\n  // were found with the given `binding`.\n  var getConfiguration = Stickit.getConfiguration = function($el, binding) {\n    var handlers = [{\n      updateModel: false,\n      updateMethod: 'text',\n      update: function($el, val, m, opts) { if ($el[opts.updateMethod]) $el[opts.updateMethod](val); },\n      getVal: function($el, e, opts) { return $el[opts.updateMethod](); }\n    }];\n    handlers = handlers.concat(_.filter(Stickit._handlers, function(handler) {\n      return $el.is(handler.selector);\n    }));\n    handlers.push(binding);\n    var config = _.extend.apply(_, handlers);\n    // `updateView` is defaulted to false for configutrations with\n    // `visible`; otherwise, `updateView` is defaulted to true.\n    if (config.visible && !_.has(config, 'updateView')) config.updateView = false;\n    else if (!_.has(config, 'updateView')) config.updateView = true;\n    return config;\n  };\n\n  // Setup the attributes configuration - a list that maps an attribute or\n  // property `name`, to an `observe`d model attribute, using an optional\n  // `onGet` formatter.\n  //\n  //     attributes: [{\n  //       name: 'attributeOrPropertyName',\n  //       observe: 'modelAttrName'\n  //       onGet: function(modelAttrVal, modelAttrName) { ... }\n  //     }, ...]\n  //\n  var initializeAttributes = function(view, $el, config, model, modelAttr) {\n    var props = ['autofocus', 'autoplay', 'async', 'checked', 'controls', 'defer', 'disabled', 'hidden', 'indeterminate', 'loop', 'multiple', 'open', 'readonly', 'required', 'scoped', 'selected'];\n\n    _.each(config.attributes || [], function(attrConfig) {\n      var lastClass = '', observed, updateAttr;\n      attrConfig = _.clone(attrConfig);\n      observed = attrConfig.observe || (attrConfig.observe = modelAttr),\n      updateAttr = function() {\n        var updateType = _.indexOf(props, attrConfig.name, true) > -1 ? 'prop' : 'attr',\n          val = getAttr(model, observed, attrConfig, view);\n        // If it is a class then we need to remove the last value and add the new.\n        if (attrConfig.name === 'class') {\n          $el.removeClass(lastClass).addClass(val);\n          lastClass = val;\n        }\n        else $el[updateType](attrConfig.name, val);\n      };\n      _.each(_.flatten([observed]), function(attr) {\n        observeModelEvent(model, view, 'change:' + attr, config, updateAttr);\n      });\n      updateAttr();\n    });\n  };\n\n  // If `visible` is configured, then the view element will be shown/hidden\n  // based on the truthiness of the modelattr's value or the result of the\n  // given callback. If a `visibleFn` is also supplied, then that callback\n  // will be executed to manually handle showing/hiding the view element.\n  //\n  //     observe: 'isRight',\n  //     visible: true, // or function(val, options) {}\n  //     visibleFn: function($el, isVisible, options) {} // optional handler\n  //\n  var initializeVisible = function(view, $el, config, model, modelAttr) {\n    if (config.visible == null) return;\n    var visibleCb = function() {\n      var visible = config.visible,\n          visibleFn = config.visibleFn,\n          val = getAttr(model, modelAttr, config, view),\n          isVisible = !!val;\n      // If `visible` is a function then it should return a boolean result to show/hide.\n      if (_.isFunction(visible) || _.isString(visible)) isVisible = !!applyViewFn(view, visible, val, config);\n      // Either use the custom `visibleFn`, if provided, or execute the standard show/hide.\n      if (visibleFn) applyViewFn(view, visibleFn, $el, isVisible, config);\n      else {\n        $el.toggle(isVisible);\n      }\n    };\n    _.each(_.flatten([modelAttr]), function(attr) {\n      observeModelEvent(model, view, 'change:' + attr, config, visibleCb);\n    });\n    visibleCb();\n  };\n\n  // Update the value of `$el` using the given configuration and trigger the\n  // `afterUpdate` callback. This action may be blocked by `config.updateView`.\n  //\n  //     update: function($el, val, model, options) {},  // handler for updating\n  //     updateView: true, // defaults to true\n  //     afterUpdate: function($el, val, options) {} // optional callback\n  //\n  var updateViewBindEl = function(view, $el, config, val, model, isInitializing) {\n    if (!evaluateBoolean(view, config.updateView, val, config)) return;\n    applyViewFn(view, config.update, $el, val, model, config);\n    if (!isInitializing) applyViewFn(view, config.afterUpdate, $el, val, config);\n  };\n\n  // Default Handlers\n  // ----------------\n\n  Stickit.addHandler([{\n    selector: '[contenteditable=\"true\"]',\n    updateMethod: 'html',\n    events: ['input', 'change']\n  }, {\n    selector: 'input',\n    events: ['propertychange', 'input', 'change'],\n    update: function($el, val) { $el.val(val); },\n    getVal: function($el) {\n      return $el.val();\n    }\n  }, {\n    selector: 'textarea',\n    events: ['propertychange', 'input', 'change'],\n    update: function($el, val) { $el.val(val); },\n    getVal: function($el) { return $el.val(); }\n  }, {\n    selector: 'input[type=\"radio\"]',\n    events: ['change'],\n    update: function($el, val) {\n      $el.filter('[value=\"'+val+'\"]').prop('checked', true);\n    },\n    getVal: function($el) {\n      return $el.filter(':checked').val();\n    }\n  }, {\n    selector: 'input[type=\"checkbox\"]',\n    events: ['change'],\n    update: function($el, val, model, options) {\n      if ($el.length > 1) {\n        // There are multiple checkboxes so we need to go through them and check\n        // any that have value attributes that match what's in the array of `val`s.\n        val || (val = []);\n        $el.each(function(i, el) {\n          var checkbox = Backbone.$(el);\n          var checked = _.contains(val, checkbox.val());\n          checkbox.prop('checked', checked);\n        });\n      } else {\n        var checked = _.isBoolean(val) ? val : val === $el.val();\n        $el.prop('checked', checked);\n      }\n    },\n    getVal: function($el) {\n      var val;\n      if ($el.length > 1) {\n        val = _.reduce($el, function(memo, el) {\n          var checkbox = Backbone.$(el);\n          if (checkbox.prop('checked')) memo.push(checkbox.val());\n          return memo;\n        }, []);\n      } else {\n        val = $el.prop('checked');\n        // If the checkbox has a value attribute defined, then\n        // use that value. Most browsers use \"on\" as a default.\n        var boxval = $el.val();\n        if (boxval !== 'on' && boxval != null) {\n          val = val ? $el.val() : null;\n        }\n      }\n      return val;\n    }\n  }, {\n    selector: 'select',\n    events: ['change'],\n    update: function($el, val, model, options) {\n      var optList,\n        selectConfig = options.selectOptions,\n        list = selectConfig && selectConfig.collection || undefined,\n        isMultiple = $el.prop('multiple');\n\n      // If there are no `selectOptions` then we assume that the `<select>`\n      // is pre-rendered and that we need to generate the collection.\n      if (!selectConfig) {\n        selectConfig = {};\n        var getList = function($el) {\n          return $el.map(function() {\n            return {value:this.value, label:this.text};\n          }).get();\n        };\n        if ($el.find('optgroup').length) {\n          list = {opt_labels:[]};\n          // Search for options without optgroup\n          if ($el.find('> option').length) {\n            list.opt_labels.push(undefined);\n            _.each($el.find('> option'), function(el) {\n              list[undefined] = getList(Backbone.$(el));\n            });\n          }\n          _.each($el.find('optgroup'), function(el) {\n            var label = Backbone.$(el).attr('label');\n            list.opt_labels.push(label);\n            list[label] = getList(Backbone.$(el).find('option'));\n          });\n        } else {\n          list = getList($el.find('option'));\n        }\n      }\n\n      // Fill in default label and path values.\n      selectConfig.valuePath = selectConfig.valuePath || 'value';\n      selectConfig.labelPath = selectConfig.labelPath || 'label';\n\n      var addSelectOptions = function(optList, $el, fieldVal) {\n        _.each(optList, function(obj) {\n          var option = Backbone.$('<option/>'), optionVal = obj;\n\n          var fillOption = function(text, val) {\n            option.text(text);\n            optionVal = val;\n            // Save the option value as data so that we can reference it later.\n            option.data('stickit_bind_val', optionVal);\n            if (!_.isArray(optionVal) && !_.isObject(optionVal)) option.val(optionVal);\n          };\n\n          if (obj === '__default__')\n            fillOption(selectConfig.defaultOption.label, selectConfig.defaultOption.value);\n          else\n            fillOption(evaluatePath(obj, selectConfig.labelPath), evaluatePath(obj, selectConfig.valuePath));\n\n          // Determine if this option is selected.\n          if (!isMultiple && optionVal != null && fieldVal != null && optionVal === fieldVal || (_.isObject(fieldVal) && _.isEqual(optionVal, fieldVal)))\n            option.prop('selected', true);\n          else if (isMultiple && _.isArray(fieldVal)) {\n            _.each(fieldVal, function(val) {\n              if (_.isObject(val)) val = evaluatePath(val, selectConfig.valuePath);\n              if (val === optionVal || (_.isObject(val) && _.isEqual(optionVal, val)))\n                option.prop('selected', true);\n            });\n          }\n\n          $el.append(option);\n        });\n      };\n\n      $el.find('*').remove();\n\n      // The `list` configuration is a function that returns the options list or a string\n      // which represents the path to the list relative to `window` or the view/`this`.\n      var evaluate = function(view, list) {\n        var context = window;\n        if (list.indexOf('this.') === 0) context = view;\n        list = list.replace(/^[a-z]*\\.(.+)$/, '$1');\n        return evaluatePath(context, list);\n      };\n      if (_.isString(list)) optList = evaluate(this, list);\n      else if (_.isFunction(list)) optList = applyViewFn(this, list, $el, options);\n      else optList = list;\n\n      // Support Backbone.Collection and deserialize.\n      if (optList instanceof Backbone.Collection) optList = optList.toJSON();\n\n      if (selectConfig.defaultOption) {\n        addSelectOptions([\"__default__\"], $el);\n      }\n\n      if (_.isArray(optList)) {\n        addSelectOptions(optList, $el, val);\n      } else if (optList.opt_labels) {\n        // To define a select with optgroups, format selectOptions.collection as an object\n        // with an 'opt_labels' property, as in the following:\n        //\n        //     {\n        //       'opt_labels': ['Looney Tunes', 'Three Stooges'],\n        //       'Looney Tunes': [{id: 1, name: 'Bugs Bunny'}, {id: 2, name: 'Donald Duck'}],\n        //       'Three Stooges': [{id: 3, name : 'moe'}, {id: 4, name : 'larry'}, {id: 5, name : 'curly'}]\n        //     }\n        //\n        _.each(optList.opt_labels, function(label) {\n          var $group = Backbone.$('<optgroup/>').attr('label', label);\n          addSelectOptions(optList[label], $group, val);\n          $el.append($group);\n        });\n        // With no 'opt_labels' parameter, the object is assumed to be a simple value-label map.\n        // Pass a selectOptions.comparator to override the default order of alphabetical by label.\n      } else {\n        var opts = [], opt;\n        for (var i in optList) {\n          opt = {};\n          opt[selectConfig.valuePath] = i;\n          opt[selectConfig.labelPath] = optList[i];\n          opts.push(opt);\n        }\n        addSelectOptions(_.sortBy(opts, selectConfig.comparator || selectConfig.labelPath), $el, val);\n      }\n    },\n    getVal: function($el) {\n      var val;\n      if ($el.prop('multiple')) {\n        val = Backbone.$(getSelectedOption($el).map(function() {\n          return Backbone.$(this).data('stickit_bind_val');\n        })).get();\n      } else {\n        val = getSelectedOption($el).data('stickit_bind_val');\n      }\n      return val;\n    }\n  }]);\n\n\n  // Export onto Backbone object\n  Backbone.Stickit = Stickit;\n\n  return Backbone.Stickit;\n\n}));\n//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjazovLy8uL34vYmFja2JvbmUuc3RpY2tpdC9iYWNrYm9uZS5zdGlja2l0LmpzPzhlYjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCOztBQUVBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsV0FBVyxzQkFBc0I7QUFDakM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsZUFBZSxFQUFFO0FBQ2hFO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7O0FBRUEsNkJBQTZCLFNBQVM7QUFDdEM7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSwwQ0FBMEM7O0FBRTFDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMEJBQTBCLHFCQUFxQjs7QUFFL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUzs7QUFFVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsZ0JBQWdCLEVBQUU7QUFDdEU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDZDQUE2Qyw4Q0FBOEMsdUJBQXVCLEVBQUUsRUFBRTs7QUFFdEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiwrQ0FBK0M7QUFDN0U7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsSUFBSTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLHlEQUF5RCxFQUFFO0FBQ3RHLHNDQUFzQyxpQ0FBaUM7QUFDdkUsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlEO0FBQ3pELFVBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3REO0FBQ0Esb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxnQ0FBZ0MsY0FBYyxFQUFFO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsZ0NBQWdDLGNBQWMsRUFBRTtBQUNoRCwyQkFBMkIsa0JBQWtCO0FBQzdDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEIsV0FBVztBQUNYO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0EsU0FBUztBQUNUOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDBCQUEwQixHQUFHLDJCQUEyQjtBQUMzRixvQ0FBb0Msb0JBQW9CLEdBQUcsc0JBQXNCLEdBQUcsc0JBQXNCO0FBQzFHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7OztBQUdIO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEJhY2tib25lLlN0aWNraXQgdjAuOC4wLCBNSVQgTGljZW5zZWRcbi8vIENvcHlyaWdodCAoYykgMjAxMiBUaGUgTmV3IFlvcmsgVGltZXMsIENNUyBHcm91cCwgTWF0dGhldyBEZUxhbWJvIDxkZWxhbWJvQGdtYWlsLmNvbT5cblxuKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG5cbiAgLy8gU2V0IHVwIFN0aWNraXQgYXBwcm9wcmlhdGVseSBmb3IgdGhlIGVudmlyb25tZW50LiBTdGFydCB3aXRoIEFNRC5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbJ3VuZGVyc2NvcmUnLCAnYmFja2JvbmUnLCAnZXhwb3J0cyddLCBmYWN0b3J5KTtcbiAgfVxuXG4gIC8vIE5leHQgZm9yIE5vZGUuanMgb3IgQ29tbW9uSlMuXG4gIGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIGZhY3RvcnkocmVxdWlyZSgndW5kZXJzY29yZScpLCByZXF1aXJlKCdiYWNrYm9uZScpLCBleHBvcnRzKTtcbiAgfVxuXG4gIC8vIEZpbmFsbHksIGFzIGEgYnJvd3NlciBnbG9iYWwuXG4gIGVsc2Uge1xuICAgIGZhY3RvcnkoXywgQmFja2JvbmUsIHt9KTtcbiAgfVxuXG59KGZ1bmN0aW9uIChfLCBCYWNrYm9uZSwgU3RpY2tpdCkge1xuXG4gIC8vIFN0aWNraXQgTmFtZXNwYWNlXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgU3RpY2tpdC5faGFuZGxlcnMgPSBbXTtcblxuICBTdGlja2l0LmFkZEhhbmRsZXIgPSBmdW5jdGlvbihoYW5kbGVycykge1xuICAgIC8vIEZpbGwtaW4gZGVmYXVsdCB2YWx1ZXMuXG4gICAgaGFuZGxlcnMgPSBfLm1hcChfLmZsYXR0ZW4oW2hhbmRsZXJzXSksIGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICAgIHJldHVybiBfLmV4dGVuZCh7XG4gICAgICAgIHVwZGF0ZU1vZGVsOiB0cnVlLFxuICAgICAgICB1cGRhdGVWaWV3OiB0cnVlLFxuICAgICAgICB1cGRhdGVNZXRob2Q6ICd0ZXh0J1xuICAgICAgfSwgaGFuZGxlcik7XG4gICAgfSk7XG4gICAgdGhpcy5faGFuZGxlcnMgPSB0aGlzLl9oYW5kbGVycy5jb25jYXQoaGFuZGxlcnMpO1xuICB9O1xuXG4gIC8vIEJhY2tib25lLlZpZXcgTWl4aW5zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgU3RpY2tpdC5WaWV3TWl4aW4gPSB7XG5cbiAgICAvLyBDb2xsZWN0aW9uIG9mIG1vZGVsIGV2ZW50IGJpbmRpbmdzLlxuICAgIC8vICAgW3ttb2RlbCxldmVudCxmbixjb25maWd9LCAuLi5dXG4gICAgX21vZGVsQmluZGluZ3M6IG51bGwsXG5cbiAgICAvLyBVbmJpbmQgdGhlIG1vZGVsIGFuZCBldmVudCBiaW5kaW5ncyBmcm9tIGB0aGlzLl9tb2RlbEJpbmRpbmdzYCBhbmRcbiAgICAvLyBgdGhpcy4kZWxgLiBJZiB0aGUgb3B0aW9uYWwgYG1vZGVsYCBwYXJhbWV0ZXIgaXMgZGVmaW5lZCwgdGhlbiBvbmx5XG4gICAgLy8gZGVsZXRlIGJpbmRpbmdzIGZvciB0aGUgZ2l2ZW4gYG1vZGVsYCBhbmQgaXRzIGNvcnJlc3BvbmRpbmcgdmlldyBldmVudHMuXG4gICAgdW5zdGlja2l0OiBmdW5jdGlvbihtb2RlbCwgYmluZGluZ1NlbGVjdG9yKSB7XG4gICAgICAvLyBTdXBwb3J0IGJpbmRpbmdzIGhhc2ggaW4gcGxhY2Ugb2Ygc2VsZWN0b3IuXG4gICAgICBpZiAoXy5pc09iamVjdChiaW5kaW5nU2VsZWN0b3IpKSB7XG4gICAgICAgIF8uZWFjaChfLmtleXMoYmluZGluZ1NlbGVjdG9yKSwgZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgICAgICAgICB0aGlzLnVuc3RpY2tpdChtb2RlbCwgc2VsZWN0b3IpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgbW9kZWxzID0gW10sIGRlc3Ryb3lGbnMgPSBbXTtcbiAgICAgIF8uZWFjaCh0aGlzLl9tb2RlbEJpbmRpbmdzLCBmdW5jdGlvbihiaW5kaW5nLCBpKSB7XG4gICAgICAgIGlmIChtb2RlbCAmJiBiaW5kaW5nLm1vZGVsICE9PSBtb2RlbCkgeyByZXR1cm47IH1cbiAgICAgICAgaWYgKGJpbmRpbmdTZWxlY3RvciAmJiBiaW5kaW5nLmNvbmZpZy5zZWxlY3RvciAhPSBiaW5kaW5nU2VsZWN0b3IpIHJldHVybjtcbiAgICAgICAgZGVzdHJveUZucy5wdXNoKGJpbmRpbmcuY29uZmlnLl9kZXN0cm95KTtcbiAgICAgICAgYmluZGluZy5tb2RlbC5vZmYoYmluZGluZy5ldmVudCwgYmluZGluZy5mbik7XG4gICAgICAgIG1vZGVscy5wdXNoKGJpbmRpbmcubW9kZWwpO1xuICAgICAgICBkZWxldGUgdGhpcy5fbW9kZWxCaW5kaW5nc1tpXTtcbiAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAvLyBUcmlnZ2VyIGFuIGV2ZW50IGZvciBlYWNoIG1vZGVsIHRoYXQgd2FzIHVuYm91bmQuXG4gICAgICBfLmludm9rZShfLnVuaXEobW9kZWxzKSwgJ3RyaWdnZXInLCAnc3RpY2tpdDp1bnN0dWNrJywgdGhpcy5jaWQpO1xuICAgICAgLy8gQ2FsbCBgX2Rlc3Ryb3lgIG9uIGEgdW5pcXVlIGxpc3Qgb2YgdGhlIGJpbmRpbmcgY2FsbGJhY2tzLlxuICAgICAgXy5lYWNoKF8udW5pcShkZXN0cm95Rm5zKSwgZnVuY3Rpb24oZm4pIHsgZm4uY2FsbCh0aGlzKTsgfSwgdGhpcyk7XG4gICAgICAvLyBDbGVhbnVwIHRoZSBudWxsIHZhbHVlcy5cbiAgICAgIHRoaXMuX21vZGVsQmluZGluZ3MgPSBfLmNvbXBhY3QodGhpcy5fbW9kZWxCaW5kaW5ncyk7XG5cbiAgICAgIHRoaXMuJGVsLm9mZignLnN0aWNraXQnICsgKG1vZGVsID8gJy4nICsgbW9kZWwuY2lkIDogJycpLCBiaW5kaW5nU2VsZWN0b3IpO1xuICAgIH0sXG5cbiAgICAvLyBVc2luZyBgdGhpcy5iaW5kaW5nc2AgY29uZmlndXJhdGlvbiBvciB0aGUgYG9wdGlvbmFsQmluZGluZ3NDb25maWdgLCBiaW5kcyBgdGhpcy5tb2RlbGBcbiAgICAvLyBvciB0aGUgYG9wdGlvbmFsTW9kZWxgIHRvIGVsZW1lbnRzIGluIHRoZSB2aWV3LlxuICAgIHN0aWNraXQ6IGZ1bmN0aW9uKG9wdGlvbmFsTW9kZWwsIG9wdGlvbmFsQmluZGluZ3NDb25maWcpIHtcbiAgICAgIHZhciBtb2RlbCA9IG9wdGlvbmFsTW9kZWwgfHwgdGhpcy5tb2RlbCxcbiAgICAgICAgICBiaW5kaW5ncyA9IG9wdGlvbmFsQmluZGluZ3NDb25maWcgfHwgXy5yZXN1bHQodGhpcywgXCJiaW5kaW5nc1wiKSB8fCB7fTtcblxuICAgICAgdGhpcy5fbW9kZWxCaW5kaW5ncyB8fCAodGhpcy5fbW9kZWxCaW5kaW5ncyA9IFtdKTtcblxuICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIHRoZSBzZWxlY3RvcnMgaW4gdGhlIGJpbmRpbmdzIGNvbmZpZ3VyYXRpb24gYW5kIGNvbmZpZ3VyZVxuICAgICAgLy8gdGhlIHZhcmlvdXMgb3B0aW9ucyBmb3IgZWFjaCBmaWVsZC5cbiAgICAgIHRoaXMuYWRkQmluZGluZyhtb2RlbCwgYmluZGluZ3MpO1xuXG4gICAgICAvLyBXcmFwIGB2aWV3LnJlbW92ZWAgdG8gdW5iaW5kIHN0aWNraXQgbW9kZWwgYW5kIGRvbSBldmVudHMuXG4gICAgICB2YXIgcmVtb3ZlID0gdGhpcy5yZW1vdmU7XG4gICAgICBpZiAoIXJlbW92ZS5zdGlja2l0V3JhcHBlZCkge1xuICAgICAgICB0aGlzLnJlbW92ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciByZXQgPSB0aGlzO1xuICAgICAgICAgIHRoaXMudW5zdGlja2l0KCk7XG4gICAgICAgICAgaWYgKHJlbW92ZSkgcmV0ID0gcmVtb3ZlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVtb3ZlLnN0aWNraXRXcmFwcGVkID0gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLy8gQWRkIGEgc2luZ2xlIG1vZGVsIGJpbmRpbmcgdG8gdGhlIHZpZXdcbiAgICBhZGRCaW5kaW5nOiBmdW5jdGlvbihvcHRpb25hbE1vZGVsLCBzZWNvbmQsIF9iaW5kaW5nKSB7XG4gICAgICB2YXIgJGVsLCBvcHRpb25zLCBtb2RlbEF0dHIsIGNvbmZpZywgc2VsZWN0b3IsXG4gICAgICAgIG1vZGVsID0gb3B0aW9uYWxNb2RlbCB8fCB0aGlzLm1vZGVsLFxuICAgICAgICBuYW1lc3BhY2UgPSAnLnN0aWNraXQuJyArIG1vZGVsLmNpZCxcbiAgICAgICAgYmluZGluZyA9IF9iaW5kaW5nIHx8IHt9LFxuICAgICAgICBiaW5kSWQgPSBfLnVuaXF1ZUlkKCk7XG5cbiAgICAgIC8vIEFsbG93IGpRdWVyeS1zdHlsZSB7a2V5OiB2YWx9IGV2ZW50IG1hcHNcbiAgICAgIGlmIChfLmlzU3RyaW5nKHNlY29uZCkpIHtcbiAgICAgICAgc2VsZWN0b3IgPSBzZWNvbmQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYmluZGluZ3MgPSBzZWNvbmQ7XG4gICAgICAgIF8uZWFjaChiaW5kaW5ncywgZnVuY3Rpb24odiwgc2VsZWN0b3IpIHtcbiAgICAgICAgICB0aGlzLmFkZEJpbmRpbmcobW9kZWwsIHNlbGVjdG9yLCBiaW5kaW5nc1tzZWxlY3Rvcl0pO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBTdXBwb3J0ICc6ZWwnIHNlbGVjdG9yIC0gc3BlY2lhbCBjYXNlIHNlbGVjdG9yIGZvciB0aGUgdmlldyBtYW5hZ2VkIGRlbGVnYXRlLlxuICAgICAgJGVsID0gc2VsZWN0b3IgPT09ICc6ZWwnID8gdGhpcy4kZWwgOiB0aGlzLiQoc2VsZWN0b3IpO1xuXG4gICAgICB0aGlzLnVuc3RpY2tpdChtb2RlbCwgc2VsZWN0b3IpO1xuXG4gICAgICAvLyBGYWlsIGZhc3QgaWYgdGhlIHNlbGVjdG9yIGRpZG4ndCBtYXRjaCBhbiBlbGVtZW50LlxuICAgICAgaWYgKCEkZWwubGVuZ3RoKSByZXR1cm47XG5cbiAgICAgIC8vIEFsbG93IHNob3J0aGFuZCBzZXR0aW5nIG9mIG1vZGVsIGF0dHJpYnV0ZXMgLSBgJ3NlbGVjdG9yJzonb2JzZXJ2ZSdgLlxuICAgICAgaWYgKF8uaXNTdHJpbmcoYmluZGluZykpIGJpbmRpbmcgPSB7b2JzZXJ2ZTpiaW5kaW5nfTtcblxuICAgICAgLy8gSGFuZGxlIGNhc2Ugd2hlcmUgYG9ic2VydmVgIGlzIGluIHRoZSBmb3JtIG9mIGEgZnVuY3Rpb24uXG4gICAgICBpZiAoXy5pc0Z1bmN0aW9uKGJpbmRpbmcub2JzZXJ2ZSkpIGJpbmRpbmcub2JzZXJ2ZSA9IGJpbmRpbmcub2JzZXJ2ZS5jYWxsKHRoaXMpO1xuXG4gICAgICBjb25maWcgPSBnZXRDb25maWd1cmF0aW9uKCRlbCwgYmluZGluZyk7XG4gICAgICBjb25maWcuc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICAgIG1vZGVsQXR0ciA9IGNvbmZpZy5vYnNlcnZlO1xuXG4gICAgICAvLyBDcmVhdGUgdGhlIG1vZGVsIHNldCBvcHRpb25zIHdpdGggYSB1bmlxdWUgYGJpbmRJZGAgc28gdGhhdCB3ZVxuICAgICAgLy8gY2FuIGF2b2lkIGRvdWJsZS1iaW5kaW5nIGluIHRoZSBgY2hhbmdlOmF0dHJpYnV0ZWAgZXZlbnQgaGFuZGxlci5cbiAgICAgIGNvbmZpZy5iaW5kSWQgPSBiaW5kSWQ7XG5cbiAgICAgIC8vIEFkZCBhIHJlZmVyZW5jZSB0byB0aGUgdmlldyBmb3IgaGFuZGxlcnMgb2Ygc3RpY2tpdENoYW5nZSBldmVudHNcbiAgICAgIGNvbmZpZy52aWV3ID0gdGhpcztcbiAgICAgIG9wdGlvbnMgPSBfLmV4dGVuZCh7c3RpY2tpdENoYW5nZTpjb25maWd9LCBjb25maWcuc2V0T3B0aW9ucyk7XG5cbiAgICAgIC8vIEFkZCBhIGBfZGVzdHJveWAgY2FsbGJhY2sgdG8gdGhlIGNvbmZpZ3VyYXRpb24sIGluIGNhc2UgYGRlc3Ryb3lgXG4gICAgICAvLyBpcyBhIG5hbWVkIGZ1bmN0aW9uIGFuZCB3ZSBuZWVkIGEgdW5pcXVlIGZ1bmN0aW9uIHdoZW4gdW5zdGlja2luZy5cbiAgICAgIGNvbmZpZy5fZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBhcHBseVZpZXdGbih0aGlzLCBjb25maWcuZGVzdHJveSwgJGVsLCBtb2RlbCwgY29uZmlnKTtcbiAgICAgIH07XG5cbiAgICAgIGluaXRpYWxpemVBdHRyaWJ1dGVzKHRoaXMsICRlbCwgY29uZmlnLCBtb2RlbCwgbW9kZWxBdHRyKTtcblxuICAgICAgaW5pdGlhbGl6ZVZpc2libGUodGhpcywgJGVsLCBjb25maWcsIG1vZGVsLCBtb2RlbEF0dHIpO1xuXG4gICAgICBpZiAobW9kZWxBdHRyKSB7XG4gICAgICAgIC8vIFNldHVwIG9uZS13YXksIGZvcm0gZWxlbWVudCB0byBtb2RlbCwgYmluZGluZ3MuXG4gICAgICAgIF8uZWFjaChjb25maWcuZXZlbnRzLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICAgICAgdmFyIGV2ZW50ID0gdHlwZSArIG5hbWVzcGFjZTtcbiAgICAgICAgICB2YXIgbWV0aG9kID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciB2YWwgPSBjb25maWcuZ2V0VmFsLmNhbGwodGhpcywgJGVsLCBldmVudCwgY29uZmlnLCBfLnJlc3QoYXJndW1lbnRzKSk7XG4gICAgICAgICAgICAvLyBEb24ndCB1cGRhdGUgdGhlIG1vZGVsIGlmIGZhbHNlIGlzIHJldHVybmVkIGZyb20gdGhlIGB1cGRhdGVNb2RlbGAgY29uZmlndXJhdGlvbi5cbiAgICAgICAgICAgIGlmIChldmFsdWF0ZUJvb2xlYW4odGhpcywgY29uZmlnLnVwZGF0ZU1vZGVsLCB2YWwsIGV2ZW50LCBjb25maWcpKVxuICAgICAgICAgICAgICBzZXRBdHRyKG1vZGVsLCBtb2RlbEF0dHIsIHZhbCwgb3B0aW9ucywgdGhpcywgY29uZmlnKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIG1ldGhvZCA9IF8uYmluZChtZXRob2QsIHRoaXMpO1xuICAgICAgICAgIGlmIChzZWxlY3RvciA9PT0gJzplbCcpIHRoaXMuJGVsLm9uKGV2ZW50LCBtZXRob2QpO1xuICAgICAgICAgIGVsc2UgdGhpcy4kZWwub24oZXZlbnQsIHNlbGVjdG9yLCBtZXRob2QpO1xuICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICAvLyBTZXR1cCBhIGBjaGFuZ2U6bW9kZWxBdHRyYCBvYnNlcnZlciB0byBrZWVwIHRoZSB2aWV3IGVsZW1lbnQgaW4gc3luYy5cbiAgICAgICAgLy8gYG1vZGVsQXR0cmAgbWF5IGJlIGFuIGFycmF5IG9mIGF0dHJpYnV0ZXMgb3IgYSBzaW5nbGUgc3RyaW5nIHZhbHVlLlxuICAgICAgICBfLmVhY2goXy5mbGF0dGVuKFttb2RlbEF0dHJdKSwgZnVuY3Rpb24oYXR0cikge1xuICAgICAgICAgIG9ic2VydmVNb2RlbEV2ZW50KG1vZGVsLCB0aGlzLCAnY2hhbmdlOicrYXR0ciwgY29uZmlnLCBmdW5jdGlvbihtb2RlbCwgdmFsLCBvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgY2hhbmdlSWQgPSBvcHRpb25zICYmIG9wdGlvbnMuc3RpY2tpdENoYW5nZSAmJiBvcHRpb25zLnN0aWNraXRDaGFuZ2UuYmluZElkIHx8IG51bGw7XG4gICAgICAgICAgICBpZiAoY2hhbmdlSWQgIT09IGJpbmRJZClcbiAgICAgICAgICAgICAgdXBkYXRlVmlld0JpbmRFbCh0aGlzLCAkZWwsIGNvbmZpZywgZ2V0QXR0cihtb2RlbCwgbW9kZWxBdHRyLCBjb25maWcsIHRoaXMpLCBtb2RlbCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHVwZGF0ZVZpZXdCaW5kRWwodGhpcywgJGVsLCBjb25maWcsIGdldEF0dHIobW9kZWwsIG1vZGVsQXR0ciwgY29uZmlnLCB0aGlzKSwgbW9kZWwsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICAvLyBBZnRlciBlYWNoIGJpbmRpbmcgaXMgc2V0dXAsIGNhbGwgdGhlIGBpbml0aWFsaXplYCBjYWxsYmFjay5cbiAgICAgIGFwcGx5Vmlld0ZuKHRoaXMsIGNvbmZpZy5pbml0aWFsaXplLCAkZWwsIG1vZGVsLCBjb25maWcpO1xuICAgIH1cbiAgfTtcblxuICBfLmV4dGVuZChCYWNrYm9uZS5WaWV3LnByb3RvdHlwZSwgU3RpY2tpdC5WaWV3TWl4aW4pO1xuXG4gIC8vIEhlbHBlcnNcbiAgLy8gLS0tLS0tLVxuXG4gIC8vIEV2YWx1YXRlcyB0aGUgZ2l2ZW4gYHBhdGhgIChpbiBvYmplY3QvZG90LW5vdGF0aW9uKSByZWxhdGl2ZSB0byB0aGUgZ2l2ZW5cbiAgLy8gYG9iamAuIElmIHRoZSBwYXRoIGlzIG51bGwvdW5kZWZpbmVkLCB0aGVuIHRoZSBnaXZlbiBgb2JqYCBpcyByZXR1cm5lZC5cbiAgdmFyIGV2YWx1YXRlUGF0aCA9IGZ1bmN0aW9uKG9iaiwgcGF0aCkge1xuICAgIHZhciBwYXJ0cyA9IChwYXRoIHx8ICcnKS5zcGxpdCgnLicpO1xuICAgIHZhciByZXN1bHQgPSBfLnJlZHVjZShwYXJ0cywgZnVuY3Rpb24obWVtbywgaSkgeyByZXR1cm4gbWVtb1tpXTsgfSwgb2JqKTtcbiAgICByZXR1cm4gcmVzdWx0ID09IG51bGwgPyBvYmogOiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gSWYgdGhlIGdpdmVuIGBmbmAgaXMgYSBzdHJpbmcsIHRoZW4gdmlld1tmbl0gaXMgY2FsbGVkLCBvdGhlcndpc2UgaXQgaXNcbiAgLy8gYSBmdW5jdGlvbiB0aGF0IHNob3VsZCBiZSBleGVjdXRlZC5cbiAgdmFyIGFwcGx5Vmlld0ZuID0gZnVuY3Rpb24odmlldywgZm4pIHtcbiAgICBpZiAoZm4pIHJldHVybiAoXy5pc1N0cmluZyhmbikgPyBldmFsdWF0ZVBhdGgodmlldyxmbikgOiBmbikuYXBwbHkodmlldywgXy5yZXN0KGFyZ3VtZW50cywgMikpO1xuICB9O1xuXG4gIHZhciBnZXRTZWxlY3RlZE9wdGlvbiA9IGZ1bmN0aW9uKCRzZWxlY3QpIHsgcmV0dXJuICRzZWxlY3QuZmluZCgnb3B0aW9uJykubm90KGZ1bmN0aW9uKCl7IHJldHVybiAhdGhpcy5zZWxlY3RlZDsgfSk7IH07XG5cbiAgLy8gR2l2ZW4gYSBmdW5jdGlvbiwgc3RyaW5nICh2aWV3IGZ1bmN0aW9uIHJlZmVyZW5jZSksIG9yIGEgYm9vbGVhblxuICAvLyB2YWx1ZSwgcmV0dXJucyB0aGUgdHJ1dGh5IHJlc3VsdC4gQW55IG90aGVyIHR5cGVzIGV2YWx1YXRlIGFzIGZhbHNlLlxuICB2YXIgZXZhbHVhdGVCb29sZWFuID0gZnVuY3Rpb24odmlldywgcmVmZXJlbmNlKSB7XG4gICAgaWYgKF8uaXNCb29sZWFuKHJlZmVyZW5jZSkpIHJldHVybiByZWZlcmVuY2U7XG4gICAgZWxzZSBpZiAoXy5pc0Z1bmN0aW9uKHJlZmVyZW5jZSkgfHwgXy5pc1N0cmluZyhyZWZlcmVuY2UpKVxuICAgICAgcmV0dXJuIGFwcGx5Vmlld0ZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8vIFNldHVwIGEgbW9kZWwgZXZlbnQgYmluZGluZyB3aXRoIHRoZSBnaXZlbiBmdW5jdGlvbiwgYW5kIHRyYWNrIHRoZSBldmVudFxuICAvLyBpbiB0aGUgdmlldydzIF9tb2RlbEJpbmRpbmdzLlxuICB2YXIgb2JzZXJ2ZU1vZGVsRXZlbnQgPSBmdW5jdGlvbihtb2RlbCwgdmlldywgZXZlbnQsIGNvbmZpZywgZm4pIHtcbiAgICBtb2RlbC5vbihldmVudCwgZm4sIHZpZXcpO1xuICAgIHZpZXcuX21vZGVsQmluZGluZ3MucHVzaCh7bW9kZWw6bW9kZWwsIGV2ZW50OmV2ZW50LCBmbjpmbiwgY29uZmlnOmNvbmZpZ30pO1xuICB9O1xuXG4gIC8vIFByZXBhcmVzIHRoZSBnaXZlbiBgdmFsYHVlIGFuZCBzZXRzIGl0IGludG8gdGhlIGBtb2RlbGAuXG4gIHZhciBzZXRBdHRyID0gZnVuY3Rpb24obW9kZWwsIGF0dHIsIHZhbCwgb3B0aW9ucywgY29udGV4dCwgY29uZmlnKSB7XG4gICAgdmFyIHZhbHVlID0ge307XG4gICAgaWYgKGNvbmZpZy5vblNldClcbiAgICAgIHZhbCA9IGFwcGx5Vmlld0ZuKGNvbnRleHQsIGNvbmZpZy5vblNldCwgdmFsLCBjb25maWcpO1xuXG4gICAgaWYgKGNvbmZpZy5zZXQpXG4gICAgICBhcHBseVZpZXdGbihjb250ZXh0LCBjb25maWcuc2V0LCBhdHRyLCB2YWwsIG9wdGlvbnMsIGNvbmZpZyk7XG4gICAgZWxzZSB7XG4gICAgICB2YWx1ZVthdHRyXSA9IHZhbDtcbiAgICAgIC8vIElmIGBvYnNlcnZlYCBpcyBkZWZpbmVkIGFzIGFuIGFycmF5IGFuZCBgb25TZXRgIHJldHVybmVkXG4gICAgICAvLyBhbiBhcnJheSwgdGhlbiBtYXAgYXR0cmlidXRlcyB0byB0aGVpciB2YWx1ZXMuXG4gICAgICBpZiAoXy5pc0FycmF5KGF0dHIpICYmIF8uaXNBcnJheSh2YWwpKSB7XG4gICAgICAgIHZhbHVlID0gXy5yZWR1Y2UoYXR0ciwgZnVuY3Rpb24obWVtbywgYXR0cmlidXRlLCBpbmRleCkge1xuICAgICAgICAgIG1lbW9bYXR0cmlidXRlXSA9IF8uaGFzKHZhbCwgaW5kZXgpID8gdmFsW2luZGV4XSA6IG51bGw7XG4gICAgICAgICAgcmV0dXJuIG1lbW87XG4gICAgICAgIH0sIHt9KTtcbiAgICAgIH1cbiAgICAgIG1vZGVsLnNldCh2YWx1ZSwgb3B0aW9ucyk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFJldHVybnMgdGhlIGdpdmVuIGBhdHRyYCdzIHZhbHVlIGZyb20gdGhlIGBtb2RlbGAsIGVzY2FwaW5nIGFuZFxuICAvLyBmb3JtYXR0aW5nIGlmIG5lY2Vzc2FyeS4gSWYgYGF0dHJgIGlzIGFuIGFycmF5LCB0aGVuIGFuIGFycmF5IG9mXG4gIC8vIHJlc3BlY3RpdmUgdmFsdWVzIHdpbGwgYmUgcmV0dXJuZWQuXG4gIHZhciBnZXRBdHRyID0gZnVuY3Rpb24obW9kZWwsIGF0dHIsIGNvbmZpZywgY29udGV4dCkge1xuICAgIHZhciB2YWwsXG4gICAgICByZXRyaWV2ZVZhbCA9IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgICAgIHJldHVybiBtb2RlbFtjb25maWcuZXNjYXBlID8gJ2VzY2FwZScgOiAnZ2V0J10oZmllbGQpO1xuICAgICAgfSxcbiAgICAgIHNhbml0aXplVmFsID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHJldHVybiB2YWwgPT0gbnVsbCA/ICcnIDogdmFsO1xuICAgICAgfTtcbiAgICB2YWwgPSBfLmlzQXJyYXkoYXR0cikgPyBfLm1hcChhdHRyLCByZXRyaWV2ZVZhbCkgOiByZXRyaWV2ZVZhbChhdHRyKTtcbiAgICBpZiAoY29uZmlnLm9uR2V0KSB2YWwgPSBhcHBseVZpZXdGbihjb250ZXh0LCBjb25maWcub25HZXQsIHZhbCwgY29uZmlnKTtcbiAgICByZXR1cm4gXy5pc0FycmF5KHZhbCkgPyBfLm1hcCh2YWwsIHNhbml0aXplVmFsKSA6IHNhbml0aXplVmFsKHZhbCk7XG4gIH07XG5cbiAgLy8gRmluZCBoYW5kbGVycyBpbiBgQmFja2JvbmUuU3RpY2tpdC5faGFuZGxlcnNgIHdpdGggc2VsZWN0b3JzIHRoYXQgbWF0Y2hcbiAgLy8gYCRlbGAgYW5kIGdlbmVyYXRlIGEgY29uZmlndXJhdGlvbiBieSBtaXhpbmcgdGhlbSBpbiB0aGUgb3JkZXIgdGhhdCB0aGV5XG4gIC8vIHdlcmUgZm91bmQgd2l0aCB0aGUgZ2l2ZW4gYGJpbmRpbmdgLlxuICB2YXIgZ2V0Q29uZmlndXJhdGlvbiA9IFN0aWNraXQuZ2V0Q29uZmlndXJhdGlvbiA9IGZ1bmN0aW9uKCRlbCwgYmluZGluZykge1xuICAgIHZhciBoYW5kbGVycyA9IFt7XG4gICAgICB1cGRhdGVNb2RlbDogZmFsc2UsXG4gICAgICB1cGRhdGVNZXRob2Q6ICd0ZXh0JyxcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24oJGVsLCB2YWwsIG0sIG9wdHMpIHsgaWYgKCRlbFtvcHRzLnVwZGF0ZU1ldGhvZF0pICRlbFtvcHRzLnVwZGF0ZU1ldGhvZF0odmFsKTsgfSxcbiAgICAgIGdldFZhbDogZnVuY3Rpb24oJGVsLCBlLCBvcHRzKSB7IHJldHVybiAkZWxbb3B0cy51cGRhdGVNZXRob2RdKCk7IH1cbiAgICB9XTtcbiAgICBoYW5kbGVycyA9IGhhbmRsZXJzLmNvbmNhdChfLmZpbHRlcihTdGlja2l0Ll9oYW5kbGVycywgZnVuY3Rpb24oaGFuZGxlcikge1xuICAgICAgcmV0dXJuICRlbC5pcyhoYW5kbGVyLnNlbGVjdG9yKTtcbiAgICB9KSk7XG4gICAgaGFuZGxlcnMucHVzaChiaW5kaW5nKTtcbiAgICB2YXIgY29uZmlnID0gXy5leHRlbmQuYXBwbHkoXywgaGFuZGxlcnMpO1xuICAgIC8vIGB1cGRhdGVWaWV3YCBpcyBkZWZhdWx0ZWQgdG8gZmFsc2UgZm9yIGNvbmZpZ3V0cmF0aW9ucyB3aXRoXG4gICAgLy8gYHZpc2libGVgOyBvdGhlcndpc2UsIGB1cGRhdGVWaWV3YCBpcyBkZWZhdWx0ZWQgdG8gdHJ1ZS5cbiAgICBpZiAoY29uZmlnLnZpc2libGUgJiYgIV8uaGFzKGNvbmZpZywgJ3VwZGF0ZVZpZXcnKSkgY29uZmlnLnVwZGF0ZVZpZXcgPSBmYWxzZTtcbiAgICBlbHNlIGlmICghXy5oYXMoY29uZmlnLCAndXBkYXRlVmlldycpKSBjb25maWcudXBkYXRlVmlldyA9IHRydWU7XG4gICAgcmV0dXJuIGNvbmZpZztcbiAgfTtcblxuICAvLyBTZXR1cCB0aGUgYXR0cmlidXRlcyBjb25maWd1cmF0aW9uIC0gYSBsaXN0IHRoYXQgbWFwcyBhbiBhdHRyaWJ1dGUgb3JcbiAgLy8gcHJvcGVydHkgYG5hbWVgLCB0byBhbiBgb2JzZXJ2ZWBkIG1vZGVsIGF0dHJpYnV0ZSwgdXNpbmcgYW4gb3B0aW9uYWxcbiAgLy8gYG9uR2V0YCBmb3JtYXR0ZXIuXG4gIC8vXG4gIC8vICAgICBhdHRyaWJ1dGVzOiBbe1xuICAvLyAgICAgICBuYW1lOiAnYXR0cmlidXRlT3JQcm9wZXJ0eU5hbWUnLFxuICAvLyAgICAgICBvYnNlcnZlOiAnbW9kZWxBdHRyTmFtZSdcbiAgLy8gICAgICAgb25HZXQ6IGZ1bmN0aW9uKG1vZGVsQXR0clZhbCwgbW9kZWxBdHRyTmFtZSkgeyAuLi4gfVxuICAvLyAgICAgfSwgLi4uXVxuICAvL1xuICB2YXIgaW5pdGlhbGl6ZUF0dHJpYnV0ZXMgPSBmdW5jdGlvbih2aWV3LCAkZWwsIGNvbmZpZywgbW9kZWwsIG1vZGVsQXR0cikge1xuICAgIHZhciBwcm9wcyA9IFsnYXV0b2ZvY3VzJywgJ2F1dG9wbGF5JywgJ2FzeW5jJywgJ2NoZWNrZWQnLCAnY29udHJvbHMnLCAnZGVmZXInLCAnZGlzYWJsZWQnLCAnaGlkZGVuJywgJ2luZGV0ZXJtaW5hdGUnLCAnbG9vcCcsICdtdWx0aXBsZScsICdvcGVuJywgJ3JlYWRvbmx5JywgJ3JlcXVpcmVkJywgJ3Njb3BlZCcsICdzZWxlY3RlZCddO1xuXG4gICAgXy5lYWNoKGNvbmZpZy5hdHRyaWJ1dGVzIHx8IFtdLCBmdW5jdGlvbihhdHRyQ29uZmlnKSB7XG4gICAgICB2YXIgbGFzdENsYXNzID0gJycsIG9ic2VydmVkLCB1cGRhdGVBdHRyO1xuICAgICAgYXR0ckNvbmZpZyA9IF8uY2xvbmUoYXR0ckNvbmZpZyk7XG4gICAgICBvYnNlcnZlZCA9IGF0dHJDb25maWcub2JzZXJ2ZSB8fCAoYXR0ckNvbmZpZy5vYnNlcnZlID0gbW9kZWxBdHRyKSxcbiAgICAgIHVwZGF0ZUF0dHIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHVwZGF0ZVR5cGUgPSBfLmluZGV4T2YocHJvcHMsIGF0dHJDb25maWcubmFtZSwgdHJ1ZSkgPiAtMSA/ICdwcm9wJyA6ICdhdHRyJyxcbiAgICAgICAgICB2YWwgPSBnZXRBdHRyKG1vZGVsLCBvYnNlcnZlZCwgYXR0ckNvbmZpZywgdmlldyk7XG4gICAgICAgIC8vIElmIGl0IGlzIGEgY2xhc3MgdGhlbiB3ZSBuZWVkIHRvIHJlbW92ZSB0aGUgbGFzdCB2YWx1ZSBhbmQgYWRkIHRoZSBuZXcuXG4gICAgICAgIGlmIChhdHRyQ29uZmlnLm5hbWUgPT09ICdjbGFzcycpIHtcbiAgICAgICAgICAkZWwucmVtb3ZlQ2xhc3MobGFzdENsYXNzKS5hZGRDbGFzcyh2YWwpO1xuICAgICAgICAgIGxhc3RDbGFzcyA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlICRlbFt1cGRhdGVUeXBlXShhdHRyQ29uZmlnLm5hbWUsIHZhbCk7XG4gICAgICB9O1xuICAgICAgXy5lYWNoKF8uZmxhdHRlbihbb2JzZXJ2ZWRdKSwgZnVuY3Rpb24oYXR0cikge1xuICAgICAgICBvYnNlcnZlTW9kZWxFdmVudChtb2RlbCwgdmlldywgJ2NoYW5nZTonICsgYXR0ciwgY29uZmlnLCB1cGRhdGVBdHRyKTtcbiAgICAgIH0pO1xuICAgICAgdXBkYXRlQXR0cigpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIElmIGB2aXNpYmxlYCBpcyBjb25maWd1cmVkLCB0aGVuIHRoZSB2aWV3IGVsZW1lbnQgd2lsbCBiZSBzaG93bi9oaWRkZW5cbiAgLy8gYmFzZWQgb24gdGhlIHRydXRoaW5lc3Mgb2YgdGhlIG1vZGVsYXR0cidzIHZhbHVlIG9yIHRoZSByZXN1bHQgb2YgdGhlXG4gIC8vIGdpdmVuIGNhbGxiYWNrLiBJZiBhIGB2aXNpYmxlRm5gIGlzIGFsc28gc3VwcGxpZWQsIHRoZW4gdGhhdCBjYWxsYmFja1xuICAvLyB3aWxsIGJlIGV4ZWN1dGVkIHRvIG1hbnVhbGx5IGhhbmRsZSBzaG93aW5nL2hpZGluZyB0aGUgdmlldyBlbGVtZW50LlxuICAvL1xuICAvLyAgICAgb2JzZXJ2ZTogJ2lzUmlnaHQnLFxuICAvLyAgICAgdmlzaWJsZTogdHJ1ZSwgLy8gb3IgZnVuY3Rpb24odmFsLCBvcHRpb25zKSB7fVxuICAvLyAgICAgdmlzaWJsZUZuOiBmdW5jdGlvbigkZWwsIGlzVmlzaWJsZSwgb3B0aW9ucykge30gLy8gb3B0aW9uYWwgaGFuZGxlclxuICAvL1xuICB2YXIgaW5pdGlhbGl6ZVZpc2libGUgPSBmdW5jdGlvbih2aWV3LCAkZWwsIGNvbmZpZywgbW9kZWwsIG1vZGVsQXR0cikge1xuICAgIGlmIChjb25maWcudmlzaWJsZSA9PSBudWxsKSByZXR1cm47XG4gICAgdmFyIHZpc2libGVDYiA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHZpc2libGUgPSBjb25maWcudmlzaWJsZSxcbiAgICAgICAgICB2aXNpYmxlRm4gPSBjb25maWcudmlzaWJsZUZuLFxuICAgICAgICAgIHZhbCA9IGdldEF0dHIobW9kZWwsIG1vZGVsQXR0ciwgY29uZmlnLCB2aWV3KSxcbiAgICAgICAgICBpc1Zpc2libGUgPSAhIXZhbDtcbiAgICAgIC8vIElmIGB2aXNpYmxlYCBpcyBhIGZ1bmN0aW9uIHRoZW4gaXQgc2hvdWxkIHJldHVybiBhIGJvb2xlYW4gcmVzdWx0IHRvIHNob3cvaGlkZS5cbiAgICAgIGlmIChfLmlzRnVuY3Rpb24odmlzaWJsZSkgfHwgXy5pc1N0cmluZyh2aXNpYmxlKSkgaXNWaXNpYmxlID0gISFhcHBseVZpZXdGbih2aWV3LCB2aXNpYmxlLCB2YWwsIGNvbmZpZyk7XG4gICAgICAvLyBFaXRoZXIgdXNlIHRoZSBjdXN0b20gYHZpc2libGVGbmAsIGlmIHByb3ZpZGVkLCBvciBleGVjdXRlIHRoZSBzdGFuZGFyZCBzaG93L2hpZGUuXG4gICAgICBpZiAodmlzaWJsZUZuKSBhcHBseVZpZXdGbih2aWV3LCB2aXNpYmxlRm4sICRlbCwgaXNWaXNpYmxlLCBjb25maWcpO1xuICAgICAgZWxzZSB7XG4gICAgICAgICRlbC50b2dnbGUoaXNWaXNpYmxlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIF8uZWFjaChfLmZsYXR0ZW4oW21vZGVsQXR0cl0pLCBmdW5jdGlvbihhdHRyKSB7XG4gICAgICBvYnNlcnZlTW9kZWxFdmVudChtb2RlbCwgdmlldywgJ2NoYW5nZTonICsgYXR0ciwgY29uZmlnLCB2aXNpYmxlQ2IpO1xuICAgIH0pO1xuICAgIHZpc2libGVDYigpO1xuICB9O1xuXG4gIC8vIFVwZGF0ZSB0aGUgdmFsdWUgb2YgYCRlbGAgdXNpbmcgdGhlIGdpdmVuIGNvbmZpZ3VyYXRpb24gYW5kIHRyaWdnZXIgdGhlXG4gIC8vIGBhZnRlclVwZGF0ZWAgY2FsbGJhY2suIFRoaXMgYWN0aW9uIG1heSBiZSBibG9ja2VkIGJ5IGBjb25maWcudXBkYXRlVmlld2AuXG4gIC8vXG4gIC8vICAgICB1cGRhdGU6IGZ1bmN0aW9uKCRlbCwgdmFsLCBtb2RlbCwgb3B0aW9ucykge30sICAvLyBoYW5kbGVyIGZvciB1cGRhdGluZ1xuICAvLyAgICAgdXBkYXRlVmlldzogdHJ1ZSwgLy8gZGVmYXVsdHMgdG8gdHJ1ZVxuICAvLyAgICAgYWZ0ZXJVcGRhdGU6IGZ1bmN0aW9uKCRlbCwgdmFsLCBvcHRpb25zKSB7fSAvLyBvcHRpb25hbCBjYWxsYmFja1xuICAvL1xuICB2YXIgdXBkYXRlVmlld0JpbmRFbCA9IGZ1bmN0aW9uKHZpZXcsICRlbCwgY29uZmlnLCB2YWwsIG1vZGVsLCBpc0luaXRpYWxpemluZykge1xuICAgIGlmICghZXZhbHVhdGVCb29sZWFuKHZpZXcsIGNvbmZpZy51cGRhdGVWaWV3LCB2YWwsIGNvbmZpZykpIHJldHVybjtcbiAgICBhcHBseVZpZXdGbih2aWV3LCBjb25maWcudXBkYXRlLCAkZWwsIHZhbCwgbW9kZWwsIGNvbmZpZyk7XG4gICAgaWYgKCFpc0luaXRpYWxpemluZykgYXBwbHlWaWV3Rm4odmlldywgY29uZmlnLmFmdGVyVXBkYXRlLCAkZWwsIHZhbCwgY29uZmlnKTtcbiAgfTtcblxuICAvLyBEZWZhdWx0IEhhbmRsZXJzXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS1cblxuICBTdGlja2l0LmFkZEhhbmRsZXIoW3tcbiAgICBzZWxlY3RvcjogJ1tjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCJdJyxcbiAgICB1cGRhdGVNZXRob2Q6ICdodG1sJyxcbiAgICBldmVudHM6IFsnaW5wdXQnLCAnY2hhbmdlJ11cbiAgfSwge1xuICAgIHNlbGVjdG9yOiAnaW5wdXQnLFxuICAgIGV2ZW50czogWydwcm9wZXJ0eWNoYW5nZScsICdpbnB1dCcsICdjaGFuZ2UnXSxcbiAgICB1cGRhdGU6IGZ1bmN0aW9uKCRlbCwgdmFsKSB7ICRlbC52YWwodmFsKTsgfSxcbiAgICBnZXRWYWw6IGZ1bmN0aW9uKCRlbCkge1xuICAgICAgcmV0dXJuICRlbC52YWwoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBzZWxlY3RvcjogJ3RleHRhcmVhJyxcbiAgICBldmVudHM6IFsncHJvcGVydHljaGFuZ2UnLCAnaW5wdXQnLCAnY2hhbmdlJ10sXG4gICAgdXBkYXRlOiBmdW5jdGlvbigkZWwsIHZhbCkgeyAkZWwudmFsKHZhbCk7IH0sXG4gICAgZ2V0VmFsOiBmdW5jdGlvbigkZWwpIHsgcmV0dXJuICRlbC52YWwoKTsgfVxuICB9LCB7XG4gICAgc2VsZWN0b3I6ICdpbnB1dFt0eXBlPVwicmFkaW9cIl0nLFxuICAgIGV2ZW50czogWydjaGFuZ2UnXSxcbiAgICB1cGRhdGU6IGZ1bmN0aW9uKCRlbCwgdmFsKSB7XG4gICAgICAkZWwuZmlsdGVyKCdbdmFsdWU9XCInK3ZhbCsnXCJdJykucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuICAgIH0sXG4gICAgZ2V0VmFsOiBmdW5jdGlvbigkZWwpIHtcbiAgICAgIHJldHVybiAkZWwuZmlsdGVyKCc6Y2hlY2tlZCcpLnZhbCgpO1xuICAgIH1cbiAgfSwge1xuICAgIHNlbGVjdG9yOiAnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyxcbiAgICBldmVudHM6IFsnY2hhbmdlJ10sXG4gICAgdXBkYXRlOiBmdW5jdGlvbigkZWwsIHZhbCwgbW9kZWwsIG9wdGlvbnMpIHtcbiAgICAgIGlmICgkZWwubGVuZ3RoID4gMSkge1xuICAgICAgICAvLyBUaGVyZSBhcmUgbXVsdGlwbGUgY2hlY2tib3hlcyBzbyB3ZSBuZWVkIHRvIGdvIHRocm91Z2ggdGhlbSBhbmQgY2hlY2tcbiAgICAgICAgLy8gYW55IHRoYXQgaGF2ZSB2YWx1ZSBhdHRyaWJ1dGVzIHRoYXQgbWF0Y2ggd2hhdCdzIGluIHRoZSBhcnJheSBvZiBgdmFsYHMuXG4gICAgICAgIHZhbCB8fCAodmFsID0gW10pO1xuICAgICAgICAkZWwuZWFjaChmdW5jdGlvbihpLCBlbCkge1xuICAgICAgICAgIHZhciBjaGVja2JveCA9IEJhY2tib25lLiQoZWwpO1xuICAgICAgICAgIHZhciBjaGVja2VkID0gXy5jb250YWlucyh2YWwsIGNoZWNrYm94LnZhbCgpKTtcbiAgICAgICAgICBjaGVja2JveC5wcm9wKCdjaGVja2VkJywgY2hlY2tlZCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGNoZWNrZWQgPSBfLmlzQm9vbGVhbih2YWwpID8gdmFsIDogdmFsID09PSAkZWwudmFsKCk7XG4gICAgICAgICRlbC5wcm9wKCdjaGVja2VkJywgY2hlY2tlZCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXRWYWw6IGZ1bmN0aW9uKCRlbCkge1xuICAgICAgdmFyIHZhbDtcbiAgICAgIGlmICgkZWwubGVuZ3RoID4gMSkge1xuICAgICAgICB2YWwgPSBfLnJlZHVjZSgkZWwsIGZ1bmN0aW9uKG1lbW8sIGVsKSB7XG4gICAgICAgICAgdmFyIGNoZWNrYm94ID0gQmFja2JvbmUuJChlbCk7XG4gICAgICAgICAgaWYgKGNoZWNrYm94LnByb3AoJ2NoZWNrZWQnKSkgbWVtby5wdXNoKGNoZWNrYm94LnZhbCgpKTtcbiAgICAgICAgICByZXR1cm4gbWVtbztcbiAgICAgICAgfSwgW10pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsID0gJGVsLnByb3AoJ2NoZWNrZWQnKTtcbiAgICAgICAgLy8gSWYgdGhlIGNoZWNrYm94IGhhcyBhIHZhbHVlIGF0dHJpYnV0ZSBkZWZpbmVkLCB0aGVuXG4gICAgICAgIC8vIHVzZSB0aGF0IHZhbHVlLiBNb3N0IGJyb3dzZXJzIHVzZSBcIm9uXCIgYXMgYSBkZWZhdWx0LlxuICAgICAgICB2YXIgYm94dmFsID0gJGVsLnZhbCgpO1xuICAgICAgICBpZiAoYm94dmFsICE9PSAnb24nICYmIGJveHZhbCAhPSBudWxsKSB7XG4gICAgICAgICAgdmFsID0gdmFsID8gJGVsLnZhbCgpIDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gIH0sIHtcbiAgICBzZWxlY3RvcjogJ3NlbGVjdCcsXG4gICAgZXZlbnRzOiBbJ2NoYW5nZSddLFxuICAgIHVwZGF0ZTogZnVuY3Rpb24oJGVsLCB2YWwsIG1vZGVsLCBvcHRpb25zKSB7XG4gICAgICB2YXIgb3B0TGlzdCxcbiAgICAgICAgc2VsZWN0Q29uZmlnID0gb3B0aW9ucy5zZWxlY3RPcHRpb25zLFxuICAgICAgICBsaXN0ID0gc2VsZWN0Q29uZmlnICYmIHNlbGVjdENvbmZpZy5jb2xsZWN0aW9uIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgaXNNdWx0aXBsZSA9ICRlbC5wcm9wKCdtdWx0aXBsZScpO1xuXG4gICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gYHNlbGVjdE9wdGlvbnNgIHRoZW4gd2UgYXNzdW1lIHRoYXQgdGhlIGA8c2VsZWN0PmBcbiAgICAgIC8vIGlzIHByZS1yZW5kZXJlZCBhbmQgdGhhdCB3ZSBuZWVkIHRvIGdlbmVyYXRlIHRoZSBjb2xsZWN0aW9uLlxuICAgICAgaWYgKCFzZWxlY3RDb25maWcpIHtcbiAgICAgICAgc2VsZWN0Q29uZmlnID0ge307XG4gICAgICAgIHZhciBnZXRMaXN0ID0gZnVuY3Rpb24oJGVsKSB7XG4gICAgICAgICAgcmV0dXJuICRlbC5tYXAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbHVlOnRoaXMudmFsdWUsIGxhYmVsOnRoaXMudGV4dH07XG4gICAgICAgICAgfSkuZ2V0KCk7XG4gICAgICAgIH07XG4gICAgICAgIGlmICgkZWwuZmluZCgnb3B0Z3JvdXAnKS5sZW5ndGgpIHtcbiAgICAgICAgICBsaXN0ID0ge29wdF9sYWJlbHM6W119O1xuICAgICAgICAgIC8vIFNlYXJjaCBmb3Igb3B0aW9ucyB3aXRob3V0IG9wdGdyb3VwXG4gICAgICAgICAgaWYgKCRlbC5maW5kKCc+IG9wdGlvbicpLmxlbmd0aCkge1xuICAgICAgICAgICAgbGlzdC5vcHRfbGFiZWxzLnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgICAgIF8uZWFjaCgkZWwuZmluZCgnPiBvcHRpb24nKSwgZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgICAgbGlzdFt1bmRlZmluZWRdID0gZ2V0TGlzdChCYWNrYm9uZS4kKGVsKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXy5lYWNoKCRlbC5maW5kKCdvcHRncm91cCcpLCBmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgdmFyIGxhYmVsID0gQmFja2JvbmUuJChlbCkuYXR0cignbGFiZWwnKTtcbiAgICAgICAgICAgIGxpc3Qub3B0X2xhYmVscy5wdXNoKGxhYmVsKTtcbiAgICAgICAgICAgIGxpc3RbbGFiZWxdID0gZ2V0TGlzdChCYWNrYm9uZS4kKGVsKS5maW5kKCdvcHRpb24nKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGlzdCA9IGdldExpc3QoJGVsLmZpbmQoJ29wdGlvbicpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBGaWxsIGluIGRlZmF1bHQgbGFiZWwgYW5kIHBhdGggdmFsdWVzLlxuICAgICAgc2VsZWN0Q29uZmlnLnZhbHVlUGF0aCA9IHNlbGVjdENvbmZpZy52YWx1ZVBhdGggfHwgJ3ZhbHVlJztcbiAgICAgIHNlbGVjdENvbmZpZy5sYWJlbFBhdGggPSBzZWxlY3RDb25maWcubGFiZWxQYXRoIHx8ICdsYWJlbCc7XG5cbiAgICAgIHZhciBhZGRTZWxlY3RPcHRpb25zID0gZnVuY3Rpb24ob3B0TGlzdCwgJGVsLCBmaWVsZFZhbCkge1xuICAgICAgICBfLmVhY2gob3B0TGlzdCwgZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgdmFyIG9wdGlvbiA9IEJhY2tib25lLiQoJzxvcHRpb24vPicpLCBvcHRpb25WYWwgPSBvYmo7XG5cbiAgICAgICAgICB2YXIgZmlsbE9wdGlvbiA9IGZ1bmN0aW9uKHRleHQsIHZhbCkge1xuICAgICAgICAgICAgb3B0aW9uLnRleHQodGV4dCk7XG4gICAgICAgICAgICBvcHRpb25WYWwgPSB2YWw7XG4gICAgICAgICAgICAvLyBTYXZlIHRoZSBvcHRpb24gdmFsdWUgYXMgZGF0YSBzbyB0aGF0IHdlIGNhbiByZWZlcmVuY2UgaXQgbGF0ZXIuXG4gICAgICAgICAgICBvcHRpb24uZGF0YSgnc3RpY2tpdF9iaW5kX3ZhbCcsIG9wdGlvblZhbCk7XG4gICAgICAgICAgICBpZiAoIV8uaXNBcnJheShvcHRpb25WYWwpICYmICFfLmlzT2JqZWN0KG9wdGlvblZhbCkpIG9wdGlvbi52YWwob3B0aW9uVmFsKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgaWYgKG9iaiA9PT0gJ19fZGVmYXVsdF9fJylcbiAgICAgICAgICAgIGZpbGxPcHRpb24oc2VsZWN0Q29uZmlnLmRlZmF1bHRPcHRpb24ubGFiZWwsIHNlbGVjdENvbmZpZy5kZWZhdWx0T3B0aW9uLnZhbHVlKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBmaWxsT3B0aW9uKGV2YWx1YXRlUGF0aChvYmosIHNlbGVjdENvbmZpZy5sYWJlbFBhdGgpLCBldmFsdWF0ZVBhdGgob2JqLCBzZWxlY3RDb25maWcudmFsdWVQYXRoKSk7XG5cbiAgICAgICAgICAvLyBEZXRlcm1pbmUgaWYgdGhpcyBvcHRpb24gaXMgc2VsZWN0ZWQuXG4gICAgICAgICAgaWYgKCFpc011bHRpcGxlICYmIG9wdGlvblZhbCAhPSBudWxsICYmIGZpZWxkVmFsICE9IG51bGwgJiYgb3B0aW9uVmFsID09PSBmaWVsZFZhbCB8fCAoXy5pc09iamVjdChmaWVsZFZhbCkgJiYgXy5pc0VxdWFsKG9wdGlvblZhbCwgZmllbGRWYWwpKSlcbiAgICAgICAgICAgIG9wdGlvbi5wcm9wKCdzZWxlY3RlZCcsIHRydWUpO1xuICAgICAgICAgIGVsc2UgaWYgKGlzTXVsdGlwbGUgJiYgXy5pc0FycmF5KGZpZWxkVmFsKSkge1xuICAgICAgICAgICAgXy5lYWNoKGZpZWxkVmFsLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgaWYgKF8uaXNPYmplY3QodmFsKSkgdmFsID0gZXZhbHVhdGVQYXRoKHZhbCwgc2VsZWN0Q29uZmlnLnZhbHVlUGF0aCk7XG4gICAgICAgICAgICAgIGlmICh2YWwgPT09IG9wdGlvblZhbCB8fCAoXy5pc09iamVjdCh2YWwpICYmIF8uaXNFcXVhbChvcHRpb25WYWwsIHZhbCkpKVxuICAgICAgICAgICAgICAgIG9wdGlvbi5wcm9wKCdzZWxlY3RlZCcsIHRydWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgJGVsLmFwcGVuZChvcHRpb24pO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgICRlbC5maW5kKCcqJykucmVtb3ZlKCk7XG5cbiAgICAgIC8vIFRoZSBgbGlzdGAgY29uZmlndXJhdGlvbiBpcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgb3B0aW9ucyBsaXN0IG9yIGEgc3RyaW5nXG4gICAgICAvLyB3aGljaCByZXByZXNlbnRzIHRoZSBwYXRoIHRvIHRoZSBsaXN0IHJlbGF0aXZlIHRvIGB3aW5kb3dgIG9yIHRoZSB2aWV3L2B0aGlzYC5cbiAgICAgIHZhciBldmFsdWF0ZSA9IGZ1bmN0aW9uKHZpZXcsIGxpc3QpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB3aW5kb3c7XG4gICAgICAgIGlmIChsaXN0LmluZGV4T2YoJ3RoaXMuJykgPT09IDApIGNvbnRleHQgPSB2aWV3O1xuICAgICAgICBsaXN0ID0gbGlzdC5yZXBsYWNlKC9eW2Etel0qXFwuKC4rKSQvLCAnJDEnKTtcbiAgICAgICAgcmV0dXJuIGV2YWx1YXRlUGF0aChjb250ZXh0LCBsaXN0KTtcbiAgICAgIH07XG4gICAgICBpZiAoXy5pc1N0cmluZyhsaXN0KSkgb3B0TGlzdCA9IGV2YWx1YXRlKHRoaXMsIGxpc3QpO1xuICAgICAgZWxzZSBpZiAoXy5pc0Z1bmN0aW9uKGxpc3QpKSBvcHRMaXN0ID0gYXBwbHlWaWV3Rm4odGhpcywgbGlzdCwgJGVsLCBvcHRpb25zKTtcbiAgICAgIGVsc2Ugb3B0TGlzdCA9IGxpc3Q7XG5cbiAgICAgIC8vIFN1cHBvcnQgQmFja2JvbmUuQ29sbGVjdGlvbiBhbmQgZGVzZXJpYWxpemUuXG4gICAgICBpZiAob3B0TGlzdCBpbnN0YW5jZW9mIEJhY2tib25lLkNvbGxlY3Rpb24pIG9wdExpc3QgPSBvcHRMaXN0LnRvSlNPTigpO1xuXG4gICAgICBpZiAoc2VsZWN0Q29uZmlnLmRlZmF1bHRPcHRpb24pIHtcbiAgICAgICAgYWRkU2VsZWN0T3B0aW9ucyhbXCJfX2RlZmF1bHRfX1wiXSwgJGVsKTtcbiAgICAgIH1cblxuICAgICAgaWYgKF8uaXNBcnJheShvcHRMaXN0KSkge1xuICAgICAgICBhZGRTZWxlY3RPcHRpb25zKG9wdExpc3QsICRlbCwgdmFsKTtcbiAgICAgIH0gZWxzZSBpZiAob3B0TGlzdC5vcHRfbGFiZWxzKSB7XG4gICAgICAgIC8vIFRvIGRlZmluZSBhIHNlbGVjdCB3aXRoIG9wdGdyb3VwcywgZm9ybWF0IHNlbGVjdE9wdGlvbnMuY29sbGVjdGlvbiBhcyBhbiBvYmplY3RcbiAgICAgICAgLy8gd2l0aCBhbiAnb3B0X2xhYmVscycgcHJvcGVydHksIGFzIGluIHRoZSBmb2xsb3dpbmc6XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICB7XG4gICAgICAgIC8vICAgICAgICdvcHRfbGFiZWxzJzogWydMb29uZXkgVHVuZXMnLCAnVGhyZWUgU3Rvb2dlcyddLFxuICAgICAgICAvLyAgICAgICAnTG9vbmV5IFR1bmVzJzogW3tpZDogMSwgbmFtZTogJ0J1Z3MgQnVubnknfSwge2lkOiAyLCBuYW1lOiAnRG9uYWxkIER1Y2snfV0sXG4gICAgICAgIC8vICAgICAgICdUaHJlZSBTdG9vZ2VzJzogW3tpZDogMywgbmFtZSA6ICdtb2UnfSwge2lkOiA0LCBuYW1lIDogJ2xhcnJ5J30sIHtpZDogNSwgbmFtZSA6ICdjdXJseSd9XVxuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvL1xuICAgICAgICBfLmVhY2gob3B0TGlzdC5vcHRfbGFiZWxzLCBmdW5jdGlvbihsYWJlbCkge1xuICAgICAgICAgIHZhciAkZ3JvdXAgPSBCYWNrYm9uZS4kKCc8b3B0Z3JvdXAvPicpLmF0dHIoJ2xhYmVsJywgbGFiZWwpO1xuICAgICAgICAgIGFkZFNlbGVjdE9wdGlvbnMob3B0TGlzdFtsYWJlbF0sICRncm91cCwgdmFsKTtcbiAgICAgICAgICAkZWwuYXBwZW5kKCRncm91cCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBXaXRoIG5vICdvcHRfbGFiZWxzJyBwYXJhbWV0ZXIsIHRoZSBvYmplY3QgaXMgYXNzdW1lZCB0byBiZSBhIHNpbXBsZSB2YWx1ZS1sYWJlbCBtYXAuXG4gICAgICAgIC8vIFBhc3MgYSBzZWxlY3RPcHRpb25zLmNvbXBhcmF0b3IgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgb3JkZXIgb2YgYWxwaGFiZXRpY2FsIGJ5IGxhYmVsLlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG9wdHMgPSBbXSwgb3B0O1xuICAgICAgICBmb3IgKHZhciBpIGluIG9wdExpc3QpIHtcbiAgICAgICAgICBvcHQgPSB7fTtcbiAgICAgICAgICBvcHRbc2VsZWN0Q29uZmlnLnZhbHVlUGF0aF0gPSBpO1xuICAgICAgICAgIG9wdFtzZWxlY3RDb25maWcubGFiZWxQYXRoXSA9IG9wdExpc3RbaV07XG4gICAgICAgICAgb3B0cy5wdXNoKG9wdCk7XG4gICAgICAgIH1cbiAgICAgICAgYWRkU2VsZWN0T3B0aW9ucyhfLnNvcnRCeShvcHRzLCBzZWxlY3RDb25maWcuY29tcGFyYXRvciB8fCBzZWxlY3RDb25maWcubGFiZWxQYXRoKSwgJGVsLCB2YWwpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0VmFsOiBmdW5jdGlvbigkZWwpIHtcbiAgICAgIHZhciB2YWw7XG4gICAgICBpZiAoJGVsLnByb3AoJ211bHRpcGxlJykpIHtcbiAgICAgICAgdmFsID0gQmFja2JvbmUuJChnZXRTZWxlY3RlZE9wdGlvbigkZWwpLm1hcChmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gQmFja2JvbmUuJCh0aGlzKS5kYXRhKCdzdGlja2l0X2JpbmRfdmFsJyk7XG4gICAgICAgIH0pKS5nZXQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbCA9IGdldFNlbGVjdGVkT3B0aW9uKCRlbCkuZGF0YSgnc3RpY2tpdF9iaW5kX3ZhbCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gIH1dKTtcblxuXG4gIC8vIEV4cG9ydCBvbnRvIEJhY2tib25lIG9iamVjdFxuICBCYWNrYm9uZS5TdGlja2l0ID0gU3RpY2tpdDtcblxuICByZXR1cm4gQmFja2JvbmUuU3RpY2tpdDtcblxufSkpO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFja2JvbmUuc3RpY2tpdC9iYWNrYm9uZS5zdGlja2l0LmpzXG4gKiogbW9kdWxlIGlkID0gMThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAyXG4gKiovXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjazovLy8uL34vYmFja2JvbmUuc3RpY2tpdC9iYWNrYm9uZS5zdGlja2l0LmpzPzRkYzhcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiIxOC5qcyJ9");

/***/ },
/* 19 */,
/* 20 */,
/* 21 */
/*!*************************************!*\
  !*** ./~/lib/config/application.js ***!
  \*************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 9);\n\nvar Application = bb.Marionette.Application.extend({\n  // Polyfill for:\n  // https://github.com/marionettejs/backbone.marionette/pull/1723\n  constructor: function() {\n    bb.Marionette.Application.apply(this, arguments);\n    this.initialize.apply(this, arguments);\n  }\n});\n\nmodule.exports = Application;\nPOS.attach('Application', Application);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjazovLy8uL34vbGliL2NvbmZpZy9hcHBsaWNhdGlvbi5qcz8yNGZiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYmIgPSByZXF1aXJlKCdiYWNrYm9uZScpO1xudmFyIFBPUyA9IHJlcXVpcmUoJ2xpYi91dGlsaXRpZXMvZ2xvYmFsJyk7XG5cbnZhciBBcHBsaWNhdGlvbiA9IGJiLk1hcmlvbmV0dGUuQXBwbGljYXRpb24uZXh0ZW5kKHtcbiAgLy8gUG9seWZpbGwgZm9yOlxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWFyaW9uZXR0ZWpzL2JhY2tib25lLm1hcmlvbmV0dGUvcHVsbC8xNzIzXG4gIGNvbnN0cnVjdG9yOiBmdW5jdGlvbigpIHtcbiAgICBiYi5NYXJpb25ldHRlLkFwcGxpY2F0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFwcGxpY2F0aW9uO1xuUE9TLmF0dGFjaCgnQXBwbGljYXRpb24nLCBBcHBsaWNhdGlvbik7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbGliL2NvbmZpZy9hcHBsaWNhdGlvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDIxXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMlxuICoqL1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvYXBwbGljYXRpb24uanM/MmM5N1xuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjIxLmpzIn0=");

/***/ },
/* 22 */,
/* 23 */,
/* 24 */
/*!***************************************************************!*\
  !*** ./~/backbone-validation/dist/backbone-validation-amd.js ***!
  \***************************************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("// Backbone.Validation v0.9.1\n//\n// Copyright (c) 2011-2014 Thomas Pedersen\n// Distributed under MIT License\n//\n// Documentation and full license available at:\n// http://thedersen.com/projects/backbone-validation\n(function (factory) {\n  if (true) {\n    module.exports = factory(__webpack_require__(/*! backbone */ 2), __webpack_require__(/*! underscore */ 1));\n  } else if (typeof define === 'function' && define.amd) {\n    define(['backbone', 'underscore'], factory);\n  }\n}(function (Backbone, _) {\n  Backbone.Validation = (function(_){\n    'use strict';\n  \n    // Default options\n    // ---------------\n  \n    var defaultOptions = {\n      forceUpdate: false,\n      selector: 'name',\n      labelFormatter: 'sentenceCase',\n      valid: Function.prototype,\n      invalid: Function.prototype\n    };\n  \n  \n    // Helper functions\n    // ----------------\n  \n    // Formatting functions used for formatting error messages\n    var formatFunctions = {\n      // Uses the configured label formatter to format the attribute name\n      // to make it more readable for the user\n      formatLabel: function(attrName, model) {\n        return defaultLabelFormatters[defaultOptions.labelFormatter](attrName, model);\n      },\n  \n      // Replaces nummeric placeholders like {0} in a string with arguments\n      // passed to the function\n      format: function() {\n        var args = Array.prototype.slice.call(arguments),\n            text = args.shift();\n        return text.replace(/\\{(\\d+)\\}/g, function(match, number) {\n          return typeof args[number] !== 'undefined' ? args[number] : match;\n        });\n      }\n    };\n  \n    // Flattens an object\n    // eg:\n    //\n    //     var o = {\n    //       address: {\n    //         street: 'Street',\n    //         zip: 1234\n    //       }\n    //     };\n    //\n    // becomes:\n    //\n    //     var o = {\n    //       'address.street': 'Street',\n    //       'address.zip': 1234\n    //     };\n    var flatten = function (obj, into, prefix) {\n      into = into || {};\n      prefix = prefix || '';\n  \n      _.each(obj, function(val, key) {\n        if(obj.hasOwnProperty(key)) {\n          if (val && typeof val === 'object' && !(\n            val instanceof Array ||\n            val instanceof Date ||\n            val instanceof RegExp ||\n            val instanceof Backbone.Model ||\n            val instanceof Backbone.Collection)\n          ) {\n            flatten(val, into, prefix + key + '.');\n          }\n          else {\n            into[prefix + key] = val;\n          }\n        }\n      });\n  \n      return into;\n    };\n  \n    // Validation\n    // ----------\n  \n    var Validation = (function(){\n  \n      // Returns an object with undefined properties for all\n      // attributes on the model that has defined one or more\n      // validation rules.\n      var getValidatedAttrs = function(model) {\n        return _.reduce(_.keys(_.result(model, 'validation') || {}), function(memo, key) {\n          memo[key] = void 0;\n          return memo;\n        }, {});\n      };\n  \n      // Looks on the model for validations for a specified\n      // attribute. Returns an array of any validators defined,\n      // or an empty array if none is defined.\n      var getValidators = function(model, attr) {\n        var attrValidationSet = model.validation ? _.result(model, 'validation')[attr] || {} : {};\n  \n        // If the validator is a function or a string, wrap it in a function validator\n        if (_.isFunction(attrValidationSet) || _.isString(attrValidationSet)) {\n          attrValidationSet = {\n            fn: attrValidationSet\n          };\n        }\n  \n        // Stick the validator object into an array\n        if(!_.isArray(attrValidationSet)) {\n          attrValidationSet = [attrValidationSet];\n        }\n  \n        // Reduces the array of validators into a new array with objects\n        // with a validation method to call, the value to validate against\n        // and the specified error message, if any\n        return _.reduce(attrValidationSet, function(memo, attrValidation) {\n          _.each(_.without(_.keys(attrValidation), 'msg'), function(validator) {\n            memo.push({\n              fn: defaultValidators[validator],\n              val: attrValidation[validator],\n              msg: attrValidation.msg\n            });\n          });\n          return memo;\n        }, []);\n      };\n  \n      // Validates an attribute against all validators defined\n      // for that attribute. If one or more errors are found,\n      // the first error message is returned.\n      // If the attribute is valid, an empty string is returned.\n      var validateAttr = function(model, attr, value, computed) {\n        // Reduces the array of validators to an error message by\n        // applying all the validators and returning the first error\n        // message, if any.\n        return _.reduce(getValidators(model, attr), function(memo, validator){\n          // Pass the format functions plus the default\n          // validators as the context to the validator\n          var ctx = _.extend({}, formatFunctions, defaultValidators),\n              result = validator.fn.call(ctx, value, attr, validator.val, model, computed);\n  \n          if(result === false || memo === false) {\n            return false;\n          }\n          if (result && !memo) {\n            return _.result(validator, 'msg') || result;\n          }\n          return memo;\n        }, '');\n      };\n  \n      // Loops through the model's attributes and validates them all.\n      // Returns and object containing names of invalid attributes\n      // as well as error messages.\n      var validateModel = function(model, attrs) {\n        var error,\n            invalidAttrs = {},\n            isValid = true,\n            computed = _.clone(attrs),\n            flattened = flatten(attrs);\n  \n        _.each(flattened, function(val, attr) {\n          error = validateAttr(model, attr, val, computed);\n          if (error) {\n            invalidAttrs[attr] = error;\n            isValid = false;\n          }\n        });\n  \n        return {\n          invalidAttrs: invalidAttrs,\n          isValid: isValid\n        };\n      };\n  \n      // Contains the methods that are mixed in on the model when binding\n      var mixin = function(view, options) {\n        return {\n  \n          // Check whether or not a value, or a hash of values\n          // passes validation without updating the model\n          preValidate: function(attr, value) {\n            var self = this,\n                result = {},\n                error;\n  \n            if(_.isObject(attr)){\n              _.each(attr, function(value, key) {\n                error = self.preValidate(key, value);\n                if(error){\n                  result[key] = error;\n                }\n              });\n  \n              return _.isEmpty(result) ? undefined : result;\n            }\n            else {\n              return validateAttr(this, attr, value, _.extend({}, this.attributes));\n            }\n          },\n  \n          // Check to see if an attribute, an array of attributes or the\n          // entire model is valid. Passing true will force a validation\n          // of the model.\n          isValid: function(option) {\n            var flattened = flatten(this.attributes);\n  \n            if(_.isString(option)){\n              return !validateAttr(this, option, flattened[option], _.extend({}, this.attributes));\n            }\n            if(_.isArray(option)){\n              return _.reduce(option, function(memo, attr) {\n                return memo && !validateAttr(this, attr, flattened[attr], _.extend({}, this.attributes));\n              }, true, this);\n            }\n            if(option === true) {\n              this.validate();\n            }\n            return this.validation ? this._isValid : true;\n          },\n  \n          // This is called by Backbone when it needs to perform validation.\n          // You can call it manually without any parameters to validate the\n          // entire model.\n          validate: function(attrs, setOptions){\n            var model = this,\n                validateAll = !attrs,\n                opt = _.extend({}, options, setOptions),\n                validatedAttrs = getValidatedAttrs(model),\n                allAttrs = _.extend({}, validatedAttrs, model.attributes, attrs),\n                changedAttrs = flatten(attrs || allAttrs),\n  \n                result = validateModel(model, allAttrs);\n  \n            model._isValid = result.isValid;\n  \n            // After validation is performed, loop through all validated attributes\n            // and call the valid callbacks so the view is updated.\n            _.each(validatedAttrs, function(val, attr){\n              var invalid = result.invalidAttrs.hasOwnProperty(attr);\n              if(!invalid){\n                opt.valid(view, attr, opt.selector);\n              }\n            });\n  \n            // After validation is performed, loop through all validated and changed attributes\n            // and call the invalid callback so the view is updated.\n            _.each(validatedAttrs, function(val, attr){\n              var invalid = result.invalidAttrs.hasOwnProperty(attr),\n                  changed = changedAttrs.hasOwnProperty(attr);\n  \n              if(invalid && (changed || validateAll)){\n                opt.invalid(view, attr, result.invalidAttrs[attr], opt.selector);\n              }\n            });\n  \n            // Trigger validated events.\n            // Need to defer this so the model is actually updated before\n            // the event is triggered.\n            _.defer(function() {\n              model.trigger('validated', model._isValid, model, result.invalidAttrs);\n              model.trigger('validated:' + (model._isValid ? 'valid' : 'invalid'), model, result.invalidAttrs);\n            });\n  \n            // Return any error messages to Backbone, unless the forceUpdate flag is set.\n            // Then we do not return anything and fools Backbone to believe the validation was\n            // a success. That way Backbone will update the model regardless.\n            if (!opt.forceUpdate && _.intersection(_.keys(result.invalidAttrs), _.keys(changedAttrs)).length > 0) {\n              return result.invalidAttrs;\n            }\n          }\n        };\n      };\n  \n      // Helper to mix in validation on a model\n      var bindModel = function(view, model, options) {\n        _.extend(model, mixin(view, options));\n      };\n  \n      // Removes the methods added to a model\n      var unbindModel = function(model) {\n        delete model.validate;\n        delete model.preValidate;\n        delete model.isValid;\n      };\n  \n      // Mix in validation on a model whenever a model is\n      // added to a collection\n      var collectionAdd = function(model) {\n        bindModel(this.view, model, this.options);\n      };\n  \n      // Remove validation from a model whenever a model is\n      // removed from a collection\n      var collectionRemove = function(model) {\n        unbindModel(model);\n      };\n  \n      // Returns the public methods on Backbone.Validation\n      return {\n  \n        // Current version of the library\n        version: '0.9.1',\n  \n        // Called to configure the default options\n        configure: function(options) {\n          _.extend(defaultOptions, options);\n        },\n  \n        // Hooks up validation on a view with a model\n        // or collection\n        bind: function(view, options) {\n          options = _.extend({}, defaultOptions, defaultCallbacks, options);\n  \n          var model = options.model || view.model,\n              collection = options.collection || view.collection;\n  \n          if(typeof model === 'undefined' && typeof collection === 'undefined'){\n            throw 'Before you execute the binding your view must have a model or a collection.\\n' +\n                  'See http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information.';\n          }\n  \n          if(model) {\n            bindModel(view, model, options);\n          }\n          else if(collection) {\n            collection.each(function(model){\n              bindModel(view, model, options);\n            });\n            collection.bind('add', collectionAdd, {view: view, options: options});\n            collection.bind('remove', collectionRemove);\n          }\n        },\n  \n        // Removes validation from a view with a model\n        // or collection\n        unbind: function(view, options) {\n          options = _.extend({}, options);\n          var model = options.model || view.model,\n              collection = options.collection || view.collection;\n  \n          if(model) {\n            unbindModel(model);\n          }\n          else if(collection) {\n            collection.each(function(model){\n              unbindModel(model);\n            });\n            collection.unbind('add', collectionAdd);\n            collection.unbind('remove', collectionRemove);\n          }\n        },\n  \n        // Used to extend the Backbone.Model.prototype\n        // with validation\n        mixin: mixin(null, defaultOptions)\n      };\n    }());\n  \n  \n    // Callbacks\n    // ---------\n  \n    var defaultCallbacks = Validation.callbacks = {\n  \n      // Gets called when a previously invalid field in the\n      // view becomes valid. Removes any error message.\n      // Should be overridden with custom functionality.\n      valid: function(view, attr, selector) {\n        view.$('[' + selector + '~=\"' + attr + '\"]')\n            .removeClass('invalid')\n            .removeAttr('data-error');\n      },\n  \n      // Gets called when a field in the view becomes invalid.\n      // Adds a error message.\n      // Should be overridden with custom functionality.\n      invalid: function(view, attr, error, selector) {\n        view.$('[' + selector + '~=\"' + attr + '\"]')\n            .addClass('invalid')\n            .attr('data-error', error);\n      }\n    };\n  \n  \n    // Patterns\n    // --------\n  \n    var defaultPatterns = Validation.patterns = {\n      // Matches any digit(s) (i.e. 0-9)\n      digits: /^\\d+$/,\n  \n      // Matches any number (e.g. 100.000)\n      number: /^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)(?:\\.\\d+)?$/,\n  \n      // Matches a valid email address (e.g. mail@example.com)\n      email: /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i,\n  \n      // Mathes any valid url (e.g. http://www.xample.com)\n      url: /^(https?|ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i\n    };\n  \n  \n    // Error messages\n    // --------------\n  \n    // Error message for the build in validators.\n    // {x} gets swapped out with arguments form the validator.\n    var defaultMessages = Validation.messages = {\n      required: '{0} is required',\n      acceptance: '{0} must be accepted',\n      min: '{0} must be greater than or equal to {1}',\n      max: '{0} must be less than or equal to {1}',\n      range: '{0} must be between {1} and {2}',\n      length: '{0} must be {1} characters',\n      minLength: '{0} must be at least {1} characters',\n      maxLength: '{0} must be at most {1} characters',\n      rangeLength: '{0} must be between {1} and {2} characters',\n      oneOf: '{0} must be one of: {1}',\n      equalTo: '{0} must be the same as {1}',\n      digits: '{0} must only contain digits',\n      number: '{0} must be a number',\n      email: '{0} must be a valid email',\n      url: '{0} must be a valid url',\n      inlinePattern: '{0} is invalid'\n    };\n  \n    // Label formatters\n    // ----------------\n  \n    // Label formatters are used to convert the attribute name\n    // to a more human friendly label when using the built in\n    // error messages.\n    // Configure which one to use with a call to\n    //\n    //     Backbone.Validation.configure({\n    //       labelFormatter: 'label'\n    //     });\n    var defaultLabelFormatters = Validation.labelFormatters = {\n  \n      // Returns the attribute name with applying any formatting\n      none: function(attrName) {\n        return attrName;\n      },\n  \n      // Converts attributeName or attribute_name to Attribute name\n      sentenceCase: function(attrName) {\n        return attrName.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, function(match, index) {\n          return index === 0 ? match.toUpperCase() : ' ' + match.toLowerCase();\n        }).replace(/_/g, ' ');\n      },\n  \n      // Looks for a label configured on the model and returns it\n      //\n      //      var Model = Backbone.Model.extend({\n      //        validation: {\n      //          someAttribute: {\n      //            required: true\n      //          }\n      //        },\n      //\n      //        labels: {\n      //          someAttribute: 'Custom label'\n      //        }\n      //      });\n      label: function(attrName, model) {\n        return (model.labels && model.labels[attrName]) || defaultLabelFormatters.sentenceCase(attrName, model);\n      }\n    };\n  \n  \n    // Built in validators\n    // -------------------\n  \n    var defaultValidators = Validation.validators = (function(){\n      // Use native trim when defined\n      var trim = String.prototype.trim ?\n        function(text) {\n          return text === null ? '' : String.prototype.trim.call(text);\n        } :\n        function(text) {\n          var trimLeft = /^\\s+/,\n              trimRight = /\\s+$/;\n  \n          return text === null ? '' : text.toString().replace(trimLeft, '').replace(trimRight, '');\n        };\n  \n      // Determines whether or not a value is a number\n      var isNumber = function(value){\n        return _.isNumber(value) || (_.isString(value) && value.match(defaultPatterns.number));\n      };\n  \n      // Determines whether or not a value is empty\n      var hasValue = function(value) {\n        return !(_.isNull(value) || _.isUndefined(value) || (_.isString(value) && trim(value) === '') || (_.isArray(value) && _.isEmpty(value)));\n      };\n  \n      return {\n        // Function validator\n        // Lets you implement a custom function used for validation\n        fn: function(value, attr, fn, model, computed) {\n          if(_.isString(fn)){\n            fn = model[fn];\n          }\n          return fn.call(model, value, attr, computed);\n        },\n  \n        // Required validator\n        // Validates if the attribute is required or not\n        // This can be specified as either a boolean value or a function that returns a boolean value\n        required: function(value, attr, required, model, computed) {\n          var isRequired = _.isFunction(required) ? required.call(model, value, attr, computed) : required;\n          if(!isRequired && !hasValue(value)) {\n            return false; // overrides all other validators\n          }\n          if (isRequired && !hasValue(value)) {\n            return this.format(defaultMessages.required, this.formatLabel(attr, model));\n          }\n        },\n  \n        // Acceptance validator\n        // Validates that something has to be accepted, e.g. terms of use\n        // `true` or 'true' are valid\n        acceptance: function(value, attr, accept, model) {\n          if(value !== 'true' && (!_.isBoolean(value) || value === false)) {\n            return this.format(defaultMessages.acceptance, this.formatLabel(attr, model));\n          }\n        },\n  \n        // Min validator\n        // Validates that the value has to be a number and equal to or greater than\n        // the min value specified\n        min: function(value, attr, minValue, model) {\n          if (!isNumber(value) || value < minValue) {\n            return this.format(defaultMessages.min, this.formatLabel(attr, model), minValue);\n          }\n        },\n  \n        // Max validator\n        // Validates that the value has to be a number and equal to or less than\n        // the max value specified\n        max: function(value, attr, maxValue, model) {\n          if (!isNumber(value) || value > maxValue) {\n            return this.format(defaultMessages.max, this.formatLabel(attr, model), maxValue);\n          }\n        },\n  \n        // Range validator\n        // Validates that the value has to be a number and equal to or between\n        // the two numbers specified\n        range: function(value, attr, range, model) {\n          if(!isNumber(value) || value < range[0] || value > range[1]) {\n            return this.format(defaultMessages.range, this.formatLabel(attr, model), range[0], range[1]);\n          }\n        },\n  \n        // Length validator\n        // Validates that the value has to be a string with length equal to\n        // the length value specified\n        length: function(value, attr, length, model) {\n          if (!_.isString(value) || value.length !== length) {\n            return this.format(defaultMessages.length, this.formatLabel(attr, model), length);\n          }\n        },\n  \n        // Min length validator\n        // Validates that the value has to be a string with length equal to or greater than\n        // the min length value specified\n        minLength: function(value, attr, minLength, model) {\n          if (!_.isString(value) || value.length < minLength) {\n            return this.format(defaultMessages.minLength, this.formatLabel(attr, model), minLength);\n          }\n        },\n  \n        // Max length validator\n        // Validates that the value has to be a string with length equal to or less than\n        // the max length value specified\n        maxLength: function(value, attr, maxLength, model) {\n          if (!_.isString(value) || value.length > maxLength) {\n            return this.format(defaultMessages.maxLength, this.formatLabel(attr, model), maxLength);\n          }\n        },\n  \n        // Range length validator\n        // Validates that the value has to be a string and equal to or between\n        // the two numbers specified\n        rangeLength: function(value, attr, range, model) {\n          if (!_.isString(value) || value.length < range[0] || value.length > range[1]) {\n            return this.format(defaultMessages.rangeLength, this.formatLabel(attr, model), range[0], range[1]);\n          }\n        },\n  \n        // One of validator\n        // Validates that the value has to be equal to one of the elements in\n        // the specified array. Case sensitive matching\n        oneOf: function(value, attr, values, model) {\n          if(!_.include(values, value)){\n            return this.format(defaultMessages.oneOf, this.formatLabel(attr, model), values.join(', '));\n          }\n        },\n  \n        // Equal to validator\n        // Validates that the value has to be equal to the value of the attribute\n        // with the name specified\n        equalTo: function(value, attr, equalTo, model, computed) {\n          if(value !== computed[equalTo]) {\n            return this.format(defaultMessages.equalTo, this.formatLabel(attr, model), this.formatLabel(equalTo, model));\n          }\n        },\n  \n        // Pattern validator\n        // Validates that the value has to match the pattern specified.\n        // Can be a regular expression or the name of one of the built in patterns\n        pattern: function(value, attr, pattern, model) {\n          if (!hasValue(value) || !value.toString().match(defaultPatterns[pattern] || pattern)) {\n            return this.format(defaultMessages[pattern] || defaultMessages.inlinePattern, this.formatLabel(attr, model), pattern);\n          }\n        }\n      };\n    }());\n  \n    // Set the correct context for all validators\n    // when used from within a method validator\n    _.each(defaultValidators, function(validator, key){\n      defaultValidators[key] = _.bind(defaultValidators[key], _.extend({}, formatFunctions, defaultValidators));\n    });\n  \n    return Validation;\n  }(_));\n  return Backbone.Validation;\n}));//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjazovLy8uL34vYmFja2JvbmUtdmFsaWRhdGlvbi9kaXN0L2JhY2tib25lLXZhbGlkYXRpb24tYW1kLmpzP2VkNTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUCw4Q0FBOEMsRUFBRTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixPQUFPO0FBQ3RDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0U7QUFDbEU7QUFDQTtBQUNBLFNBQVMsSUFBSTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEZBQTRGOztBQUU1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9COztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTs7QUFFZjtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0U7QUFDaEU7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrRUFBK0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0EscUZBQXFGO0FBQ3JGLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQSxzQ0FBc0M7QUFDdEM7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjs7QUFFL0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsbURBQW1ELDZCQUE2QjtBQUNoRjtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7OztBQUdMO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0QkFBNEIsSUFBSSxPQUFPLEVBQUU7O0FBRXpDO0FBQ0EsbURBQW1ELEdBQUcsbUZBQW1GLEdBQUc7O0FBRTVJO0FBQ0EseUdBQXlHLEVBQUUsa0JBQWtCLGtyQkFBa3JCLEVBQUUsa0JBQWtCLG9GQUFvRixFQUFFLGtCQUFrQiwyRkFBMkYsRUFBRSxrQkFBa0IsOEdBQThHLEVBQUUsa0JBQWtCO0FBQzVwQzs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBLFFBQVEsRUFBRTtBQUNWO0FBQ0Esa0JBQWtCLEVBQUU7QUFDcEIsb0JBQW9CLEVBQUU7QUFDdEIsYUFBYSxFQUFFLG1DQUFtQyxFQUFFO0FBQ3BELGFBQWEsRUFBRSxnQ0FBZ0MsRUFBRTtBQUNqRCxlQUFlLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxFQUFFO0FBQzdDLGdCQUFnQixFQUFFLFVBQVUsRUFBRTtBQUM5QixtQkFBbUIsRUFBRSxtQkFBbUIsRUFBRTtBQUMxQyxtQkFBbUIsRUFBRSxrQkFBa0IsRUFBRTtBQUN6QyxxQkFBcUIsRUFBRSxrQkFBa0IsRUFBRSxNQUFNLEVBQUU7QUFDbkQsZUFBZSxFQUFFLGtCQUFrQixFQUFFO0FBQ3JDLGlCQUFpQixFQUFFLHNCQUFzQixFQUFFO0FBQzNDLGdCQUFnQixFQUFFO0FBQ2xCLGdCQUFnQixFQUFFO0FBQ2xCLGVBQWUsRUFBRTtBQUNqQixhQUFhLEVBQUU7QUFDZix1QkFBdUIsRUFBRTtBQUN6Qjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EseUVBQXlFO0FBQ3pFLEtBQUs7O0FBRUw7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQmFja2JvbmUuVmFsaWRhdGlvbiB2MC45LjFcbi8vXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTEtMjAxNCBUaG9tYXMgUGVkZXJzZW5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIE1JVCBMaWNlbnNlXG4vL1xuLy8gRG9jdW1lbnRhdGlvbiBhbmQgZnVsbCBsaWNlbnNlIGF2YWlsYWJsZSBhdDpcbi8vIGh0dHA6Ly90aGVkZXJzZW4uY29tL3Byb2plY3RzL2JhY2tib25lLXZhbGlkYXRpb25cbihmdW5jdGlvbiAoZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJ2JhY2tib25lJyksIHJlcXVpcmUoJ3VuZGVyc2NvcmUnKSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKFsnYmFja2JvbmUnLCAndW5kZXJzY29yZSddLCBmYWN0b3J5KTtcbiAgfVxufShmdW5jdGlvbiAoQmFja2JvbmUsIF8pIHtcbiAgQmFja2JvbmUuVmFsaWRhdGlvbiA9IChmdW5jdGlvbihfKXtcbiAgICAndXNlIHN0cmljdCc7XG4gIFxuICAgIC8vIERlZmF1bHQgb3B0aW9uc1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLVxuICBcbiAgICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICBmb3JjZVVwZGF0ZTogZmFsc2UsXG4gICAgICBzZWxlY3RvcjogJ25hbWUnLFxuICAgICAgbGFiZWxGb3JtYXR0ZXI6ICdzZW50ZW5jZUNhc2UnLFxuICAgICAgdmFsaWQ6IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICAgIGludmFsaWQ6IEZ1bmN0aW9uLnByb3RvdHlwZVxuICAgIH07XG4gIFxuICBcbiAgICAvLyBIZWxwZXIgZnVuY3Rpb25zXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLVxuICBcbiAgICAvLyBGb3JtYXR0aW5nIGZ1bmN0aW9ucyB1c2VkIGZvciBmb3JtYXR0aW5nIGVycm9yIG1lc3NhZ2VzXG4gICAgdmFyIGZvcm1hdEZ1bmN0aW9ucyA9IHtcbiAgICAgIC8vIFVzZXMgdGhlIGNvbmZpZ3VyZWQgbGFiZWwgZm9ybWF0dGVyIHRvIGZvcm1hdCB0aGUgYXR0cmlidXRlIG5hbWVcbiAgICAgIC8vIHRvIG1ha2UgaXQgbW9yZSByZWFkYWJsZSBmb3IgdGhlIHVzZXJcbiAgICAgIGZvcm1hdExhYmVsOiBmdW5jdGlvbihhdHRyTmFtZSwgbW9kZWwpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRMYWJlbEZvcm1hdHRlcnNbZGVmYXVsdE9wdGlvbnMubGFiZWxGb3JtYXR0ZXJdKGF0dHJOYW1lLCBtb2RlbCk7XG4gICAgICB9LFxuICBcbiAgICAgIC8vIFJlcGxhY2VzIG51bW1lcmljIHBsYWNlaG9sZGVycyBsaWtlIHswfSBpbiBhIHN0cmluZyB3aXRoIGFyZ3VtZW50c1xuICAgICAgLy8gcGFzc2VkIHRvIHRoZSBmdW5jdGlvblxuICAgICAgZm9ybWF0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLFxuICAgICAgICAgICAgdGV4dCA9IGFyZ3Muc2hpZnQoKTtcbiAgICAgICAgcmV0dXJuIHRleHQucmVwbGFjZSgvXFx7KFxcZCspXFx9L2csIGZ1bmN0aW9uKG1hdGNoLCBudW1iZXIpIHtcbiAgICAgICAgICByZXR1cm4gdHlwZW9mIGFyZ3NbbnVtYmVyXSAhPT0gJ3VuZGVmaW5lZCcgPyBhcmdzW251bWJlcl0gOiBtYXRjaDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgXG4gICAgLy8gRmxhdHRlbnMgYW4gb2JqZWN0XG4gICAgLy8gZWc6XG4gICAgLy9cbiAgICAvLyAgICAgdmFyIG8gPSB7XG4gICAgLy8gICAgICAgYWRkcmVzczoge1xuICAgIC8vICAgICAgICAgc3RyZWV0OiAnU3RyZWV0JyxcbiAgICAvLyAgICAgICAgIHppcDogMTIzNFxuICAgIC8vICAgICAgIH1cbiAgICAvLyAgICAgfTtcbiAgICAvL1xuICAgIC8vIGJlY29tZXM6XG4gICAgLy9cbiAgICAvLyAgICAgdmFyIG8gPSB7XG4gICAgLy8gICAgICAgJ2FkZHJlc3Muc3RyZWV0JzogJ1N0cmVldCcsXG4gICAgLy8gICAgICAgJ2FkZHJlc3MuemlwJzogMTIzNFxuICAgIC8vICAgICB9O1xuICAgIHZhciBmbGF0dGVuID0gZnVuY3Rpb24gKG9iaiwgaW50bywgcHJlZml4KSB7XG4gICAgICBpbnRvID0gaW50byB8fCB7fTtcbiAgICAgIHByZWZpeCA9IHByZWZpeCB8fCAnJztcbiAgXG4gICAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWwsIGtleSkge1xuICAgICAgICBpZihvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIGlmICh2YWwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgIShcbiAgICAgICAgICAgIHZhbCBpbnN0YW5jZW9mIEFycmF5IHx8XG4gICAgICAgICAgICB2YWwgaW5zdGFuY2VvZiBEYXRlIHx8XG4gICAgICAgICAgICB2YWwgaW5zdGFuY2VvZiBSZWdFeHAgfHxcbiAgICAgICAgICAgIHZhbCBpbnN0YW5jZW9mIEJhY2tib25lLk1vZGVsIHx8XG4gICAgICAgICAgICB2YWwgaW5zdGFuY2VvZiBCYWNrYm9uZS5Db2xsZWN0aW9uKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZmxhdHRlbih2YWwsIGludG8sIHByZWZpeCArIGtleSArICcuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW50b1twcmVmaXggKyBrZXldID0gdmFsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gIFxuICAgICAgcmV0dXJuIGludG87XG4gICAgfTtcbiAgXG4gICAgLy8gVmFsaWRhdGlvblxuICAgIC8vIC0tLS0tLS0tLS1cbiAgXG4gICAgdmFyIFZhbGlkYXRpb24gPSAoZnVuY3Rpb24oKXtcbiAgXG4gICAgICAvLyBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIHVuZGVmaW5lZCBwcm9wZXJ0aWVzIGZvciBhbGxcbiAgICAgIC8vIGF0dHJpYnV0ZXMgb24gdGhlIG1vZGVsIHRoYXQgaGFzIGRlZmluZWQgb25lIG9yIG1vcmVcbiAgICAgIC8vIHZhbGlkYXRpb24gcnVsZXMuXG4gICAgICB2YXIgZ2V0VmFsaWRhdGVkQXR0cnMgPSBmdW5jdGlvbihtb2RlbCkge1xuICAgICAgICByZXR1cm4gXy5yZWR1Y2UoXy5rZXlzKF8ucmVzdWx0KG1vZGVsLCAndmFsaWRhdGlvbicpIHx8IHt9KSwgZnVuY3Rpb24obWVtbywga2V5KSB7XG4gICAgICAgICAgbWVtb1trZXldID0gdm9pZCAwO1xuICAgICAgICAgIHJldHVybiBtZW1vO1xuICAgICAgICB9LCB7fSk7XG4gICAgICB9O1xuICBcbiAgICAgIC8vIExvb2tzIG9uIHRoZSBtb2RlbCBmb3IgdmFsaWRhdGlvbnMgZm9yIGEgc3BlY2lmaWVkXG4gICAgICAvLyBhdHRyaWJ1dGUuIFJldHVybnMgYW4gYXJyYXkgb2YgYW55IHZhbGlkYXRvcnMgZGVmaW5lZCxcbiAgICAgIC8vIG9yIGFuIGVtcHR5IGFycmF5IGlmIG5vbmUgaXMgZGVmaW5lZC5cbiAgICAgIHZhciBnZXRWYWxpZGF0b3JzID0gZnVuY3Rpb24obW9kZWwsIGF0dHIpIHtcbiAgICAgICAgdmFyIGF0dHJWYWxpZGF0aW9uU2V0ID0gbW9kZWwudmFsaWRhdGlvbiA/IF8ucmVzdWx0KG1vZGVsLCAndmFsaWRhdGlvbicpW2F0dHJdIHx8IHt9IDoge307XG4gIFxuICAgICAgICAvLyBJZiB0aGUgdmFsaWRhdG9yIGlzIGEgZnVuY3Rpb24gb3IgYSBzdHJpbmcsIHdyYXAgaXQgaW4gYSBmdW5jdGlvbiB2YWxpZGF0b3JcbiAgICAgICAgaWYgKF8uaXNGdW5jdGlvbihhdHRyVmFsaWRhdGlvblNldCkgfHwgXy5pc1N0cmluZyhhdHRyVmFsaWRhdGlvblNldCkpIHtcbiAgICAgICAgICBhdHRyVmFsaWRhdGlvblNldCA9IHtcbiAgICAgICAgICAgIGZuOiBhdHRyVmFsaWRhdGlvblNldFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC8vIFN0aWNrIHRoZSB2YWxpZGF0b3Igb2JqZWN0IGludG8gYW4gYXJyYXlcbiAgICAgICAgaWYoIV8uaXNBcnJheShhdHRyVmFsaWRhdGlvblNldCkpIHtcbiAgICAgICAgICBhdHRyVmFsaWRhdGlvblNldCA9IFthdHRyVmFsaWRhdGlvblNldF07XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC8vIFJlZHVjZXMgdGhlIGFycmF5IG9mIHZhbGlkYXRvcnMgaW50byBhIG5ldyBhcnJheSB3aXRoIG9iamVjdHNcbiAgICAgICAgLy8gd2l0aCBhIHZhbGlkYXRpb24gbWV0aG9kIHRvIGNhbGwsIHRoZSB2YWx1ZSB0byB2YWxpZGF0ZSBhZ2FpbnN0XG4gICAgICAgIC8vIGFuZCB0aGUgc3BlY2lmaWVkIGVycm9yIG1lc3NhZ2UsIGlmIGFueVxuICAgICAgICByZXR1cm4gXy5yZWR1Y2UoYXR0clZhbGlkYXRpb25TZXQsIGZ1bmN0aW9uKG1lbW8sIGF0dHJWYWxpZGF0aW9uKSB7XG4gICAgICAgICAgXy5lYWNoKF8ud2l0aG91dChfLmtleXMoYXR0clZhbGlkYXRpb24pLCAnbXNnJyksIGZ1bmN0aW9uKHZhbGlkYXRvcikge1xuICAgICAgICAgICAgbWVtby5wdXNoKHtcbiAgICAgICAgICAgICAgZm46IGRlZmF1bHRWYWxpZGF0b3JzW3ZhbGlkYXRvcl0sXG4gICAgICAgICAgICAgIHZhbDogYXR0clZhbGlkYXRpb25bdmFsaWRhdG9yXSxcbiAgICAgICAgICAgICAgbXNnOiBhdHRyVmFsaWRhdGlvbi5tc2dcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBtZW1vO1xuICAgICAgICB9LCBbXSk7XG4gICAgICB9O1xuICBcbiAgICAgIC8vIFZhbGlkYXRlcyBhbiBhdHRyaWJ1dGUgYWdhaW5zdCBhbGwgdmFsaWRhdG9ycyBkZWZpbmVkXG4gICAgICAvLyBmb3IgdGhhdCBhdHRyaWJ1dGUuIElmIG9uZSBvciBtb3JlIGVycm9ycyBhcmUgZm91bmQsXG4gICAgICAvLyB0aGUgZmlyc3QgZXJyb3IgbWVzc2FnZSBpcyByZXR1cm5lZC5cbiAgICAgIC8vIElmIHRoZSBhdHRyaWJ1dGUgaXMgdmFsaWQsIGFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZC5cbiAgICAgIHZhciB2YWxpZGF0ZUF0dHIgPSBmdW5jdGlvbihtb2RlbCwgYXR0ciwgdmFsdWUsIGNvbXB1dGVkKSB7XG4gICAgICAgIC8vIFJlZHVjZXMgdGhlIGFycmF5IG9mIHZhbGlkYXRvcnMgdG8gYW4gZXJyb3IgbWVzc2FnZSBieVxuICAgICAgICAvLyBhcHBseWluZyBhbGwgdGhlIHZhbGlkYXRvcnMgYW5kIHJldHVybmluZyB0aGUgZmlyc3QgZXJyb3JcbiAgICAgICAgLy8gbWVzc2FnZSwgaWYgYW55LlxuICAgICAgICByZXR1cm4gXy5yZWR1Y2UoZ2V0VmFsaWRhdG9ycyhtb2RlbCwgYXR0ciksIGZ1bmN0aW9uKG1lbW8sIHZhbGlkYXRvcil7XG4gICAgICAgICAgLy8gUGFzcyB0aGUgZm9ybWF0IGZ1bmN0aW9ucyBwbHVzIHRoZSBkZWZhdWx0XG4gICAgICAgICAgLy8gdmFsaWRhdG9ycyBhcyB0aGUgY29udGV4dCB0byB0aGUgdmFsaWRhdG9yXG4gICAgICAgICAgdmFyIGN0eCA9IF8uZXh0ZW5kKHt9LCBmb3JtYXRGdW5jdGlvbnMsIGRlZmF1bHRWYWxpZGF0b3JzKSxcbiAgICAgICAgICAgICAgcmVzdWx0ID0gdmFsaWRhdG9yLmZuLmNhbGwoY3R4LCB2YWx1ZSwgYXR0ciwgdmFsaWRhdG9yLnZhbCwgbW9kZWwsIGNvbXB1dGVkKTtcbiAgXG4gICAgICAgICAgaWYocmVzdWx0ID09PSBmYWxzZSB8fCBtZW1vID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmVzdWx0ICYmICFtZW1vKSB7XG4gICAgICAgICAgICByZXR1cm4gXy5yZXN1bHQodmFsaWRhdG9yLCAnbXNnJykgfHwgcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbWVtbztcbiAgICAgICAgfSwgJycpO1xuICAgICAgfTtcbiAgXG4gICAgICAvLyBMb29wcyB0aHJvdWdoIHRoZSBtb2RlbCdzIGF0dHJpYnV0ZXMgYW5kIHZhbGlkYXRlcyB0aGVtIGFsbC5cbiAgICAgIC8vIFJldHVybnMgYW5kIG9iamVjdCBjb250YWluaW5nIG5hbWVzIG9mIGludmFsaWQgYXR0cmlidXRlc1xuICAgICAgLy8gYXMgd2VsbCBhcyBlcnJvciBtZXNzYWdlcy5cbiAgICAgIHZhciB2YWxpZGF0ZU1vZGVsID0gZnVuY3Rpb24obW9kZWwsIGF0dHJzKSB7XG4gICAgICAgIHZhciBlcnJvcixcbiAgICAgICAgICAgIGludmFsaWRBdHRycyA9IHt9LFxuICAgICAgICAgICAgaXNWYWxpZCA9IHRydWUsXG4gICAgICAgICAgICBjb21wdXRlZCA9IF8uY2xvbmUoYXR0cnMpLFxuICAgICAgICAgICAgZmxhdHRlbmVkID0gZmxhdHRlbihhdHRycyk7XG4gIFxuICAgICAgICBfLmVhY2goZmxhdHRlbmVkLCBmdW5jdGlvbih2YWwsIGF0dHIpIHtcbiAgICAgICAgICBlcnJvciA9IHZhbGlkYXRlQXR0cihtb2RlbCwgYXR0ciwgdmFsLCBjb21wdXRlZCk7XG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICBpbnZhbGlkQXR0cnNbYXR0cl0gPSBlcnJvcjtcbiAgICAgICAgICAgIGlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICBcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpbnZhbGlkQXR0cnM6IGludmFsaWRBdHRycyxcbiAgICAgICAgICBpc1ZhbGlkOiBpc1ZhbGlkXG4gICAgICAgIH07XG4gICAgICB9O1xuICBcbiAgICAgIC8vIENvbnRhaW5zIHRoZSBtZXRob2RzIHRoYXQgYXJlIG1peGVkIGluIG9uIHRoZSBtb2RlbCB3aGVuIGJpbmRpbmdcbiAgICAgIHZhciBtaXhpbiA9IGZ1bmN0aW9uKHZpZXcsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgXG4gICAgICAgICAgLy8gQ2hlY2sgd2hldGhlciBvciBub3QgYSB2YWx1ZSwgb3IgYSBoYXNoIG9mIHZhbHVlc1xuICAgICAgICAgIC8vIHBhc3NlcyB2YWxpZGF0aW9uIHdpdGhvdXQgdXBkYXRpbmcgdGhlIG1vZGVsXG4gICAgICAgICAgcHJlVmFsaWRhdGU6IGZ1bmN0aW9uKGF0dHIsIHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0ge30sXG4gICAgICAgICAgICAgICAgZXJyb3I7XG4gIFxuICAgICAgICAgICAgaWYoXy5pc09iamVjdChhdHRyKSl7XG4gICAgICAgICAgICAgIF8uZWFjaChhdHRyLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICAgICAgZXJyb3IgPSBzZWxmLnByZVZhbGlkYXRlKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmKGVycm9yKXtcbiAgICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgXG4gICAgICAgICAgICAgIHJldHVybiBfLmlzRW1wdHkocmVzdWx0KSA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gdmFsaWRhdGVBdHRyKHRoaXMsIGF0dHIsIHZhbHVlLCBfLmV4dGVuZCh7fSwgdGhpcy5hdHRyaWJ1dGVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgXG4gICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIGFuIGF0dHJpYnV0ZSwgYW4gYXJyYXkgb2YgYXR0cmlidXRlcyBvciB0aGVcbiAgICAgICAgICAvLyBlbnRpcmUgbW9kZWwgaXMgdmFsaWQuIFBhc3NpbmcgdHJ1ZSB3aWxsIGZvcmNlIGEgdmFsaWRhdGlvblxuICAgICAgICAgIC8vIG9mIHRoZSBtb2RlbC5cbiAgICAgICAgICBpc1ZhbGlkOiBmdW5jdGlvbihvcHRpb24pIHtcbiAgICAgICAgICAgIHZhciBmbGF0dGVuZWQgPSBmbGF0dGVuKHRoaXMuYXR0cmlidXRlcyk7XG4gIFxuICAgICAgICAgICAgaWYoXy5pc1N0cmluZyhvcHRpb24pKXtcbiAgICAgICAgICAgICAgcmV0dXJuICF2YWxpZGF0ZUF0dHIodGhpcywgb3B0aW9uLCBmbGF0dGVuZWRbb3B0aW9uXSwgXy5leHRlbmQoe30sIHRoaXMuYXR0cmlidXRlcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoXy5pc0FycmF5KG9wdGlvbikpe1xuICAgICAgICAgICAgICByZXR1cm4gXy5yZWR1Y2Uob3B0aW9uLCBmdW5jdGlvbihtZW1vLCBhdHRyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lbW8gJiYgIXZhbGlkYXRlQXR0cih0aGlzLCBhdHRyLCBmbGF0dGVuZWRbYXR0cl0sIF8uZXh0ZW5kKHt9LCB0aGlzLmF0dHJpYnV0ZXMpKTtcbiAgICAgICAgICAgICAgfSwgdHJ1ZSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihvcHRpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdGlvbiA/IHRoaXMuX2lzVmFsaWQgOiB0cnVlO1xuICAgICAgICAgIH0sXG4gIFxuICAgICAgICAgIC8vIFRoaXMgaXMgY2FsbGVkIGJ5IEJhY2tib25lIHdoZW4gaXQgbmVlZHMgdG8gcGVyZm9ybSB2YWxpZGF0aW9uLlxuICAgICAgICAgIC8vIFlvdSBjYW4gY2FsbCBpdCBtYW51YWxseSB3aXRob3V0IGFueSBwYXJhbWV0ZXJzIHRvIHZhbGlkYXRlIHRoZVxuICAgICAgICAgIC8vIGVudGlyZSBtb2RlbC5cbiAgICAgICAgICB2YWxpZGF0ZTogZnVuY3Rpb24oYXR0cnMsIHNldE9wdGlvbnMpe1xuICAgICAgICAgICAgdmFyIG1vZGVsID0gdGhpcyxcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZUFsbCA9ICFhdHRycyxcbiAgICAgICAgICAgICAgICBvcHQgPSBfLmV4dGVuZCh7fSwgb3B0aW9ucywgc2V0T3B0aW9ucyksXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVkQXR0cnMgPSBnZXRWYWxpZGF0ZWRBdHRycyhtb2RlbCksXG4gICAgICAgICAgICAgICAgYWxsQXR0cnMgPSBfLmV4dGVuZCh7fSwgdmFsaWRhdGVkQXR0cnMsIG1vZGVsLmF0dHJpYnV0ZXMsIGF0dHJzKSxcbiAgICAgICAgICAgICAgICBjaGFuZ2VkQXR0cnMgPSBmbGF0dGVuKGF0dHJzIHx8IGFsbEF0dHJzKSxcbiAgXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdmFsaWRhdGVNb2RlbChtb2RlbCwgYWxsQXR0cnMpO1xuICBcbiAgICAgICAgICAgIG1vZGVsLl9pc1ZhbGlkID0gcmVzdWx0LmlzVmFsaWQ7XG4gIFxuICAgICAgICAgICAgLy8gQWZ0ZXIgdmFsaWRhdGlvbiBpcyBwZXJmb3JtZWQsIGxvb3AgdGhyb3VnaCBhbGwgdmFsaWRhdGVkIGF0dHJpYnV0ZXNcbiAgICAgICAgICAgIC8vIGFuZCBjYWxsIHRoZSB2YWxpZCBjYWxsYmFja3Mgc28gdGhlIHZpZXcgaXMgdXBkYXRlZC5cbiAgICAgICAgICAgIF8uZWFjaCh2YWxpZGF0ZWRBdHRycywgZnVuY3Rpb24odmFsLCBhdHRyKXtcbiAgICAgICAgICAgICAgdmFyIGludmFsaWQgPSByZXN1bHQuaW52YWxpZEF0dHJzLmhhc093blByb3BlcnR5KGF0dHIpO1xuICAgICAgICAgICAgICBpZighaW52YWxpZCl7XG4gICAgICAgICAgICAgICAgb3B0LnZhbGlkKHZpZXcsIGF0dHIsIG9wdC5zZWxlY3Rvcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICBcbiAgICAgICAgICAgIC8vIEFmdGVyIHZhbGlkYXRpb24gaXMgcGVyZm9ybWVkLCBsb29wIHRocm91Z2ggYWxsIHZhbGlkYXRlZCBhbmQgY2hhbmdlZCBhdHRyaWJ1dGVzXG4gICAgICAgICAgICAvLyBhbmQgY2FsbCB0aGUgaW52YWxpZCBjYWxsYmFjayBzbyB0aGUgdmlldyBpcyB1cGRhdGVkLlxuICAgICAgICAgICAgXy5lYWNoKHZhbGlkYXRlZEF0dHJzLCBmdW5jdGlvbih2YWwsIGF0dHIpe1xuICAgICAgICAgICAgICB2YXIgaW52YWxpZCA9IHJlc3VsdC5pbnZhbGlkQXR0cnMuaGFzT3duUHJvcGVydHkoYXR0ciksXG4gICAgICAgICAgICAgICAgICBjaGFuZ2VkID0gY2hhbmdlZEF0dHJzLmhhc093blByb3BlcnR5KGF0dHIpO1xuICBcbiAgICAgICAgICAgICAgaWYoaW52YWxpZCAmJiAoY2hhbmdlZCB8fCB2YWxpZGF0ZUFsbCkpe1xuICAgICAgICAgICAgICAgIG9wdC5pbnZhbGlkKHZpZXcsIGF0dHIsIHJlc3VsdC5pbnZhbGlkQXR0cnNbYXR0cl0sIG9wdC5zZWxlY3Rvcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICBcbiAgICAgICAgICAgIC8vIFRyaWdnZXIgdmFsaWRhdGVkIGV2ZW50cy5cbiAgICAgICAgICAgIC8vIE5lZWQgdG8gZGVmZXIgdGhpcyBzbyB0aGUgbW9kZWwgaXMgYWN0dWFsbHkgdXBkYXRlZCBiZWZvcmVcbiAgICAgICAgICAgIC8vIHRoZSBldmVudCBpcyB0cmlnZ2VyZWQuXG4gICAgICAgICAgICBfLmRlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBtb2RlbC50cmlnZ2VyKCd2YWxpZGF0ZWQnLCBtb2RlbC5faXNWYWxpZCwgbW9kZWwsIHJlc3VsdC5pbnZhbGlkQXR0cnMpO1xuICAgICAgICAgICAgICBtb2RlbC50cmlnZ2VyKCd2YWxpZGF0ZWQ6JyArIChtb2RlbC5faXNWYWxpZCA/ICd2YWxpZCcgOiAnaW52YWxpZCcpLCBtb2RlbCwgcmVzdWx0LmludmFsaWRBdHRycyk7XG4gICAgICAgICAgICB9KTtcbiAgXG4gICAgICAgICAgICAvLyBSZXR1cm4gYW55IGVycm9yIG1lc3NhZ2VzIHRvIEJhY2tib25lLCB1bmxlc3MgdGhlIGZvcmNlVXBkYXRlIGZsYWcgaXMgc2V0LlxuICAgICAgICAgICAgLy8gVGhlbiB3ZSBkbyBub3QgcmV0dXJuIGFueXRoaW5nIGFuZCBmb29scyBCYWNrYm9uZSB0byBiZWxpZXZlIHRoZSB2YWxpZGF0aW9uIHdhc1xuICAgICAgICAgICAgLy8gYSBzdWNjZXNzLiBUaGF0IHdheSBCYWNrYm9uZSB3aWxsIHVwZGF0ZSB0aGUgbW9kZWwgcmVnYXJkbGVzcy5cbiAgICAgICAgICAgIGlmICghb3B0LmZvcmNlVXBkYXRlICYmIF8uaW50ZXJzZWN0aW9uKF8ua2V5cyhyZXN1bHQuaW52YWxpZEF0dHJzKSwgXy5rZXlzKGNoYW5nZWRBdHRycykpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5pbnZhbGlkQXR0cnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfTtcbiAgXG4gICAgICAvLyBIZWxwZXIgdG8gbWl4IGluIHZhbGlkYXRpb24gb24gYSBtb2RlbFxuICAgICAgdmFyIGJpbmRNb2RlbCA9IGZ1bmN0aW9uKHZpZXcsIG1vZGVsLCBvcHRpb25zKSB7XG4gICAgICAgIF8uZXh0ZW5kKG1vZGVsLCBtaXhpbih2aWV3LCBvcHRpb25zKSk7XG4gICAgICB9O1xuICBcbiAgICAgIC8vIFJlbW92ZXMgdGhlIG1ldGhvZHMgYWRkZWQgdG8gYSBtb2RlbFxuICAgICAgdmFyIHVuYmluZE1vZGVsID0gZnVuY3Rpb24obW9kZWwpIHtcbiAgICAgICAgZGVsZXRlIG1vZGVsLnZhbGlkYXRlO1xuICAgICAgICBkZWxldGUgbW9kZWwucHJlVmFsaWRhdGU7XG4gICAgICAgIGRlbGV0ZSBtb2RlbC5pc1ZhbGlkO1xuICAgICAgfTtcbiAgXG4gICAgICAvLyBNaXggaW4gdmFsaWRhdGlvbiBvbiBhIG1vZGVsIHdoZW5ldmVyIGEgbW9kZWwgaXNcbiAgICAgIC8vIGFkZGVkIHRvIGEgY29sbGVjdGlvblxuICAgICAgdmFyIGNvbGxlY3Rpb25BZGQgPSBmdW5jdGlvbihtb2RlbCkge1xuICAgICAgICBiaW5kTW9kZWwodGhpcy52aWV3LCBtb2RlbCwgdGhpcy5vcHRpb25zKTtcbiAgICAgIH07XG4gIFxuICAgICAgLy8gUmVtb3ZlIHZhbGlkYXRpb24gZnJvbSBhIG1vZGVsIHdoZW5ldmVyIGEgbW9kZWwgaXNcbiAgICAgIC8vIHJlbW92ZWQgZnJvbSBhIGNvbGxlY3Rpb25cbiAgICAgIHZhciBjb2xsZWN0aW9uUmVtb3ZlID0gZnVuY3Rpb24obW9kZWwpIHtcbiAgICAgICAgdW5iaW5kTW9kZWwobW9kZWwpO1xuICAgICAgfTtcbiAgXG4gICAgICAvLyBSZXR1cm5zIHRoZSBwdWJsaWMgbWV0aG9kcyBvbiBCYWNrYm9uZS5WYWxpZGF0aW9uXG4gICAgICByZXR1cm4ge1xuICBcbiAgICAgICAgLy8gQ3VycmVudCB2ZXJzaW9uIG9mIHRoZSBsaWJyYXJ5XG4gICAgICAgIHZlcnNpb246ICcwLjkuMScsXG4gIFxuICAgICAgICAvLyBDYWxsZWQgdG8gY29uZmlndXJlIHRoZSBkZWZhdWx0IG9wdGlvbnNcbiAgICAgICAgY29uZmlndXJlOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgICAgXy5leHRlbmQoZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICB9LFxuICBcbiAgICAgICAgLy8gSG9va3MgdXAgdmFsaWRhdGlvbiBvbiBhIHZpZXcgd2l0aCBhIG1vZGVsXG4gICAgICAgIC8vIG9yIGNvbGxlY3Rpb25cbiAgICAgICAgYmluZDogZnVuY3Rpb24odmlldywgb3B0aW9ucykge1xuICAgICAgICAgIG9wdGlvbnMgPSBfLmV4dGVuZCh7fSwgZGVmYXVsdE9wdGlvbnMsIGRlZmF1bHRDYWxsYmFja3MsIG9wdGlvbnMpO1xuICBcbiAgICAgICAgICB2YXIgbW9kZWwgPSBvcHRpb25zLm1vZGVsIHx8IHZpZXcubW9kZWwsXG4gICAgICAgICAgICAgIGNvbGxlY3Rpb24gPSBvcHRpb25zLmNvbGxlY3Rpb24gfHwgdmlldy5jb2xsZWN0aW9uO1xuICBcbiAgICAgICAgICBpZih0eXBlb2YgbW9kZWwgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb2xsZWN0aW9uID09PSAndW5kZWZpbmVkJyl7XG4gICAgICAgICAgICB0aHJvdyAnQmVmb3JlIHlvdSBleGVjdXRlIHRoZSBiaW5kaW5nIHlvdXIgdmlldyBtdXN0IGhhdmUgYSBtb2RlbCBvciBhIGNvbGxlY3Rpb24uXFxuJyArXG4gICAgICAgICAgICAgICAgICAnU2VlIGh0dHA6Ly90aGVkZXJzZW4uY29tL3Byb2plY3RzL2JhY2tib25lLXZhbGlkYXRpb24vI3VzaW5nLWZvcm0tbW9kZWwtdmFsaWRhdGlvbiBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nO1xuICAgICAgICAgIH1cbiAgXG4gICAgICAgICAgaWYobW9kZWwpIHtcbiAgICAgICAgICAgIGJpbmRNb2RlbCh2aWV3LCBtb2RlbCwgb3B0aW9ucyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYoY29sbGVjdGlvbikge1xuICAgICAgICAgICAgY29sbGVjdGlvbi5lYWNoKGZ1bmN0aW9uKG1vZGVsKXtcbiAgICAgICAgICAgICAgYmluZE1vZGVsKHZpZXcsIG1vZGVsLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29sbGVjdGlvbi5iaW5kKCdhZGQnLCBjb2xsZWN0aW9uQWRkLCB7dmlldzogdmlldywgb3B0aW9uczogb3B0aW9uc30pO1xuICAgICAgICAgICAgY29sbGVjdGlvbi5iaW5kKCdyZW1vdmUnLCBjb2xsZWN0aW9uUmVtb3ZlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gIFxuICAgICAgICAvLyBSZW1vdmVzIHZhbGlkYXRpb24gZnJvbSBhIHZpZXcgd2l0aCBhIG1vZGVsXG4gICAgICAgIC8vIG9yIGNvbGxlY3Rpb25cbiAgICAgICAgdW5iaW5kOiBmdW5jdGlvbih2aWV3LCBvcHRpb25zKSB7XG4gICAgICAgICAgb3B0aW9ucyA9IF8uZXh0ZW5kKHt9LCBvcHRpb25zKTtcbiAgICAgICAgICB2YXIgbW9kZWwgPSBvcHRpb25zLm1vZGVsIHx8IHZpZXcubW9kZWwsXG4gICAgICAgICAgICAgIGNvbGxlY3Rpb24gPSBvcHRpb25zLmNvbGxlY3Rpb24gfHwgdmlldy5jb2xsZWN0aW9uO1xuICBcbiAgICAgICAgICBpZihtb2RlbCkge1xuICAgICAgICAgICAgdW5iaW5kTW9kZWwobW9kZWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmKGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgIGNvbGxlY3Rpb24uZWFjaChmdW5jdGlvbihtb2RlbCl7XG4gICAgICAgICAgICAgIHVuYmluZE1vZGVsKG1vZGVsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29sbGVjdGlvbi51bmJpbmQoJ2FkZCcsIGNvbGxlY3Rpb25BZGQpO1xuICAgICAgICAgICAgY29sbGVjdGlvbi51bmJpbmQoJ3JlbW92ZScsIGNvbGxlY3Rpb25SZW1vdmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgXG4gICAgICAgIC8vIFVzZWQgdG8gZXh0ZW5kIHRoZSBCYWNrYm9uZS5Nb2RlbC5wcm90b3R5cGVcbiAgICAgICAgLy8gd2l0aCB2YWxpZGF0aW9uXG4gICAgICAgIG1peGluOiBtaXhpbihudWxsLCBkZWZhdWx0T3B0aW9ucylcbiAgICAgIH07XG4gICAgfSgpKTtcbiAgXG4gIFxuICAgIC8vIENhbGxiYWNrc1xuICAgIC8vIC0tLS0tLS0tLVxuICBcbiAgICB2YXIgZGVmYXVsdENhbGxiYWNrcyA9IFZhbGlkYXRpb24uY2FsbGJhY2tzID0ge1xuICBcbiAgICAgIC8vIEdldHMgY2FsbGVkIHdoZW4gYSBwcmV2aW91c2x5IGludmFsaWQgZmllbGQgaW4gdGhlXG4gICAgICAvLyB2aWV3IGJlY29tZXMgdmFsaWQuIFJlbW92ZXMgYW55IGVycm9yIG1lc3NhZ2UuXG4gICAgICAvLyBTaG91bGQgYmUgb3ZlcnJpZGRlbiB3aXRoIGN1c3RvbSBmdW5jdGlvbmFsaXR5LlxuICAgICAgdmFsaWQ6IGZ1bmN0aW9uKHZpZXcsIGF0dHIsIHNlbGVjdG9yKSB7XG4gICAgICAgIHZpZXcuJCgnWycgKyBzZWxlY3RvciArICd+PVwiJyArIGF0dHIgKyAnXCJdJylcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnaW52YWxpZCcpXG4gICAgICAgICAgICAucmVtb3ZlQXR0cignZGF0YS1lcnJvcicpO1xuICAgICAgfSxcbiAgXG4gICAgICAvLyBHZXRzIGNhbGxlZCB3aGVuIGEgZmllbGQgaW4gdGhlIHZpZXcgYmVjb21lcyBpbnZhbGlkLlxuICAgICAgLy8gQWRkcyBhIGVycm9yIG1lc3NhZ2UuXG4gICAgICAvLyBTaG91bGQgYmUgb3ZlcnJpZGRlbiB3aXRoIGN1c3RvbSBmdW5jdGlvbmFsaXR5LlxuICAgICAgaW52YWxpZDogZnVuY3Rpb24odmlldywgYXR0ciwgZXJyb3IsIHNlbGVjdG9yKSB7XG4gICAgICAgIHZpZXcuJCgnWycgKyBzZWxlY3RvciArICd+PVwiJyArIGF0dHIgKyAnXCJdJylcbiAgICAgICAgICAgIC5hZGRDbGFzcygnaW52YWxpZCcpXG4gICAgICAgICAgICAuYXR0cignZGF0YS1lcnJvcicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9O1xuICBcbiAgXG4gICAgLy8gUGF0dGVybnNcbiAgICAvLyAtLS0tLS0tLVxuICBcbiAgICB2YXIgZGVmYXVsdFBhdHRlcm5zID0gVmFsaWRhdGlvbi5wYXR0ZXJucyA9IHtcbiAgICAgIC8vIE1hdGNoZXMgYW55IGRpZ2l0KHMpIChpLmUuIDAtOSlcbiAgICAgIGRpZ2l0czogL15cXGQrJC8sXG4gIFxuICAgICAgLy8gTWF0Y2hlcyBhbnkgbnVtYmVyIChlLmcuIDEwMC4wMDApXG4gICAgICBudW1iZXI6IC9eLT8oPzpcXGQrfFxcZHsxLDN9KD86LFxcZHszfSkrKSg/OlxcLlxcZCspPyQvLFxuICBcbiAgICAgIC8vIE1hdGNoZXMgYSB2YWxpZCBlbWFpbCBhZGRyZXNzIChlLmcuIG1haWxAZXhhbXBsZS5jb20pXG4gICAgICBlbWFpbDogL14oKChbYS16XXxcXGR8WyEjXFwkJSYnXFwqXFwrXFwtXFwvPVxcP1xcXl9ge1xcfH1+XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkrKFxcLihbYS16XXxcXGR8WyEjXFwkJSYnXFwqXFwrXFwtXFwvPVxcP1xcXl9ge1xcfH1+XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkrKSopfCgoXFx4MjIpKCgoKFxceDIwfFxceDA5KSooXFx4MGRcXHgwYSkpPyhcXHgyMHxcXHgwOSkrKT8oKFtcXHgwMS1cXHgwOFxceDBiXFx4MGNcXHgwZS1cXHgxZlxceDdmXXxcXHgyMXxbXFx4MjMtXFx4NWJdfFtcXHg1ZC1cXHg3ZV18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfChcXFxcKFtcXHgwMS1cXHgwOVxceDBiXFx4MGNcXHgwZC1cXHg3Zl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSkpKigoKFxceDIwfFxceDA5KSooXFx4MGRcXHgwYSkpPyhcXHgyMHxcXHgwOSkrKT8oXFx4MjIpKSlAKCgoW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkqKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKVxcLikrKChbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KChbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkqKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpJC9pLFxuICBcbiAgICAgIC8vIE1hdGhlcyBhbnkgdmFsaWQgdXJsIChlLmcuIGh0dHA6Ly93d3cueGFtcGxlLmNvbSlcbiAgICAgIHVybDogL14oaHR0cHM/fGZ0cCk6XFwvXFwvKCgoKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCglW1xcZGEtZl17Mn0pfFshXFwkJidcXChcXClcXCpcXCssOz1dfDopKkApPygoKFxcZHxbMS05XVxcZHwxXFxkXFxkfDJbMC00XVxcZHwyNVswLTVdKVxcLihcXGR8WzEtOV1cXGR8MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSlcXC4oXFxkfFsxLTldXFxkfDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKFxcZHxbMS05XVxcZHwxXFxkXFxkfDJbMC00XVxcZHwyNVswLTVdKSl8KCgoW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkqKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKVxcLikrKChbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KChbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkqKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpXFwuPykoOlxcZCopPykoXFwvKCgoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KCVbXFxkYS1mXXsyfSl8WyFcXCQmJ1xcKFxcKVxcKlxcKyw7PV18OnxAKSsoXFwvKChbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoJVtcXGRhLWZdezJ9KXxbIVxcJCYnXFwoXFwpXFwqXFwrLDs9XXw6fEApKikqKT8pPyhcXD8oKChbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoJVtcXGRhLWZdezJ9KXxbIVxcJCYnXFwoXFwpXFwqXFwrLDs9XXw6fEApfFtcXHVFMDAwLVxcdUY4RkZdfFxcL3xcXD8pKik/KFxcIygoKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCglW1xcZGEtZl17Mn0pfFshXFwkJidcXChcXClcXCpcXCssOz1dfDp8QCl8XFwvfFxcPykqKT8kL2lcbiAgICB9O1xuICBcbiAgXG4gICAgLy8gRXJyb3IgbWVzc2FnZXNcbiAgICAvLyAtLS0tLS0tLS0tLS0tLVxuICBcbiAgICAvLyBFcnJvciBtZXNzYWdlIGZvciB0aGUgYnVpbGQgaW4gdmFsaWRhdG9ycy5cbiAgICAvLyB7eH0gZ2V0cyBzd2FwcGVkIG91dCB3aXRoIGFyZ3VtZW50cyBmb3JtIHRoZSB2YWxpZGF0b3IuXG4gICAgdmFyIGRlZmF1bHRNZXNzYWdlcyA9IFZhbGlkYXRpb24ubWVzc2FnZXMgPSB7XG4gICAgICByZXF1aXJlZDogJ3swfSBpcyByZXF1aXJlZCcsXG4gICAgICBhY2NlcHRhbmNlOiAnezB9IG11c3QgYmUgYWNjZXB0ZWQnLFxuICAgICAgbWluOiAnezB9IG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHsxfScsXG4gICAgICBtYXg6ICd7MH0gbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gezF9JyxcbiAgICAgIHJhbmdlOiAnezB9IG11c3QgYmUgYmV0d2VlbiB7MX0gYW5kIHsyfScsXG4gICAgICBsZW5ndGg6ICd7MH0gbXVzdCBiZSB7MX0gY2hhcmFjdGVycycsXG4gICAgICBtaW5MZW5ndGg6ICd7MH0gbXVzdCBiZSBhdCBsZWFzdCB7MX0gY2hhcmFjdGVycycsXG4gICAgICBtYXhMZW5ndGg6ICd7MH0gbXVzdCBiZSBhdCBtb3N0IHsxfSBjaGFyYWN0ZXJzJyxcbiAgICAgIHJhbmdlTGVuZ3RoOiAnezB9IG11c3QgYmUgYmV0d2VlbiB7MX0gYW5kIHsyfSBjaGFyYWN0ZXJzJyxcbiAgICAgIG9uZU9mOiAnezB9IG11c3QgYmUgb25lIG9mOiB7MX0nLFxuICAgICAgZXF1YWxUbzogJ3swfSBtdXN0IGJlIHRoZSBzYW1lIGFzIHsxfScsXG4gICAgICBkaWdpdHM6ICd7MH0gbXVzdCBvbmx5IGNvbnRhaW4gZGlnaXRzJyxcbiAgICAgIG51bWJlcjogJ3swfSBtdXN0IGJlIGEgbnVtYmVyJyxcbiAgICAgIGVtYWlsOiAnezB9IG11c3QgYmUgYSB2YWxpZCBlbWFpbCcsXG4gICAgICB1cmw6ICd7MH0gbXVzdCBiZSBhIHZhbGlkIHVybCcsXG4gICAgICBpbmxpbmVQYXR0ZXJuOiAnezB9IGlzIGludmFsaWQnXG4gICAgfTtcbiAgXG4gICAgLy8gTGFiZWwgZm9ybWF0dGVyc1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS1cbiAgXG4gICAgLy8gTGFiZWwgZm9ybWF0dGVycyBhcmUgdXNlZCB0byBjb252ZXJ0IHRoZSBhdHRyaWJ1dGUgbmFtZVxuICAgIC8vIHRvIGEgbW9yZSBodW1hbiBmcmllbmRseSBsYWJlbCB3aGVuIHVzaW5nIHRoZSBidWlsdCBpblxuICAgIC8vIGVycm9yIG1lc3NhZ2VzLlxuICAgIC8vIENvbmZpZ3VyZSB3aGljaCBvbmUgdG8gdXNlIHdpdGggYSBjYWxsIHRvXG4gICAgLy9cbiAgICAvLyAgICAgQmFja2JvbmUuVmFsaWRhdGlvbi5jb25maWd1cmUoe1xuICAgIC8vICAgICAgIGxhYmVsRm9ybWF0dGVyOiAnbGFiZWwnXG4gICAgLy8gICAgIH0pO1xuICAgIHZhciBkZWZhdWx0TGFiZWxGb3JtYXR0ZXJzID0gVmFsaWRhdGlvbi5sYWJlbEZvcm1hdHRlcnMgPSB7XG4gIFxuICAgICAgLy8gUmV0dXJucyB0aGUgYXR0cmlidXRlIG5hbWUgd2l0aCBhcHBseWluZyBhbnkgZm9ybWF0dGluZ1xuICAgICAgbm9uZTogZnVuY3Rpb24oYXR0ck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGF0dHJOYW1lO1xuICAgICAgfSxcbiAgXG4gICAgICAvLyBDb252ZXJ0cyBhdHRyaWJ1dGVOYW1lIG9yIGF0dHJpYnV0ZV9uYW1lIHRvIEF0dHJpYnV0ZSBuYW1lXG4gICAgICBzZW50ZW5jZUNhc2U6IGZ1bmN0aW9uKGF0dHJOYW1lKSB7XG4gICAgICAgIHJldHVybiBhdHRyTmFtZS5yZXBsYWNlKC8oPzpeXFx3fFtBLVpdfFxcYlxcdykvZywgZnVuY3Rpb24obWF0Y2gsIGluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4ID09PSAwID8gbWF0Y2gudG9VcHBlckNhc2UoKSA6ICcgJyArIG1hdGNoLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH0pLnJlcGxhY2UoL18vZywgJyAnKTtcbiAgICAgIH0sXG4gIFxuICAgICAgLy8gTG9va3MgZm9yIGEgbGFiZWwgY29uZmlndXJlZCBvbiB0aGUgbW9kZWwgYW5kIHJldHVybnMgaXRcbiAgICAgIC8vXG4gICAgICAvLyAgICAgIHZhciBNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gICAgICAvLyAgICAgICAgdmFsaWRhdGlvbjoge1xuICAgICAgLy8gICAgICAgICAgc29tZUF0dHJpYnV0ZToge1xuICAgICAgLy8gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgLy8gICAgICAgICAgfVxuICAgICAgLy8gICAgICAgIH0sXG4gICAgICAvL1xuICAgICAgLy8gICAgICAgIGxhYmVsczoge1xuICAgICAgLy8gICAgICAgICAgc29tZUF0dHJpYnV0ZTogJ0N1c3RvbSBsYWJlbCdcbiAgICAgIC8vICAgICAgICB9XG4gICAgICAvLyAgICAgIH0pO1xuICAgICAgbGFiZWw6IGZ1bmN0aW9uKGF0dHJOYW1lLCBtb2RlbCkge1xuICAgICAgICByZXR1cm4gKG1vZGVsLmxhYmVscyAmJiBtb2RlbC5sYWJlbHNbYXR0ck5hbWVdKSB8fCBkZWZhdWx0TGFiZWxGb3JtYXR0ZXJzLnNlbnRlbmNlQ2FzZShhdHRyTmFtZSwgbW9kZWwpO1xuICAgICAgfVxuICAgIH07XG4gIFxuICBcbiAgICAvLyBCdWlsdCBpbiB2YWxpZGF0b3JzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBcbiAgICB2YXIgZGVmYXVsdFZhbGlkYXRvcnMgPSBWYWxpZGF0aW9uLnZhbGlkYXRvcnMgPSAoZnVuY3Rpb24oKXtcbiAgICAgIC8vIFVzZSBuYXRpdmUgdHJpbSB3aGVuIGRlZmluZWRcbiAgICAgIHZhciB0cmltID0gU3RyaW5nLnByb3RvdHlwZS50cmltID9cbiAgICAgICAgZnVuY3Rpb24odGV4dCkge1xuICAgICAgICAgIHJldHVybiB0ZXh0ID09PSBudWxsID8gJycgOiBTdHJpbmcucHJvdG90eXBlLnRyaW0uY2FsbCh0ZXh0KTtcbiAgICAgICAgfSA6XG4gICAgICAgIGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgICB2YXIgdHJpbUxlZnQgPSAvXlxccysvLFxuICAgICAgICAgICAgICB0cmltUmlnaHQgPSAvXFxzKyQvO1xuICBcbiAgICAgICAgICByZXR1cm4gdGV4dCA9PT0gbnVsbCA/ICcnIDogdGV4dC50b1N0cmluZygpLnJlcGxhY2UodHJpbUxlZnQsICcnKS5yZXBsYWNlKHRyaW1SaWdodCwgJycpO1xuICAgICAgICB9O1xuICBcbiAgICAgIC8vIERldGVybWluZXMgd2hldGhlciBvciBub3QgYSB2YWx1ZSBpcyBhIG51bWJlclxuICAgICAgdmFyIGlzTnVtYmVyID0gZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICByZXR1cm4gXy5pc051bWJlcih2YWx1ZSkgfHwgKF8uaXNTdHJpbmcodmFsdWUpICYmIHZhbHVlLm1hdGNoKGRlZmF1bHRQYXR0ZXJucy5udW1iZXIpKTtcbiAgICAgIH07XG4gIFxuICAgICAgLy8gRGV0ZXJtaW5lcyB3aGV0aGVyIG9yIG5vdCBhIHZhbHVlIGlzIGVtcHR5XG4gICAgICB2YXIgaGFzVmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gIShfLmlzTnVsbCh2YWx1ZSkgfHwgXy5pc1VuZGVmaW5lZCh2YWx1ZSkgfHwgKF8uaXNTdHJpbmcodmFsdWUpICYmIHRyaW0odmFsdWUpID09PSAnJykgfHwgKF8uaXNBcnJheSh2YWx1ZSkgJiYgXy5pc0VtcHR5KHZhbHVlKSkpO1xuICAgICAgfTtcbiAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICAvLyBGdW5jdGlvbiB2YWxpZGF0b3JcbiAgICAgICAgLy8gTGV0cyB5b3UgaW1wbGVtZW50IGEgY3VzdG9tIGZ1bmN0aW9uIHVzZWQgZm9yIHZhbGlkYXRpb25cbiAgICAgICAgZm46IGZ1bmN0aW9uKHZhbHVlLCBhdHRyLCBmbiwgbW9kZWwsIGNvbXB1dGVkKSB7XG4gICAgICAgICAgaWYoXy5pc1N0cmluZyhmbikpe1xuICAgICAgICAgICAgZm4gPSBtb2RlbFtmbl07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmbi5jYWxsKG1vZGVsLCB2YWx1ZSwgYXR0ciwgY29tcHV0ZWQpO1xuICAgICAgICB9LFxuICBcbiAgICAgICAgLy8gUmVxdWlyZWQgdmFsaWRhdG9yXG4gICAgICAgIC8vIFZhbGlkYXRlcyBpZiB0aGUgYXR0cmlidXRlIGlzIHJlcXVpcmVkIG9yIG5vdFxuICAgICAgICAvLyBUaGlzIGNhbiBiZSBzcGVjaWZpZWQgYXMgZWl0aGVyIGEgYm9vbGVhbiB2YWx1ZSBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGJvb2xlYW4gdmFsdWVcbiAgICAgICAgcmVxdWlyZWQ6IGZ1bmN0aW9uKHZhbHVlLCBhdHRyLCByZXF1aXJlZCwgbW9kZWwsIGNvbXB1dGVkKSB7XG4gICAgICAgICAgdmFyIGlzUmVxdWlyZWQgPSBfLmlzRnVuY3Rpb24ocmVxdWlyZWQpID8gcmVxdWlyZWQuY2FsbChtb2RlbCwgdmFsdWUsIGF0dHIsIGNvbXB1dGVkKSA6IHJlcXVpcmVkO1xuICAgICAgICAgIGlmKCFpc1JlcXVpcmVkICYmICFoYXNWYWx1ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gb3ZlcnJpZGVzIGFsbCBvdGhlciB2YWxpZGF0b3JzXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc1JlcXVpcmVkICYmICFoYXNWYWx1ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvcm1hdChkZWZhdWx0TWVzc2FnZXMucmVxdWlyZWQsIHRoaXMuZm9ybWF0TGFiZWwoYXR0ciwgbW9kZWwpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gIFxuICAgICAgICAvLyBBY2NlcHRhbmNlIHZhbGlkYXRvclxuICAgICAgICAvLyBWYWxpZGF0ZXMgdGhhdCBzb21ldGhpbmcgaGFzIHRvIGJlIGFjY2VwdGVkLCBlLmcuIHRlcm1zIG9mIHVzZVxuICAgICAgICAvLyBgdHJ1ZWAgb3IgJ3RydWUnIGFyZSB2YWxpZFxuICAgICAgICBhY2NlcHRhbmNlOiBmdW5jdGlvbih2YWx1ZSwgYXR0ciwgYWNjZXB0LCBtb2RlbCkge1xuICAgICAgICAgIGlmKHZhbHVlICE9PSAndHJ1ZScgJiYgKCFfLmlzQm9vbGVhbih2YWx1ZSkgfHwgdmFsdWUgPT09IGZhbHNlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0KGRlZmF1bHRNZXNzYWdlcy5hY2NlcHRhbmNlLCB0aGlzLmZvcm1hdExhYmVsKGF0dHIsIG1vZGVsKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICBcbiAgICAgICAgLy8gTWluIHZhbGlkYXRvclxuICAgICAgICAvLyBWYWxpZGF0ZXMgdGhhdCB0aGUgdmFsdWUgaGFzIHRvIGJlIGEgbnVtYmVyIGFuZCBlcXVhbCB0byBvciBncmVhdGVyIHRoYW5cbiAgICAgICAgLy8gdGhlIG1pbiB2YWx1ZSBzcGVjaWZpZWRcbiAgICAgICAgbWluOiBmdW5jdGlvbih2YWx1ZSwgYXR0ciwgbWluVmFsdWUsIG1vZGVsKSB7XG4gICAgICAgICAgaWYgKCFpc051bWJlcih2YWx1ZSkgfHwgdmFsdWUgPCBtaW5WYWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0KGRlZmF1bHRNZXNzYWdlcy5taW4sIHRoaXMuZm9ybWF0TGFiZWwoYXR0ciwgbW9kZWwpLCBtaW5WYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICBcbiAgICAgICAgLy8gTWF4IHZhbGlkYXRvclxuICAgICAgICAvLyBWYWxpZGF0ZXMgdGhhdCB0aGUgdmFsdWUgaGFzIHRvIGJlIGEgbnVtYmVyIGFuZCBlcXVhbCB0byBvciBsZXNzIHRoYW5cbiAgICAgICAgLy8gdGhlIG1heCB2YWx1ZSBzcGVjaWZpZWRcbiAgICAgICAgbWF4OiBmdW5jdGlvbih2YWx1ZSwgYXR0ciwgbWF4VmFsdWUsIG1vZGVsKSB7XG4gICAgICAgICAgaWYgKCFpc051bWJlcih2YWx1ZSkgfHwgdmFsdWUgPiBtYXhWYWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0KGRlZmF1bHRNZXNzYWdlcy5tYXgsIHRoaXMuZm9ybWF0TGFiZWwoYXR0ciwgbW9kZWwpLCBtYXhWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICBcbiAgICAgICAgLy8gUmFuZ2UgdmFsaWRhdG9yXG4gICAgICAgIC8vIFZhbGlkYXRlcyB0aGF0IHRoZSB2YWx1ZSBoYXMgdG8gYmUgYSBudW1iZXIgYW5kIGVxdWFsIHRvIG9yIGJldHdlZW5cbiAgICAgICAgLy8gdGhlIHR3byBudW1iZXJzIHNwZWNpZmllZFxuICAgICAgICByYW5nZTogZnVuY3Rpb24odmFsdWUsIGF0dHIsIHJhbmdlLCBtb2RlbCkge1xuICAgICAgICAgIGlmKCFpc051bWJlcih2YWx1ZSkgfHwgdmFsdWUgPCByYW5nZVswXSB8fCB2YWx1ZSA+IHJhbmdlWzFdKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQoZGVmYXVsdE1lc3NhZ2VzLnJhbmdlLCB0aGlzLmZvcm1hdExhYmVsKGF0dHIsIG1vZGVsKSwgcmFuZ2VbMF0sIHJhbmdlWzFdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gIFxuICAgICAgICAvLyBMZW5ndGggdmFsaWRhdG9yXG4gICAgICAgIC8vIFZhbGlkYXRlcyB0aGF0IHRoZSB2YWx1ZSBoYXMgdG8gYmUgYSBzdHJpbmcgd2l0aCBsZW5ndGggZXF1YWwgdG9cbiAgICAgICAgLy8gdGhlIGxlbmd0aCB2YWx1ZSBzcGVjaWZpZWRcbiAgICAgICAgbGVuZ3RoOiBmdW5jdGlvbih2YWx1ZSwgYXR0ciwgbGVuZ3RoLCBtb2RlbCkge1xuICAgICAgICAgIGlmICghXy5pc1N0cmluZyh2YWx1ZSkgfHwgdmFsdWUubGVuZ3RoICE9PSBsZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvcm1hdChkZWZhdWx0TWVzc2FnZXMubGVuZ3RoLCB0aGlzLmZvcm1hdExhYmVsKGF0dHIsIG1vZGVsKSwgbGVuZ3RoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gIFxuICAgICAgICAvLyBNaW4gbGVuZ3RoIHZhbGlkYXRvclxuICAgICAgICAvLyBWYWxpZGF0ZXMgdGhhdCB0aGUgdmFsdWUgaGFzIHRvIGJlIGEgc3RyaW5nIHdpdGggbGVuZ3RoIGVxdWFsIHRvIG9yIGdyZWF0ZXIgdGhhblxuICAgICAgICAvLyB0aGUgbWluIGxlbmd0aCB2YWx1ZSBzcGVjaWZpZWRcbiAgICAgICAgbWluTGVuZ3RoOiBmdW5jdGlvbih2YWx1ZSwgYXR0ciwgbWluTGVuZ3RoLCBtb2RlbCkge1xuICAgICAgICAgIGlmICghXy5pc1N0cmluZyh2YWx1ZSkgfHwgdmFsdWUubGVuZ3RoIDwgbWluTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQoZGVmYXVsdE1lc3NhZ2VzLm1pbkxlbmd0aCwgdGhpcy5mb3JtYXRMYWJlbChhdHRyLCBtb2RlbCksIG1pbkxlbmd0aCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICBcbiAgICAgICAgLy8gTWF4IGxlbmd0aCB2YWxpZGF0b3JcbiAgICAgICAgLy8gVmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIGhhcyB0byBiZSBhIHN0cmluZyB3aXRoIGxlbmd0aCBlcXVhbCB0byBvciBsZXNzIHRoYW5cbiAgICAgICAgLy8gdGhlIG1heCBsZW5ndGggdmFsdWUgc3BlY2lmaWVkXG4gICAgICAgIG1heExlbmd0aDogZnVuY3Rpb24odmFsdWUsIGF0dHIsIG1heExlbmd0aCwgbW9kZWwpIHtcbiAgICAgICAgICBpZiAoIV8uaXNTdHJpbmcodmFsdWUpIHx8IHZhbHVlLmxlbmd0aCA+IG1heExlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0KGRlZmF1bHRNZXNzYWdlcy5tYXhMZW5ndGgsIHRoaXMuZm9ybWF0TGFiZWwoYXR0ciwgbW9kZWwpLCBtYXhMZW5ndGgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgXG4gICAgICAgIC8vIFJhbmdlIGxlbmd0aCB2YWxpZGF0b3JcbiAgICAgICAgLy8gVmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIGhhcyB0byBiZSBhIHN0cmluZyBhbmQgZXF1YWwgdG8gb3IgYmV0d2VlblxuICAgICAgICAvLyB0aGUgdHdvIG51bWJlcnMgc3BlY2lmaWVkXG4gICAgICAgIHJhbmdlTGVuZ3RoOiBmdW5jdGlvbih2YWx1ZSwgYXR0ciwgcmFuZ2UsIG1vZGVsKSB7XG4gICAgICAgICAgaWYgKCFfLmlzU3RyaW5nKHZhbHVlKSB8fCB2YWx1ZS5sZW5ndGggPCByYW5nZVswXSB8fCB2YWx1ZS5sZW5ndGggPiByYW5nZVsxXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0KGRlZmF1bHRNZXNzYWdlcy5yYW5nZUxlbmd0aCwgdGhpcy5mb3JtYXRMYWJlbChhdHRyLCBtb2RlbCksIHJhbmdlWzBdLCByYW5nZVsxXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICBcbiAgICAgICAgLy8gT25lIG9mIHZhbGlkYXRvclxuICAgICAgICAvLyBWYWxpZGF0ZXMgdGhhdCB0aGUgdmFsdWUgaGFzIHRvIGJlIGVxdWFsIHRvIG9uZSBvZiB0aGUgZWxlbWVudHMgaW5cbiAgICAgICAgLy8gdGhlIHNwZWNpZmllZCBhcnJheS4gQ2FzZSBzZW5zaXRpdmUgbWF0Y2hpbmdcbiAgICAgICAgb25lT2Y6IGZ1bmN0aW9uKHZhbHVlLCBhdHRyLCB2YWx1ZXMsIG1vZGVsKSB7XG4gICAgICAgICAgaWYoIV8uaW5jbHVkZSh2YWx1ZXMsIHZhbHVlKSl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQoZGVmYXVsdE1lc3NhZ2VzLm9uZU9mLCB0aGlzLmZvcm1hdExhYmVsKGF0dHIsIG1vZGVsKSwgdmFsdWVzLmpvaW4oJywgJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgXG4gICAgICAgIC8vIEVxdWFsIHRvIHZhbGlkYXRvclxuICAgICAgICAvLyBWYWxpZGF0ZXMgdGhhdCB0aGUgdmFsdWUgaGFzIHRvIGJlIGVxdWFsIHRvIHRoZSB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlXG4gICAgICAgIC8vIHdpdGggdGhlIG5hbWUgc3BlY2lmaWVkXG4gICAgICAgIGVxdWFsVG86IGZ1bmN0aW9uKHZhbHVlLCBhdHRyLCBlcXVhbFRvLCBtb2RlbCwgY29tcHV0ZWQpIHtcbiAgICAgICAgICBpZih2YWx1ZSAhPT0gY29tcHV0ZWRbZXF1YWxUb10pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvcm1hdChkZWZhdWx0TWVzc2FnZXMuZXF1YWxUbywgdGhpcy5mb3JtYXRMYWJlbChhdHRyLCBtb2RlbCksIHRoaXMuZm9ybWF0TGFiZWwoZXF1YWxUbywgbW9kZWwpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gIFxuICAgICAgICAvLyBQYXR0ZXJuIHZhbGlkYXRvclxuICAgICAgICAvLyBWYWxpZGF0ZXMgdGhhdCB0aGUgdmFsdWUgaGFzIHRvIG1hdGNoIHRoZSBwYXR0ZXJuIHNwZWNpZmllZC5cbiAgICAgICAgLy8gQ2FuIGJlIGEgcmVndWxhciBleHByZXNzaW9uIG9yIHRoZSBuYW1lIG9mIG9uZSBvZiB0aGUgYnVpbHQgaW4gcGF0dGVybnNcbiAgICAgICAgcGF0dGVybjogZnVuY3Rpb24odmFsdWUsIGF0dHIsIHBhdHRlcm4sIG1vZGVsKSB7XG4gICAgICAgICAgaWYgKCFoYXNWYWx1ZSh2YWx1ZSkgfHwgIXZhbHVlLnRvU3RyaW5nKCkubWF0Y2goZGVmYXVsdFBhdHRlcm5zW3BhdHRlcm5dIHx8IHBhdHRlcm4pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQoZGVmYXVsdE1lc3NhZ2VzW3BhdHRlcm5dIHx8IGRlZmF1bHRNZXNzYWdlcy5pbmxpbmVQYXR0ZXJuLCB0aGlzLmZvcm1hdExhYmVsKGF0dHIsIG1vZGVsKSwgcGF0dGVybik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0oKSk7XG4gIFxuICAgIC8vIFNldCB0aGUgY29ycmVjdCBjb250ZXh0IGZvciBhbGwgdmFsaWRhdG9yc1xuICAgIC8vIHdoZW4gdXNlZCBmcm9tIHdpdGhpbiBhIG1ldGhvZCB2YWxpZGF0b3JcbiAgICBfLmVhY2goZGVmYXVsdFZhbGlkYXRvcnMsIGZ1bmN0aW9uKHZhbGlkYXRvciwga2V5KXtcbiAgICAgIGRlZmF1bHRWYWxpZGF0b3JzW2tleV0gPSBfLmJpbmQoZGVmYXVsdFZhbGlkYXRvcnNba2V5XSwgXy5leHRlbmQoe30sIGZvcm1hdEZ1bmN0aW9ucywgZGVmYXVsdFZhbGlkYXRvcnMpKTtcbiAgICB9KTtcbiAgXG4gICAgcmV0dXJuIFZhbGlkYXRpb247XG4gIH0oXykpO1xuICByZXR1cm4gQmFja2JvbmUuVmFsaWRhdGlvbjtcbn0pKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWNrYm9uZS12YWxpZGF0aW9uL2Rpc3QvYmFja2JvbmUtdmFsaWRhdGlvbi1hbWQuanNcbiAqKiBtb2R1bGUgaWQgPSAyNFxuICoqIG1vZHVsZSBjaHVua3MgPSAxIDJcbiAqKi9cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrOi8vLy4vfi9iYWNrYm9uZS12YWxpZGF0aW9uL2Rpc3QvYmFja2JvbmUtdmFsaWRhdGlvbi1hbWQuanM/YjI4M1xuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjI0LmpzIn0=");

/***/ },
/* 25 */,
/* 26 */,
/* 27 */
/*!*****************************!*\
  !*** external "Handlebars" ***!
  \*****************************/
/***/ function(module, exports, __webpack_require__) {

	eval("module.exports = Handlebars;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJIYW5kbGViYXJzXCI/YzMxOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIyNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gSGFuZGxlYmFycztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwiSGFuZGxlYmFyc1wiXG4gKiogbW9kdWxlIGlkID0gMjdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 28 */
/*!*****************************!*\
  !*** external "accounting" ***!
  \*****************************/
/***/ function(module, exports, __webpack_require__) {

	eval("module.exports = accounting;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJhY2NvdW50aW5nXCI/MWQxYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIyOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gYWNjb3VudGluZztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwiYWNjb3VudGluZ1wiXG4gKiogbW9kdWxlIGlkID0gMjhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 29 */
/*!*************************!*\
  !*** external "moment" ***!
  \*************************/
/***/ function(module, exports, __webpack_require__) {

	eval("module.exports = moment;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb21lbnRcIj9hODhkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjI5LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBtb21lbnQ7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCBcIm1vbWVudFwiXG4gKiogbW9kdWxlIGlkID0gMjlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 30 */
/*!********************************!*\
  !*** ./~/lib/config/module.js ***!
  \********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 9);\nvar _ = __webpack_require__(/*! lodash */ 1);\n\nvar Module = bb.Marionette.Module.extend({\n  constructor: function() {\n    this.attachGlobals(arguments[0]);\n    this.listenTo(bb.history, 'route', this._onHistoryRoute);\n    bb.Marionette.Module.apply(this, arguments);\n  },\n\n  initialize: function() {},\n\n  _onHistoryRoute: function(router) {\n    if (!this.router) {\n      return;\n    }\n\n    if (this.router && this.router === router) {\n      this.start();\n    } else {\n      this.stop();\n    }\n  },\n\n  /**\n   * attach any POS.POSApp globals before it gets overwritten\n   * this is required so third party plugins can access\n   * Router, Routes etc\n   */\n  attachGlobals: function(moduleName){\n    if( _(POS).has(moduleName) ){\n      _.defaults( this, POS[moduleName] );\n    }\n  }\n});\n\nmodule.exports = Module;\nPOS.attach('Module', Module);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvbW9kdWxlLmpzP2Q2ZWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILDJCQUEyQjs7QUFFM0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSIsInNvdXJjZXNDb250ZW50IjpbInZhciBiYiA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG52YXIgUE9TID0gcmVxdWlyZSgnbGliL3V0aWxpdGllcy9nbG9iYWwnKTtcbnZhciBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbnZhciBNb2R1bGUgPSBiYi5NYXJpb25ldHRlLk1vZHVsZS5leHRlbmQoe1xuICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5hdHRhY2hHbG9iYWxzKGFyZ3VtZW50c1swXSk7XG4gICAgdGhpcy5saXN0ZW5UbyhiYi5oaXN0b3J5LCAncm91dGUnLCB0aGlzLl9vbkhpc3RvcnlSb3V0ZSk7XG4gICAgYmIuTWFyaW9uZXR0ZS5Nb2R1bGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfSxcblxuICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHt9LFxuXG4gIF9vbkhpc3RvcnlSb3V0ZTogZnVuY3Rpb24ocm91dGVyKSB7XG4gICAgaWYgKCF0aGlzLnJvdXRlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnJvdXRlciAmJiB0aGlzLnJvdXRlciA9PT0gcm91dGVyKSB7XG4gICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RvcCgpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogYXR0YWNoIGFueSBQT1MuUE9TQXBwIGdsb2JhbHMgYmVmb3JlIGl0IGdldHMgb3ZlcndyaXR0ZW5cbiAgICogdGhpcyBpcyByZXF1aXJlZCBzbyB0aGlyZCBwYXJ0eSBwbHVnaW5zIGNhbiBhY2Nlc3NcbiAgICogUm91dGVyLCBSb3V0ZXMgZXRjXG4gICAqL1xuICBhdHRhY2hHbG9iYWxzOiBmdW5jdGlvbihtb2R1bGVOYW1lKXtcbiAgICBpZiggXyhQT1MpLmhhcyhtb2R1bGVOYW1lKSApe1xuICAgICAgXy5kZWZhdWx0cyggdGhpcywgUE9TW21vZHVsZU5hbWVdICk7XG4gICAgfVxuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBNb2R1bGU7XG5QT1MuYXR0YWNoKCdNb2R1bGUnLCBNb2R1bGUpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xpYi9jb25maWcvbW9kdWxlLmpzXG4gKiogbW9kdWxlIGlkID0gMzBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjMwLmpzIn0=");

/***/ },
/* 31 */
/*!********************************!*\
  !*** ./~/entities/settings.js ***!
  \********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Settings = {};\nvar Collection = __webpack_require__(/*! lib/config/collection */ 47);\nvar Model = __webpack_require__(/*! lib/config/model */ 48);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar entitiesChannel = bb.Radio.channel('entities');\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar _ = __webpack_require__(/*! lodash */ 1);\n\n// Data from wpdb->usermeta\nSettings.Usermeta = Collection.extend({\n\n    initialize: function( models, options ) {\n        this.id = options.id;\n    },\n\n    save: function () {\n        var data = this.toJSON();\n        var payload = {\n            id: this.id,\n            action: 'wc_pos_user_settings',\n            data: data[0]\n        };\n\n        $.post(\n            entitiesChannel.request( 'get:options', 'ajaxurl' ),\n            payload,\n            function( response ) {\n                console.log(response);\n            }\n        );\n    }\n\n});\n\n// Data from wpdb->options\nSettings.Option = Model.extend({\n    initialize: function() {\n        this.url = entitiesChannel.request( 'get:options', 'ajaxurl' );\n        this._saving = false;\n    },\n    sync: function (method, model, options) {\n        var id       = 'id=' + model.get('id'),\n            action   = 'action=wc_pos_admin_settings';\n\n        options.emulateHTTP = true;\n        options.url = model.url + '?' + action + '&' + id;\n\n        var methods = {\n            beforeSend: function(){\n                this.trigger('update:start');\n                this._saving = true;\n            },\n            complete: function() {\n                this.trigger('update:stop');\n                this._saving = false;\n            }\n        };\n\n        if( !this._saving && method === 'update' ) {\n            _.defaults( options, {\n                beforeSend: _.bind(methods.beforeSend, model),\n                complete:\t_.bind(methods.complete, model)\n            });\n        }\n\n        return bb.sync(method, model, options);\n    }\n});\n\nSettings.Options = Collection.extend({\n    model: Settings.Option\n});\n\nmodule.exports = Settings;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VudGl0aWVzL3NldHRpbmdzLmpzPzBmNDciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxDQUFDOztBQUVEIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFNldHRpbmdzID0ge307XG52YXIgQ29sbGVjdGlvbiA9IHJlcXVpcmUoJ2xpYi9jb25maWcvY29sbGVjdGlvbicpO1xudmFyIE1vZGVsID0gcmVxdWlyZSgnbGliL2NvbmZpZy9tb2RlbCcpO1xudmFyIGJiID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBlbnRpdGllc0NoYW5uZWwgPSBiYi5SYWRpby5jaGFubmVsKCdlbnRpdGllcycpO1xudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcbnZhciBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbi8vIERhdGEgZnJvbSB3cGRiLT51c2VybWV0YVxuU2V0dGluZ3MuVXNlcm1ldGEgPSBDb2xsZWN0aW9uLmV4dGVuZCh7XG5cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiggbW9kZWxzLCBvcHRpb25zICkge1xuICAgICAgICB0aGlzLmlkID0gb3B0aW9ucy5pZDtcbiAgICB9LFxuXG4gICAgc2F2ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMudG9KU09OKCk7XG4gICAgICAgIHZhciBwYXlsb2FkID0ge1xuICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICBhY3Rpb246ICd3Y19wb3NfdXNlcl9zZXR0aW5ncycsXG4gICAgICAgICAgICBkYXRhOiBkYXRhWzBdXG4gICAgICAgIH07XG5cbiAgICAgICAgJC5wb3N0KFxuICAgICAgICAgICAgZW50aXRpZXNDaGFubmVsLnJlcXVlc3QoICdnZXQ6b3B0aW9ucycsICdhamF4dXJsJyApLFxuICAgICAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgICAgIGZ1bmN0aW9uKCByZXNwb25zZSApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG59KTtcblxuLy8gRGF0YSBmcm9tIHdwZGItPm9wdGlvbnNcblNldHRpbmdzLk9wdGlvbiA9IE1vZGVsLmV4dGVuZCh7XG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMudXJsID0gZW50aXRpZXNDaGFubmVsLnJlcXVlc3QoICdnZXQ6b3B0aW9ucycsICdhamF4dXJsJyApO1xuICAgICAgICB0aGlzLl9zYXZpbmcgPSBmYWxzZTtcbiAgICB9LFxuICAgIHN5bmM6IGZ1bmN0aW9uIChtZXRob2QsIG1vZGVsLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBpZCAgICAgICA9ICdpZD0nICsgbW9kZWwuZ2V0KCdpZCcpLFxuICAgICAgICAgICAgYWN0aW9uICAgPSAnYWN0aW9uPXdjX3Bvc19hZG1pbl9zZXR0aW5ncyc7XG5cbiAgICAgICAgb3B0aW9ucy5lbXVsYXRlSFRUUCA9IHRydWU7XG4gICAgICAgIG9wdGlvbnMudXJsID0gbW9kZWwudXJsICsgJz8nICsgYWN0aW9uICsgJyYnICsgaWQ7XG5cbiAgICAgICAgdmFyIG1ldGhvZHMgPSB7XG4gICAgICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcigndXBkYXRlOnN0YXJ0Jyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2F2aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCd1cGRhdGU6c3RvcCcpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NhdmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmKCAhdGhpcy5fc2F2aW5nICYmIG1ldGhvZCA9PT0gJ3VwZGF0ZScgKSB7XG4gICAgICAgICAgICBfLmRlZmF1bHRzKCBvcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgYmVmb3JlU2VuZDogXy5iaW5kKG1ldGhvZHMuYmVmb3JlU2VuZCwgbW9kZWwpLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOlx0Xy5iaW5kKG1ldGhvZHMuY29tcGxldGUsIG1vZGVsKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYmIuc3luYyhtZXRob2QsIG1vZGVsLCBvcHRpb25zKTtcbiAgICB9XG59KTtcblxuU2V0dGluZ3MuT3B0aW9ucyA9IENvbGxlY3Rpb24uZXh0ZW5kKHtcbiAgICBtb2RlbDogU2V0dGluZ3MuT3B0aW9uXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBTZXR0aW5ncztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9lbnRpdGllcy9zZXR0aW5ncy5qc1xuICoqIG1vZHVsZSBpZCA9IDMxXG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiIzMS5qcyJ9");

/***/ },
/* 32 */
/*!**********************************!*\
  !*** ./~/lib/utilities/utils.js ***!
  \**********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var accounting = __webpack_require__(/*! accounting */ 28);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 9);\n\nmodule.exports = POS.Utils = {\n\n  /**\n   * Number and Currency helpers\n   */\n  round: function( num, precision ) {\n    if( precision === undefined ) {\n      precision = accounting.settings.number.precision;\n    }\n    return parseFloat( accounting.toFixed( num, precision ) );\n  },\n\n  unformat: function( num ) {\n    return accounting.unformat( num, accounting.settings.number.decimal );\n  },\n\n  formatNumber: function( num, precision ) {\n    if( precision === undefined ) {\n      precision = accounting.settings.number.precision;\n    }\n    if( precision === 'auto' ) {\n      precision = this.decimalPlaces(num);\n    }\n    return accounting.formatNumber(num, precision);\n  },\n\n  isPositiveInteger: function( num, allowZero ){\n    var n = ~~Number(num);\n    if(allowZero) {\n      return String(n) === num && n >= 0;\n    } else {\n      return String(n) === num && n > 0;\n    }\n  },\n\n  decimalPlaces: function(num){\n    return ((+num).toFixed(4)).replace(/^-?\\d*\\.?|0+$/g, '').length;\n  },\n\n  /**\n   * Parse error messages from the server\n   */\n  parseErrorResponse: function( jqXHR ){\n    var resp = jqXHR.responseJSON;\n    if( resp.errors ){\n      return resp.errors[0].message;\n    }\n\n    return jqXHR.responseText;\n  }\n\n};//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjazovLy8uL34vbGliL3V0aWxpdGllcy91dGlscy5qcz9iOWEzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFjY291bnRpbmcgPSByZXF1aXJlKCdhY2NvdW50aW5nJyk7XG52YXIgUE9TID0gcmVxdWlyZSgnbGliL3V0aWxpdGllcy9nbG9iYWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBQT1MuVXRpbHMgPSB7XG5cbiAgLyoqXG4gICAqIE51bWJlciBhbmQgQ3VycmVuY3kgaGVscGVyc1xuICAgKi9cbiAgcm91bmQ6IGZ1bmN0aW9uKCBudW0sIHByZWNpc2lvbiApIHtcbiAgICBpZiggcHJlY2lzaW9uID09PSB1bmRlZmluZWQgKSB7XG4gICAgICBwcmVjaXNpb24gPSBhY2NvdW50aW5nLnNldHRpbmdzLm51bWJlci5wcmVjaXNpb247XG4gICAgfVxuICAgIHJldHVybiBwYXJzZUZsb2F0KCBhY2NvdW50aW5nLnRvRml4ZWQoIG51bSwgcHJlY2lzaW9uICkgKTtcbiAgfSxcblxuICB1bmZvcm1hdDogZnVuY3Rpb24oIG51bSApIHtcbiAgICByZXR1cm4gYWNjb3VudGluZy51bmZvcm1hdCggbnVtLCBhY2NvdW50aW5nLnNldHRpbmdzLm51bWJlci5kZWNpbWFsICk7XG4gIH0sXG5cbiAgZm9ybWF0TnVtYmVyOiBmdW5jdGlvbiggbnVtLCBwcmVjaXNpb24gKSB7XG4gICAgaWYoIHByZWNpc2lvbiA9PT0gdW5kZWZpbmVkICkge1xuICAgICAgcHJlY2lzaW9uID0gYWNjb3VudGluZy5zZXR0aW5ncy5udW1iZXIucHJlY2lzaW9uO1xuICAgIH1cbiAgICBpZiggcHJlY2lzaW9uID09PSAnYXV0bycgKSB7XG4gICAgICBwcmVjaXNpb24gPSB0aGlzLmRlY2ltYWxQbGFjZXMobnVtKTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY291bnRpbmcuZm9ybWF0TnVtYmVyKG51bSwgcHJlY2lzaW9uKTtcbiAgfSxcblxuICBpc1Bvc2l0aXZlSW50ZWdlcjogZnVuY3Rpb24oIG51bSwgYWxsb3daZXJvICl7XG4gICAgdmFyIG4gPSB+fk51bWJlcihudW0pO1xuICAgIGlmKGFsbG93WmVybykge1xuICAgICAgcmV0dXJuIFN0cmluZyhuKSA9PT0gbnVtICYmIG4gPj0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFN0cmluZyhuKSA9PT0gbnVtICYmIG4gPiAwO1xuICAgIH1cbiAgfSxcblxuICBkZWNpbWFsUGxhY2VzOiBmdW5jdGlvbihudW0pe1xuICAgIHJldHVybiAoKCtudW0pLnRvRml4ZWQoNCkpLnJlcGxhY2UoL14tP1xcZCpcXC4/fDArJC9nLCAnJykubGVuZ3RoO1xuICB9LFxuXG4gIC8qKlxuICAgKiBQYXJzZSBlcnJvciBtZXNzYWdlcyBmcm9tIHRoZSBzZXJ2ZXJcbiAgICovXG4gIHBhcnNlRXJyb3JSZXNwb25zZTogZnVuY3Rpb24oIGpxWEhSICl7XG4gICAgdmFyIHJlc3AgPSBqcVhIUi5yZXNwb25zZUpTT047XG4gICAgaWYoIHJlc3AuZXJyb3JzICl7XG4gICAgICByZXR1cm4gcmVzcC5lcnJvcnNbMF0ubWVzc2FnZTtcbiAgICB9XG5cbiAgICByZXR1cm4ganFYSFIucmVzcG9uc2VUZXh0O1xuICB9XG5cbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbGliL3V0aWxpdGllcy91dGlscy5qc1xuICoqIG1vZHVsZSBpZCA9IDMyXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMlxuICoqL1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2s6Ly8vLi9+L2xpYi91dGlsaXRpZXMvdXRpbHMuanM/Njg2YVxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjMyLmpzIn0=");

/***/ },
/* 33 */
/*!***********************************************!*\
  !*** ./~/lib/components/modal/layout-view.js ***!
  \***********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var LayoutView = __webpack_require__(/*! lib/config/layout-view */ 49);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar hbs = __webpack_require__(/*! handlebars */ 27);\n\nmodule.exports = LayoutView.extend({\n  className: 'modal',\n  attributes: {\n    'tabindex' : -1,\n    'role' : 'dialog'\n  },\n\n  regions: {\n    content: '.modal-body'\n  },\n\n  events: {\n    'click .action-close'   : 'destroyModal',\n    'click .action-save'    : 'saving',\n    'click .modal-footer a' : 'onButtonClick'\n  },\n\n  initialize: function () {\n    this.template = hbs.compile( $('#tmpl-modal').html() );\n    this.$el.modal({ show: false });\n  },\n\n  onButtonClick: function(e) {\n    e.preventDefault();\n    this.content.currentView.trigger('button:clicked', e);\n  },\n\n  triggers: {\n    'show.bs.modal'   : { preventDefault: false, event: 'before:show' },\n    'shown.bs.modal'  : { preventDefault: false, event: 'show' },\n    'hide.bs.modal'   : { preventDefault: false, event: 'before:hide' },\n    'hidden.bs.modal' : { preventDefault: false, event: 'hide' }\n  },\n\n  openModal: function (options) {\n    options = options || {};\n    this.once('after:show', options.callback); // 'after:show' = 'show' ??\n    this.setupModal(options);\n    this.$el.modal('show');\n  },\n\n  destroyModal: function (options) {\n    options = options || {};\n    this.once('hide', options.callback);\n    this.once('hide', this.teardownModal);\n    this.$el.modal('hide');\n  },\n\n  setupModal: function (options) {\n    options = options || {};\n    if (this.isShown) {\n      this.teardownModal();\n    }\n\n    // pass on attributes\n    if( options.attributes ){\n\n      // modal class\n      if( options.attributes.className ){\n        this.$('.modal-dialog').addClass( options.attributes.className );\n      }\n\n      // modal title\n      if( options.attributes.title ) {\n        this.$('.modal-header h1').html( options.attributes.title );\n      }\n    }\n\n    this.content.show(options.view);\n    this.isShown = true;\n\n    if( options.view.model ) {\n      this.listenTo( options.view.model, 'save:status', this.updateSaveStatus );\n    }\n\n  },\n\n  teardownModal: function () {\n    if (!this.isShown) {\n      return;\n    }\n    this.content.empty();\n    this.render(); // re-render to reset attributes\n    this.isShown = false;\n  },\n\n  saving: function(){\n    this.$('.modal-footer .action-save')\n        .addClass( 'disabled' );\n\n    this.$('.modal-footer p.response')\n        .removeClass('success error')\n        .html( '<i class=\"icon icon-spinner\"></i>' );\n  },\n\n  updateSaveStatus: function( status, message ){\n    if( _.isUndefined(message) ){\n      message = this.$('.modal-footer p.response').data(status);\n    }\n\n    this.$('.modal-footer p.response')\n        .addClass(status)\n        .html( '<i class=\"icon icon-' + status + '\"></i> ' + message );\n\n    this.$('.modal-footer .action-save')\n        .removeClass( 'disabled' );\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb21wb25lbnRzL21vZGFsL2xheW91dC12aWV3LmpzPzkzODciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxvQkFBb0IsY0FBYztBQUNsQyxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSx5QkFBeUIsOENBQThDO0FBQ3ZFLHlCQUF5Qix1Q0FBdUM7QUFDaEUseUJBQXlCLDhDQUE4QztBQUN2RSx5QkFBeUI7QUFDekIsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsOENBQThDO0FBQzlDO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIExheW91dFZpZXcgPSByZXF1aXJlKCdsaWIvY29uZmlnL2xheW91dC12aWV3Jyk7XG52YXIgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcbnZhciBoYnMgPSByZXF1aXJlKCdoYW5kbGViYXJzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gTGF5b3V0Vmlldy5leHRlbmQoe1xuICBjbGFzc05hbWU6ICdtb2RhbCcsXG4gIGF0dHJpYnV0ZXM6IHtcbiAgICAndGFiaW5kZXgnIDogLTEsXG4gICAgJ3JvbGUnIDogJ2RpYWxvZydcbiAgfSxcblxuICByZWdpb25zOiB7XG4gICAgY29udGVudDogJy5tb2RhbC1ib2R5J1xuICB9LFxuXG4gIGV2ZW50czoge1xuICAgICdjbGljayAuYWN0aW9uLWNsb3NlJyAgIDogJ2Rlc3Ryb3lNb2RhbCcsXG4gICAgJ2NsaWNrIC5hY3Rpb24tc2F2ZScgICAgOiAnc2F2aW5nJyxcbiAgICAnY2xpY2sgLm1vZGFsLWZvb3RlciBhJyA6ICdvbkJ1dHRvbkNsaWNrJ1xuICB9LFxuXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnRlbXBsYXRlID0gaGJzLmNvbXBpbGUoICQoJyN0bXBsLW1vZGFsJykuaHRtbCgpICk7XG4gICAgdGhpcy4kZWwubW9kYWwoeyBzaG93OiBmYWxzZSB9KTtcbiAgfSxcblxuICBvbkJ1dHRvbkNsaWNrOiBmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuY29udGVudC5jdXJyZW50Vmlldy50cmlnZ2VyKCdidXR0b246Y2xpY2tlZCcsIGUpO1xuICB9LFxuXG4gIHRyaWdnZXJzOiB7XG4gICAgJ3Nob3cuYnMubW9kYWwnICAgOiB7IHByZXZlbnREZWZhdWx0OiBmYWxzZSwgZXZlbnQ6ICdiZWZvcmU6c2hvdycgfSxcbiAgICAnc2hvd24uYnMubW9kYWwnICA6IHsgcHJldmVudERlZmF1bHQ6IGZhbHNlLCBldmVudDogJ3Nob3cnIH0sXG4gICAgJ2hpZGUuYnMubW9kYWwnICAgOiB7IHByZXZlbnREZWZhdWx0OiBmYWxzZSwgZXZlbnQ6ICdiZWZvcmU6aGlkZScgfSxcbiAgICAnaGlkZGVuLmJzLm1vZGFsJyA6IHsgcHJldmVudERlZmF1bHQ6IGZhbHNlLCBldmVudDogJ2hpZGUnIH1cbiAgfSxcblxuICBvcGVuTW9kYWw6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdGhpcy5vbmNlKCdhZnRlcjpzaG93Jywgb3B0aW9ucy5jYWxsYmFjayk7IC8vICdhZnRlcjpzaG93JyA9ICdzaG93JyA/P1xuICAgIHRoaXMuc2V0dXBNb2RhbChvcHRpb25zKTtcbiAgICB0aGlzLiRlbC5tb2RhbCgnc2hvdycpO1xuICB9LFxuXG4gIGRlc3Ryb3lNb2RhbDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB0aGlzLm9uY2UoJ2hpZGUnLCBvcHRpb25zLmNhbGxiYWNrKTtcbiAgICB0aGlzLm9uY2UoJ2hpZGUnLCB0aGlzLnRlYXJkb3duTW9kYWwpO1xuICAgIHRoaXMuJGVsLm1vZGFsKCdoaWRlJyk7XG4gIH0sXG5cbiAgc2V0dXBNb2RhbDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBpZiAodGhpcy5pc1Nob3duKSB7XG4gICAgICB0aGlzLnRlYXJkb3duTW9kYWwoKTtcbiAgICB9XG5cbiAgICAvLyBwYXNzIG9uIGF0dHJpYnV0ZXNcbiAgICBpZiggb3B0aW9ucy5hdHRyaWJ1dGVzICl7XG5cbiAgICAgIC8vIG1vZGFsIGNsYXNzXG4gICAgICBpZiggb3B0aW9ucy5hdHRyaWJ1dGVzLmNsYXNzTmFtZSApe1xuICAgICAgICB0aGlzLiQoJy5tb2RhbC1kaWFsb2cnKS5hZGRDbGFzcyggb3B0aW9ucy5hdHRyaWJ1dGVzLmNsYXNzTmFtZSApO1xuICAgICAgfVxuXG4gICAgICAvLyBtb2RhbCB0aXRsZVxuICAgICAgaWYoIG9wdGlvbnMuYXR0cmlidXRlcy50aXRsZSApIHtcbiAgICAgICAgdGhpcy4kKCcubW9kYWwtaGVhZGVyIGgxJykuaHRtbCggb3B0aW9ucy5hdHRyaWJ1dGVzLnRpdGxlICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5jb250ZW50LnNob3cob3B0aW9ucy52aWV3KTtcbiAgICB0aGlzLmlzU2hvd24gPSB0cnVlO1xuXG4gICAgaWYoIG9wdGlvbnMudmlldy5tb2RlbCApIHtcbiAgICAgIHRoaXMubGlzdGVuVG8oIG9wdGlvbnMudmlldy5tb2RlbCwgJ3NhdmU6c3RhdHVzJywgdGhpcy51cGRhdGVTYXZlU3RhdHVzICk7XG4gICAgfVxuXG4gIH0sXG5cbiAgdGVhcmRvd25Nb2RhbDogZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5pc1Nob3duKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY29udGVudC5lbXB0eSgpO1xuICAgIHRoaXMucmVuZGVyKCk7IC8vIHJlLXJlbmRlciB0byByZXNldCBhdHRyaWJ1dGVzXG4gICAgdGhpcy5pc1Nob3duID0gZmFsc2U7XG4gIH0sXG5cbiAgc2F2aW5nOiBmdW5jdGlvbigpe1xuICAgIHRoaXMuJCgnLm1vZGFsLWZvb3RlciAuYWN0aW9uLXNhdmUnKVxuICAgICAgICAuYWRkQ2xhc3MoICdkaXNhYmxlZCcgKTtcblxuICAgIHRoaXMuJCgnLm1vZGFsLWZvb3RlciBwLnJlc3BvbnNlJylcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdzdWNjZXNzIGVycm9yJylcbiAgICAgICAgLmh0bWwoICc8aSBjbGFzcz1cImljb24gaWNvbi1zcGlubmVyXCI+PC9pPicgKTtcbiAgfSxcblxuICB1cGRhdGVTYXZlU3RhdHVzOiBmdW5jdGlvbiggc3RhdHVzLCBtZXNzYWdlICl7XG4gICAgaWYoIF8uaXNVbmRlZmluZWQobWVzc2FnZSkgKXtcbiAgICAgIG1lc3NhZ2UgPSB0aGlzLiQoJy5tb2RhbC1mb290ZXIgcC5yZXNwb25zZScpLmRhdGEoc3RhdHVzKTtcbiAgICB9XG5cbiAgICB0aGlzLiQoJy5tb2RhbC1mb290ZXIgcC5yZXNwb25zZScpXG4gICAgICAgIC5hZGRDbGFzcyhzdGF0dXMpXG4gICAgICAgIC5odG1sKCAnPGkgY2xhc3M9XCJpY29uIGljb24tJyArIHN0YXR1cyArICdcIj48L2k+ICcgKyBtZXNzYWdlICk7XG5cbiAgICB0aGlzLiQoJy5tb2RhbC1mb290ZXIgLmFjdGlvbi1zYXZlJylcbiAgICAgICAgLnJlbW92ZUNsYXNzKCAnZGlzYWJsZWQnICk7XG4gIH1cblxufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbGliL2NvbXBvbmVudHMvbW9kYWwvbGF5b3V0LXZpZXcuanNcbiAqKiBtb2R1bGUgaWQgPSAzM1xuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiMzMuanMifQ==");

/***/ },
/* 34 */
/*!***********************************!*\
  !*** ./~/apps/app/layout-view.js ***!
  \***********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var LayoutView = __webpack_require__(/*! lib/config/layout-view */ 49);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar $ = __webpack_require__(/*! jquery */ 3);\n\nmodule.exports = LayoutView.extend({\n    el: '#page',\n    template: _.template( $('#page').html() ),\n    regions: {\n        headerRegion: '#header',\n        menuRegion  : '#menu',\n        tabsRegion  : '#tabs',\n        mainRegion  : '#main',\n        modalRegion : '#modal'\n    }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvYXBwL2xheW91dC12aWV3LmpzPzZhNjEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBMYXlvdXRWaWV3ID0gcmVxdWlyZSgnbGliL2NvbmZpZy9sYXlvdXQtdmlldycpO1xudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gTGF5b3V0Vmlldy5leHRlbmQoe1xuICAgIGVsOiAnI3BhZ2UnLFxuICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKCAkKCcjcGFnZScpLmh0bWwoKSApLFxuICAgIHJlZ2lvbnM6IHtcbiAgICAgICAgaGVhZGVyUmVnaW9uOiAnI2hlYWRlcicsXG4gICAgICAgIG1lbnVSZWdpb24gIDogJyNtZW51JyxcbiAgICAgICAgdGFic1JlZ2lvbiAgOiAnI3RhYnMnLFxuICAgICAgICBtYWluUmVnaW9uICA6ICcjbWFpbicsXG4gICAgICAgIG1vZGFsUmVnaW9uIDogJyNtb2RhbCdcbiAgICB9XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hcHBzL2FwcC9sYXlvdXQtdmlldy5qc1xuICoqIG1vZHVsZSBpZCA9IDM0XG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiIzNC5qcyJ9");

/***/ },
/* 35 */
/*!********************************!*\
  !*** ./~/apps/header/views.js ***!
  \********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Views = {};\nvar ItemView = __webpack_require__(/*! lib/config/item-view */ 50);\nvar Backbone = __webpack_require__(/*! backbone */ 2);\nvar headerChannel = Backbone.Radio.channel('header');\nvar entitiesChannel = Backbone.Radio.channel('entities');\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar HotKeys = __webpack_require__(/*! lib/components/hotkeys/behavior */ 60);\nvar Modal = __webpack_require__(/*! lib/components/modal/behavior */ 51);\nvar Tooltip = __webpack_require__(/*! lib/components/tooltip/behavior */ 61);\n\nViews.HelpModal = ItemView.extend({\n  tagName: 'form',\n\n  behaviors: {\n    Modal: {\n      behaviorClass: Modal\n    },\n    Tooltip: {\n      behaviorClass: Tooltip\n    }\n  },\n\n  initialize: function () {\n    this.template = Handlebars.compile( $('#tmpl-wc-pos-help-modal').html() );\n    this.collection = entitiesChannel.request('hotkeys');\n\n    // bit of a hack\n    // get the translated title from the template element\n    this.title = $('#tmpl-wc-pos-help-modal').data('title');\n\n    // listen for button clicks\n    this.on( 'button:clicked', this.onButtonClick );\n\n    this.trigger( 'modal:open' );\n  },\n\n  serializeData: function() {\n    return { hotkeys: this.collection.toJSON() };\n  },\n\n  onButtonClick: function(e){\n    if( $(e.target).hasClass('action-save') ){\n      this.save();\n    }\n  },\n\n  save: function() {\n    var data = Backbone.Syphon.serialize( this );\n    this.collection.set( data );\n    this.collection.save();\n  }\n\n});\n\nViews.Header = ItemView.extend({\n\n  ui: {\n    'menu': '#menu-btn'\n  },\n\n  events: {\n    'click @ui.menu': 'openMenu'\n  },\n\n  keyEvents: {\n    'help': 'showHelpModal'\n  },\n\n  behaviors: {\n    HotKeys: {\n      behaviorClass: HotKeys\n    }\n  },\n\n  openMenu: function(e){\n    if(e) {\n      e.preventDefault();\n    }\n\n    // open menu & append backdrop\n    $('body').addClass('menu-open');\n    this.backdrop = $('<div class=\"modal-backdrop in\"></div>');\n    this.backdrop.height('100%');\n    $('body').append(this.backdrop);\n\n    // listen for clicks on backdrop\n    this.backdrop.on('click', function(e){\n      this.closeMenu();\n    }.bind(this));\n  },\n\n  closeMenu: function(){\n\n    // close menu\n    $('body').removeClass('menu-open');\n\n    // teardown backdrop\n    if(this.backdrop) {\n      this.backdrop.remove();\n      delete this.backdrop;\n    }\n  },\n\n  showHelpModal: function() {\n    new Views.HelpModal();\n  }\n\n});\n\nViews.Menu = ItemView.extend({\n\n  events: {\n    'click ul li a': 'menuItemClicked'\n  },\n\n  menuItemClicked: function(){\n    headerChannel.command('close:menu');\n  }\n\n});\n\nmodule.exports = Views;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvaGVhZGVyL3ZpZXdzLmpzP2M4NDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLFlBQVk7QUFDWixHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRCIsInNvdXJjZXNDb250ZW50IjpbInZhciBWaWV3cyA9IHt9O1xudmFyIEl0ZW1WaWV3ID0gcmVxdWlyZSgnbGliL2NvbmZpZy9pdGVtLXZpZXcnKTtcbnZhciBCYWNrYm9uZSA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG52YXIgaGVhZGVyQ2hhbm5lbCA9IEJhY2tib25lLlJhZGlvLmNoYW5uZWwoJ2hlYWRlcicpO1xudmFyIGVudGl0aWVzQ2hhbm5lbCA9IEJhY2tib25lLlJhZGlvLmNoYW5uZWwoJ2VudGl0aWVzJyk7XG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xudmFyIEhvdEtleXMgPSByZXF1aXJlKCdsaWIvY29tcG9uZW50cy9ob3RrZXlzL2JlaGF2aW9yJyk7XG52YXIgTW9kYWwgPSByZXF1aXJlKCdsaWIvY29tcG9uZW50cy9tb2RhbC9iZWhhdmlvcicpO1xudmFyIFRvb2x0aXAgPSByZXF1aXJlKCdsaWIvY29tcG9uZW50cy90b29sdGlwL2JlaGF2aW9yJyk7XG5cblZpZXdzLkhlbHBNb2RhbCA9IEl0ZW1WaWV3LmV4dGVuZCh7XG4gIHRhZ05hbWU6ICdmb3JtJyxcblxuICBiZWhhdmlvcnM6IHtcbiAgICBNb2RhbDoge1xuICAgICAgYmVoYXZpb3JDbGFzczogTW9kYWxcbiAgICB9LFxuICAgIFRvb2x0aXA6IHtcbiAgICAgIGJlaGF2aW9yQ2xhc3M6IFRvb2x0aXBcbiAgICB9XG4gIH0sXG5cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMudGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoICQoJyN0bXBsLXdjLXBvcy1oZWxwLW1vZGFsJykuaHRtbCgpICk7XG4gICAgdGhpcy5jb2xsZWN0aW9uID0gZW50aXRpZXNDaGFubmVsLnJlcXVlc3QoJ2hvdGtleXMnKTtcblxuICAgIC8vIGJpdCBvZiBhIGhhY2tcbiAgICAvLyBnZXQgdGhlIHRyYW5zbGF0ZWQgdGl0bGUgZnJvbSB0aGUgdGVtcGxhdGUgZWxlbWVudFxuICAgIHRoaXMudGl0bGUgPSAkKCcjdG1wbC13Yy1wb3MtaGVscC1tb2RhbCcpLmRhdGEoJ3RpdGxlJyk7XG5cbiAgICAvLyBsaXN0ZW4gZm9yIGJ1dHRvbiBjbGlja3NcbiAgICB0aGlzLm9uKCAnYnV0dG9uOmNsaWNrZWQnLCB0aGlzLm9uQnV0dG9uQ2xpY2sgKTtcblxuICAgIHRoaXMudHJpZ2dlciggJ21vZGFsOm9wZW4nICk7XG4gIH0sXG5cbiAgc2VyaWFsaXplRGF0YTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHsgaG90a2V5czogdGhpcy5jb2xsZWN0aW9uLnRvSlNPTigpIH07XG4gIH0sXG5cbiAgb25CdXR0b25DbGljazogZnVuY3Rpb24oZSl7XG4gICAgaWYoICQoZS50YXJnZXQpLmhhc0NsYXNzKCdhY3Rpb24tc2F2ZScpICl7XG4gICAgICB0aGlzLnNhdmUoKTtcbiAgICB9XG4gIH0sXG5cbiAgc2F2ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRhdGEgPSBCYWNrYm9uZS5TeXBob24uc2VyaWFsaXplKCB0aGlzICk7XG4gICAgdGhpcy5jb2xsZWN0aW9uLnNldCggZGF0YSApO1xuICAgIHRoaXMuY29sbGVjdGlvbi5zYXZlKCk7XG4gIH1cblxufSk7XG5cblZpZXdzLkhlYWRlciA9IEl0ZW1WaWV3LmV4dGVuZCh7XG5cbiAgdWk6IHtcbiAgICAnbWVudSc6ICcjbWVudS1idG4nXG4gIH0sXG5cbiAgZXZlbnRzOiB7XG4gICAgJ2NsaWNrIEB1aS5tZW51JzogJ29wZW5NZW51J1xuICB9LFxuXG4gIGtleUV2ZW50czoge1xuICAgICdoZWxwJzogJ3Nob3dIZWxwTW9kYWwnXG4gIH0sXG5cbiAgYmVoYXZpb3JzOiB7XG4gICAgSG90S2V5czoge1xuICAgICAgYmVoYXZpb3JDbGFzczogSG90S2V5c1xuICAgIH1cbiAgfSxcblxuICBvcGVuTWVudTogZnVuY3Rpb24oZSl7XG4gICAgaWYoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIC8vIG9wZW4gbWVudSAmIGFwcGVuZCBiYWNrZHJvcFxuICAgICQoJ2JvZHknKS5hZGRDbGFzcygnbWVudS1vcGVuJyk7XG4gICAgdGhpcy5iYWNrZHJvcCA9ICQoJzxkaXYgY2xhc3M9XCJtb2RhbC1iYWNrZHJvcCBpblwiPjwvZGl2PicpO1xuICAgIHRoaXMuYmFja2Ryb3AuaGVpZ2h0KCcxMDAlJyk7XG4gICAgJCgnYm9keScpLmFwcGVuZCh0aGlzLmJhY2tkcm9wKTtcblxuICAgIC8vIGxpc3RlbiBmb3IgY2xpY2tzIG9uIGJhY2tkcm9wXG4gICAgdGhpcy5iYWNrZHJvcC5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICAgIHRoaXMuY2xvc2VNZW51KCk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgfSxcblxuICBjbG9zZU1lbnU6IGZ1bmN0aW9uKCl7XG5cbiAgICAvLyBjbG9zZSBtZW51XG4gICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdtZW51LW9wZW4nKTtcblxuICAgIC8vIHRlYXJkb3duIGJhY2tkcm9wXG4gICAgaWYodGhpcy5iYWNrZHJvcCkge1xuICAgICAgdGhpcy5iYWNrZHJvcC5yZW1vdmUoKTtcbiAgICAgIGRlbGV0ZSB0aGlzLmJhY2tkcm9wO1xuICAgIH1cbiAgfSxcblxuICBzaG93SGVscE1vZGFsOiBmdW5jdGlvbigpIHtcbiAgICBuZXcgVmlld3MuSGVscE1vZGFsKCk7XG4gIH1cblxufSk7XG5cblZpZXdzLk1lbnUgPSBJdGVtVmlldy5leHRlbmQoe1xuXG4gIGV2ZW50czoge1xuICAgICdjbGljayB1bCBsaSBhJzogJ21lbnVJdGVtQ2xpY2tlZCdcbiAgfSxcblxuICBtZW51SXRlbUNsaWNrZWQ6IGZ1bmN0aW9uKCl7XG4gICAgaGVhZGVyQ2hhbm5lbC5jb21tYW5kKCdjbG9zZTptZW51Jyk7XG4gIH1cblxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gVmlld3M7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXBwcy9oZWFkZXIvdmlld3MuanNcbiAqKiBtb2R1bGUgaWQgPSAzNVxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiMzUuanMifQ==");

/***/ },
/* 36 */
/*!******************************!*\
  !*** ./~/apps/pos/router.js ***!
  \******************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var POS = __webpack_require__(/*! lib/utilities/global */ 9);\nvar Router = __webpack_require__(/*! lib/config/router */ 52);\nvar LayoutView = __webpack_require__(/*! ./layout-view */ 53);\nvar Products = __webpack_require__(/*! ./products/route */ 62);\nvar CartRoute = __webpack_require__(/*! ./cart/route */ 63);\nvar entitiesChannel = Backbone.Radio.channel('entities');\nvar FilteredCollection = __webpack_require__(/*! lib/config/filtered-collection */ 54);\n\nvar Router = Router.extend({\n  initialize: function(options) {\n    this.container = options.container;\n\n    this.products = {}\n    this.products.collection = entitiesChannel.request('products');\n    this.products.filtered   = new FilteredCollection( this.products.collection );\n\n    this.cart = entitiesChannel.request('cart');\n    this.orders = entitiesChannel.request('orders');\n\n    this.channel.reply({\n      'get:products': function(){\n        return this.products.filtered;\n      },\n      'get:cart': function(){\n        return this.cart;\n      },\n      'get:orders': function(){\n        return this.orders;\n      }\n    }, this);\n  },\n\n  onBeforeEnter: function() {\n    this.layout = new LayoutView();\n    this.container.show(this.layout);\n    this.container.$el.addClass('two-column');\n  },\n\n  routes: {\n    '' : 'showCart',\n    'cart' : 'showCart',\n    'cart/:id' : 'showCart',\n    'checkout' : 'showCheckout',\n    'checkout/:id' : 'showCheckout',\n    'receipt/:id' : 'showReceipt'\n  },\n\n  onBeforeRoute: function(){\n    if( ! this.layout.leftRegion.hasView() ){\n      this.showProducts();\n    }\n  },\n\n  showProducts: function(){\n    var products = new Products({\n      container  : this.layout.leftRegion,\n      collection : this.products.collection,\n      filtered   : this.products.filtered\n    });\n    products.enter();\n  },\n\n  showCart: function(id) {\n    return new CartRoute({\n      container  : this.layout.rightRegion\n    });\n\n    //new POSApp.Cart.Controller({ id: id, region: this.init() });\n  },\n\n  showCheckout: function(id) {\n    //new POSApp.Checkout.Controller({ id: id, region: this.init() });\n  },\n\n  showReceipt: function(id) {\n    //new POSApp.Receipt.Controller({ id: id, region: this.init() });\n  }\n\n});\n\nmodule.exports = Router;\nPOS.attach('POSApp.Router', Router);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL3JvdXRlci5qcz8yMjIzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMLGtDQUFrQyw4QkFBOEI7QUFDaEUsR0FBRzs7QUFFSDtBQUNBLHNDQUFzQyw4QkFBOEI7QUFDcEUsR0FBRzs7QUFFSDtBQUNBLHFDQUFxQyw4QkFBOEI7QUFDbkU7O0FBRUEsQ0FBQzs7QUFFRDtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFBPUyA9IHJlcXVpcmUoJ2xpYi91dGlsaXRpZXMvZ2xvYmFsJyk7XG52YXIgUm91dGVyID0gcmVxdWlyZSgnbGliL2NvbmZpZy9yb3V0ZXInKTtcbnZhciBMYXlvdXRWaWV3ID0gcmVxdWlyZSgnLi9sYXlvdXQtdmlldycpO1xudmFyIFByb2R1Y3RzID0gcmVxdWlyZSgnLi9wcm9kdWN0cy9yb3V0ZScpO1xudmFyIENhcnRSb3V0ZSA9IHJlcXVpcmUoJy4vY2FydC9yb3V0ZScpO1xudmFyIGVudGl0aWVzQ2hhbm5lbCA9IEJhY2tib25lLlJhZGlvLmNoYW5uZWwoJ2VudGl0aWVzJyk7XG52YXIgRmlsdGVyZWRDb2xsZWN0aW9uID0gcmVxdWlyZSgnbGliL2NvbmZpZy9maWx0ZXJlZC1jb2xsZWN0aW9uJyk7XG5cbnZhciBSb3V0ZXIgPSBSb3V0ZXIuZXh0ZW5kKHtcbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHRoaXMuY29udGFpbmVyID0gb3B0aW9ucy5jb250YWluZXI7XG5cbiAgICB0aGlzLnByb2R1Y3RzID0ge31cbiAgICB0aGlzLnByb2R1Y3RzLmNvbGxlY3Rpb24gPSBlbnRpdGllc0NoYW5uZWwucmVxdWVzdCgncHJvZHVjdHMnKTtcbiAgICB0aGlzLnByb2R1Y3RzLmZpbHRlcmVkICAgPSBuZXcgRmlsdGVyZWRDb2xsZWN0aW9uKCB0aGlzLnByb2R1Y3RzLmNvbGxlY3Rpb24gKTtcblxuICAgIHRoaXMuY2FydCA9IGVudGl0aWVzQ2hhbm5lbC5yZXF1ZXN0KCdjYXJ0Jyk7XG4gICAgdGhpcy5vcmRlcnMgPSBlbnRpdGllc0NoYW5uZWwucmVxdWVzdCgnb3JkZXJzJyk7XG5cbiAgICB0aGlzLmNoYW5uZWwucmVwbHkoe1xuICAgICAgJ2dldDpwcm9kdWN0cyc6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2R1Y3RzLmZpbHRlcmVkO1xuICAgICAgfSxcbiAgICAgICdnZXQ6Y2FydCc6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiB0aGlzLmNhcnQ7XG4gICAgICB9LFxuICAgICAgJ2dldDpvcmRlcnMnOiBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gdGhpcy5vcmRlcnM7XG4gICAgICB9XG4gICAgfSwgdGhpcyk7XG4gIH0sXG5cbiAgb25CZWZvcmVFbnRlcjogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5sYXlvdXQgPSBuZXcgTGF5b3V0VmlldygpO1xuICAgIHRoaXMuY29udGFpbmVyLnNob3codGhpcy5sYXlvdXQpO1xuICAgIHRoaXMuY29udGFpbmVyLiRlbC5hZGRDbGFzcygndHdvLWNvbHVtbicpO1xuICB9LFxuXG4gIHJvdXRlczoge1xuICAgICcnIDogJ3Nob3dDYXJ0JyxcbiAgICAnY2FydCcgOiAnc2hvd0NhcnQnLFxuICAgICdjYXJ0LzppZCcgOiAnc2hvd0NhcnQnLFxuICAgICdjaGVja291dCcgOiAnc2hvd0NoZWNrb3V0JyxcbiAgICAnY2hlY2tvdXQvOmlkJyA6ICdzaG93Q2hlY2tvdXQnLFxuICAgICdyZWNlaXB0LzppZCcgOiAnc2hvd1JlY2VpcHQnXG4gIH0sXG5cbiAgb25CZWZvcmVSb3V0ZTogZnVuY3Rpb24oKXtcbiAgICBpZiggISB0aGlzLmxheW91dC5sZWZ0UmVnaW9uLmhhc1ZpZXcoKSApe1xuICAgICAgdGhpcy5zaG93UHJvZHVjdHMoKTtcbiAgICB9XG4gIH0sXG5cbiAgc2hvd1Byb2R1Y3RzOiBmdW5jdGlvbigpe1xuICAgIHZhciBwcm9kdWN0cyA9IG5ldyBQcm9kdWN0cyh7XG4gICAgICBjb250YWluZXIgIDogdGhpcy5sYXlvdXQubGVmdFJlZ2lvbixcbiAgICAgIGNvbGxlY3Rpb24gOiB0aGlzLnByb2R1Y3RzLmNvbGxlY3Rpb24sXG4gICAgICBmaWx0ZXJlZCAgIDogdGhpcy5wcm9kdWN0cy5maWx0ZXJlZFxuICAgIH0pO1xuICAgIHByb2R1Y3RzLmVudGVyKCk7XG4gIH0sXG5cbiAgc2hvd0NhcnQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgcmV0dXJuIG5ldyBDYXJ0Um91dGUoe1xuICAgICAgY29udGFpbmVyICA6IHRoaXMubGF5b3V0LnJpZ2h0UmVnaW9uXG4gICAgfSk7XG5cbiAgICAvL25ldyBQT1NBcHAuQ2FydC5Db250cm9sbGVyKHsgaWQ6IGlkLCByZWdpb246IHRoaXMuaW5pdCgpIH0pO1xuICB9LFxuXG4gIHNob3dDaGVja291dDogZnVuY3Rpb24oaWQpIHtcbiAgICAvL25ldyBQT1NBcHAuQ2hlY2tvdXQuQ29udHJvbGxlcih7IGlkOiBpZCwgcmVnaW9uOiB0aGlzLmluaXQoKSB9KTtcbiAgfSxcblxuICBzaG93UmVjZWlwdDogZnVuY3Rpb24oaWQpIHtcbiAgICAvL25ldyBQT1NBcHAuUmVjZWlwdC5Db250cm9sbGVyKHsgaWQ6IGlkLCByZWdpb246IHRoaXMuaW5pdCgpIH0pO1xuICB9XG5cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJvdXRlcjtcblBPUy5hdHRhY2goJ1BPU0FwcC5Sb3V0ZXInLCBSb3V0ZXIpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FwcHMvcG9zL3JvdXRlci5qc1xuICoqIG1vZHVsZSBpZCA9IDM2XG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiIzNi5qcyJ9");

/***/ },
/* 37 */
/*!**********************************!*\
  !*** ./~/apps/support/router.js ***!
  \**********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Router = __webpack_require__(/*! lib/config/router */ 52);\nvar LayoutView = __webpack_require__(/*! ./layout-view */ 55);\nvar FormView = __webpack_require__(/*! ./form/view */ 64);\nvar StatusView = __webpack_require__(/*! ./status/view */ 65);\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar Backbone = __webpack_require__(/*! backbone */ 2);\nvar enititesChannel = Backbone.Radio.channel('entities');\n\nmodule.exports = Router.extend({\n  initialize: function(options) {\n    this.container = options.container;\n  },\n\n  onBeforeEnter: function() {\n    this.layout = new LayoutView();\n    this.container.show(this.layout);\n    this.container.$el.addClass('two-column');\n  },\n\n  routes: {\n    'support' : 'show'\n  },\n\n  show: function(){\n    var ajaxurl = enititesChannel.request( 'get:options', 'ajaxurl');\n    this.showForm( ajaxurl );\n    this.showStatus( ajaxurl );\n  },\n\n  showForm: function( ajaxurl ){\n    var view = new FormView();\n\n    this.listenTo( view, 'send:email', function( data ){\n      $.post( ajaxurl, {\n        action: 'wc_pos_send_support_email',\n        payload: data\n      });\n    });\n\n    this.layout.leftRegion.show( view );\n  },\n\n  showStatus: function( ajaxurl ){\n    var results = $.get( ajaxurl, {\n      action: 'wc_pos_system_status'\n    });\n\n    //var view = new StatusView( results );\n\n    //POS.Components.Loading.channel.command( 'show:loading', view, {\n    //    region: this.layout.rightRegion,\n    //    loading: {\n    //        entities: results\n    //    }\n    //});\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvc3VwcG9ydC9yb3V0ZXIuanM/ZWQzYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSb3V0ZXIgPSByZXF1aXJlKCdsaWIvY29uZmlnL3JvdXRlcicpO1xudmFyIExheW91dFZpZXcgPSByZXF1aXJlKCcuL2xheW91dC12aWV3Jyk7XG52YXIgRm9ybVZpZXcgPSByZXF1aXJlKCcuL2Zvcm0vdmlldycpO1xudmFyIFN0YXR1c1ZpZXcgPSByZXF1aXJlKCcuL3N0YXR1cy92aWV3Jyk7XG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xudmFyIEJhY2tib25lID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBlbml0aXRlc0NoYW5uZWwgPSBCYWNrYm9uZS5SYWRpby5jaGFubmVsKCdlbnRpdGllcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJvdXRlci5leHRlbmQoe1xuICBpbml0aWFsaXplOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdGhpcy5jb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lcjtcbiAgfSxcblxuICBvbkJlZm9yZUVudGVyOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmxheW91dCA9IG5ldyBMYXlvdXRWaWV3KCk7XG4gICAgdGhpcy5jb250YWluZXIuc2hvdyh0aGlzLmxheW91dCk7XG4gICAgdGhpcy5jb250YWluZXIuJGVsLmFkZENsYXNzKCd0d28tY29sdW1uJyk7XG4gIH0sXG5cbiAgcm91dGVzOiB7XG4gICAgJ3N1cHBvcnQnIDogJ3Nob3cnXG4gIH0sXG5cbiAgc2hvdzogZnVuY3Rpb24oKXtcbiAgICB2YXIgYWpheHVybCA9IGVuaXRpdGVzQ2hhbm5lbC5yZXF1ZXN0KCAnZ2V0Om9wdGlvbnMnLCAnYWpheHVybCcpO1xuICAgIHRoaXMuc2hvd0Zvcm0oIGFqYXh1cmwgKTtcbiAgICB0aGlzLnNob3dTdGF0dXMoIGFqYXh1cmwgKTtcbiAgfSxcblxuICBzaG93Rm9ybTogZnVuY3Rpb24oIGFqYXh1cmwgKXtcbiAgICB2YXIgdmlldyA9IG5ldyBGb3JtVmlldygpO1xuXG4gICAgdGhpcy5saXN0ZW5UbyggdmlldywgJ3NlbmQ6ZW1haWwnLCBmdW5jdGlvbiggZGF0YSApe1xuICAgICAgJC5wb3N0KCBhamF4dXJsLCB7XG4gICAgICAgIGFjdGlvbjogJ3djX3Bvc19zZW5kX3N1cHBvcnRfZW1haWwnLFxuICAgICAgICBwYXlsb2FkOiBkYXRhXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRoaXMubGF5b3V0LmxlZnRSZWdpb24uc2hvdyggdmlldyApO1xuICB9LFxuXG4gIHNob3dTdGF0dXM6IGZ1bmN0aW9uKCBhamF4dXJsICl7XG4gICAgdmFyIHJlc3VsdHMgPSAkLmdldCggYWpheHVybCwge1xuICAgICAgYWN0aW9uOiAnd2NfcG9zX3N5c3RlbV9zdGF0dXMnXG4gICAgfSk7XG5cbiAgICAvL3ZhciB2aWV3ID0gbmV3IFN0YXR1c1ZpZXcoIHJlc3VsdHMgKTtcblxuICAgIC8vUE9TLkNvbXBvbmVudHMuTG9hZGluZy5jaGFubmVsLmNvbW1hbmQoICdzaG93OmxvYWRpbmcnLCB2aWV3LCB7XG4gICAgLy8gICAgcmVnaW9uOiB0aGlzLmxheW91dC5yaWdodFJlZ2lvbixcbiAgICAvLyAgICBsb2FkaW5nOiB7XG4gICAgLy8gICAgICAgIGVudGl0aWVzOiByZXN1bHRzXG4gICAgLy8gICAgfVxuICAgIC8vfSk7XG4gIH1cblxufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXBwcy9zdXBwb3J0L3JvdXRlci5qc1xuICoqIG1vZHVsZSBpZCA9IDM3XG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiIzNy5qcyJ9");

/***/ },
/* 38 */,
/* 39 */,
/* 40 */,
/* 41 */,
/* 42 */,
/* 43 */
/*!*******************************************!*\
  !*** ./~/entities/products/collection.js ***!
  \*******************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Backbone = __webpack_require__(/*! backbone */ 2);\nvar DualCollection = __webpack_require__(/*! lib/config/dual-collection */ 56);\nvar Model = __webpack_require__(/*! ./model */ 57);\n//var IndexedDB = require('lib/config/indexeddb');\nvar _ = __webpack_require__(/*! lodash */ 1);\n\nmodule.exports = DualCollection.extend({\n  name: 'products',\n  model: Model,\n\n  initialize: function(){\n    this.indexedDB = new Backbone.IndexedDB({\n      storeName: 'products',\n      storePrefix: 'wc_pos_',\n      dualStorage: true,\n      dbVersion: 1,\n      keyPath: 'local_id',\n      autoIncrement: true,\n      indexes: [\n        {name: 'local_id', keyPath: 'local_id', unique: true},\n        {name: 'id', keyPath: 'id', unique: true},\n        {name: 'status', keyPath: 'status', unique: false}\n      ]\n    }, this);\n\n    //this.indexedDB.sayHello();\n\n    //\n    this.on( 'remote:sync', this.remoteSync );\n  },\n\n  parse: function (resp) {\n    if( resp.products ){\n      this.serverResponse(resp);\n      return resp.products;\n    } else {\n      return resp;\n    }\n  },\n\n  serverResponse: function(resp){\n    var variable = _.where(resp.products, { type: 'variable' });\n    _.each( variable, function( product ) {\n      _.each( product.variations, function( variation ){\n        variation.type      = 'variation';\n        variation.title     = product.title;\n        variation.parent    = product.id;\n        variation.categories= product.categories;\n        resp.products.push( variation );\n      });\n    });\n  },\n\n  remoteSync: function(){\n    this.fullSync()\n      .done( function() {\n\n      });\n      //.fail( function( item, jqXHR, textStatus, errorThrown ){\n      //  // error alert\n      //  var errors = POS.Utils.parseErrorResponse( jqXHR );\n      //  POS.Components.Alerts.channel.command( 'open:alert', {\n      //    type: 'danger',\n      //    title: item.title,\n      //    message: errors\n      //  });\n      //});\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VudGl0aWVzL3Byb2R1Y3RzL2NvbGxlY3Rpb24uanM/MTJmOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLG9EQUFvRDtBQUM3RCxTQUFTLHdDQUF3QztBQUNqRCxTQUFTO0FBQ1Q7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsMkNBQTJDLG1CQUFtQjtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUEsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDs7QUFFQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEJhY2tib25lID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBEdWFsQ29sbGVjdGlvbiA9IHJlcXVpcmUoJ2xpYi9jb25maWcvZHVhbC1jb2xsZWN0aW9uJyk7XG52YXIgTW9kZWwgPSByZXF1aXJlKCcuL21vZGVsJyk7XG4vL3ZhciBJbmRleGVkREIgPSByZXF1aXJlKCdsaWIvY29uZmlnL2luZGV4ZWRkYicpO1xudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBEdWFsQ29sbGVjdGlvbi5leHRlbmQoe1xuICBuYW1lOiAncHJvZHVjdHMnLFxuICBtb2RlbDogTW9kZWwsXG5cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKXtcbiAgICB0aGlzLmluZGV4ZWREQiA9IG5ldyBCYWNrYm9uZS5JbmRleGVkREIoe1xuICAgICAgc3RvcmVOYW1lOiAncHJvZHVjdHMnLFxuICAgICAgc3RvcmVQcmVmaXg6ICd3Y19wb3NfJyxcbiAgICAgIGR1YWxTdG9yYWdlOiB0cnVlLFxuICAgICAgZGJWZXJzaW9uOiAxLFxuICAgICAga2V5UGF0aDogJ2xvY2FsX2lkJyxcbiAgICAgIGF1dG9JbmNyZW1lbnQ6IHRydWUsXG4gICAgICBpbmRleGVzOiBbXG4gICAgICAgIHtuYW1lOiAnbG9jYWxfaWQnLCBrZXlQYXRoOiAnbG9jYWxfaWQnLCB1bmlxdWU6IHRydWV9LFxuICAgICAgICB7bmFtZTogJ2lkJywga2V5UGF0aDogJ2lkJywgdW5pcXVlOiB0cnVlfSxcbiAgICAgICAge25hbWU6ICdzdGF0dXMnLCBrZXlQYXRoOiAnc3RhdHVzJywgdW5pcXVlOiBmYWxzZX1cbiAgICAgIF1cbiAgICB9LCB0aGlzKTtcblxuICAgIC8vdGhpcy5pbmRleGVkREIuc2F5SGVsbG8oKTtcblxuICAgIC8vXG4gICAgdGhpcy5vbiggJ3JlbW90ZTpzeW5jJywgdGhpcy5yZW1vdGVTeW5jICk7XG4gIH0sXG5cbiAgcGFyc2U6IGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgaWYoIHJlc3AucHJvZHVjdHMgKXtcbiAgICAgIHRoaXMuc2VydmVyUmVzcG9uc2UocmVzcCk7XG4gICAgICByZXR1cm4gcmVzcC5wcm9kdWN0cztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJlc3A7XG4gICAgfVxuICB9LFxuXG4gIHNlcnZlclJlc3BvbnNlOiBmdW5jdGlvbihyZXNwKXtcbiAgICB2YXIgdmFyaWFibGUgPSBfLndoZXJlKHJlc3AucHJvZHVjdHMsIHsgdHlwZTogJ3ZhcmlhYmxlJyB9KTtcbiAgICBfLmVhY2goIHZhcmlhYmxlLCBmdW5jdGlvbiggcHJvZHVjdCApIHtcbiAgICAgIF8uZWFjaCggcHJvZHVjdC52YXJpYXRpb25zLCBmdW5jdGlvbiggdmFyaWF0aW9uICl7XG4gICAgICAgIHZhcmlhdGlvbi50eXBlICAgICAgPSAndmFyaWF0aW9uJztcbiAgICAgICAgdmFyaWF0aW9uLnRpdGxlICAgICA9IHByb2R1Y3QudGl0bGU7XG4gICAgICAgIHZhcmlhdGlvbi5wYXJlbnQgICAgPSBwcm9kdWN0LmlkO1xuICAgICAgICB2YXJpYXRpb24uY2F0ZWdvcmllcz0gcHJvZHVjdC5jYXRlZ29yaWVzO1xuICAgICAgICByZXNwLnByb2R1Y3RzLnB1c2goIHZhcmlhdGlvbiApO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sXG5cbiAgcmVtb3RlU3luYzogZnVuY3Rpb24oKXtcbiAgICB0aGlzLmZ1bGxTeW5jKClcbiAgICAgIC5kb25lKCBmdW5jdGlvbigpIHtcblxuICAgICAgfSk7XG4gICAgICAvLy5mYWlsKCBmdW5jdGlvbiggaXRlbSwganFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duICl7XG4gICAgICAvLyAgLy8gZXJyb3IgYWxlcnRcbiAgICAgIC8vICB2YXIgZXJyb3JzID0gUE9TLlV0aWxzLnBhcnNlRXJyb3JSZXNwb25zZSgganFYSFIgKTtcbiAgICAgIC8vICBQT1MuQ29tcG9uZW50cy5BbGVydHMuY2hhbm5lbC5jb21tYW5kKCAnb3BlbjphbGVydCcsIHtcbiAgICAgIC8vICAgIHR5cGU6ICdkYW5nZXInLFxuICAgICAgLy8gICAgdGl0bGU6IGl0ZW0udGl0bGUsXG4gICAgICAvLyAgICBtZXNzYWdlOiBlcnJvcnNcbiAgICAgIC8vICB9KTtcbiAgICAgIC8vfSk7XG4gIH1cblxufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vZW50aXRpZXMvcHJvZHVjdHMvY29sbGVjdGlvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDQzXG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI0My5qcyJ9");

/***/ },
/* 44 */
/*!***************************************!*\
  !*** ./~/entities/cart/collection.js ***!
  \***************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar Collection = __webpack_require__(/*! lib/config/collection */ 47);\nvar Model = __webpack_require__(/*! ./model */ 58);\nvar Utils = __webpack_require__(/*! lib/utilities/utils */ 32);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar entitiesChannel = bb.Radio.channel('entities');\n\nmodule.exports = Collection.extend({\n  model: Model,\n\n  comparator: function( model ){\n    var type = model.get( 'type' );\n    if( type === 'fee' ) { return 2; }\n    if( type === 'shipping' ) { return 1; }\n    return 0;\n  },\n\n  initialize: function (models, options) {\n    options = options || {};\n\n    this.indexedDB = new bb.IndexedDB({\n      storeName: 'cart',\n      storePrefix: 'wc_pos_',\n      dbVersion: 1,\n      keyPath: 'local_id',\n      autoIncrement: true,\n      indexes: [\n        {name: 'order', keyPath: 'order', unique: false},\n        {name: 'type', keyPath: 'type', unique: false}\n      ]\n    }, this);\n\n    // if no order?\n    if ( options.order ) {\n      this.order = options.order;\n    }\n\n    this.on( 'add remove change', this.calcTotals );\n  },\n\n  calcTotals: function() {\n    var subtotal,\n      subtotal_tax,\n      total_tax = 0,\n      total;\n\n    // sum up the line totals\n    subtotal      = this.sum('subtotal');\n    subtotal_tax  = this.sum('subtotal_tax');\n    total         = this.sum('total');\n\n    var tax = entitiesChannel.request('get:options', 'tax');\n    if( tax.calc_taxes === 'yes' ) {\n      total_tax = this.sum('total_tax');\n    }\n\n    // create totals object\n    var totals = {\n      'total'         : Utils.round( total, 4 ),\n      'subtotal'      : Utils.round( subtotal, 4 ),\n      'subtotal_tax'  : Utils.round( subtotal_tax, 4 ),\n      'cart_discount' : Utils.round( subtotal - total, 4 ),\n      'total_tax'     : Utils.round( total_tax, 4 )\n      //'itemized_tax'  : itemized_tax\n    };\n\n    // if no order?\n    if( this.order ) {\n      this.order.save( totals );\n    }\n  },\n\n  fetchOrder: function () {\n    var self = this;\n    var onItem = function (item) {\n      if (item.order === self.order.id) {\n        self.add(item);\n      }\n    };\n    var onEnd = function () {\n      self.trigger('cart:ready');\n    };\n    self.indexedDB.iterate(onItem, {\n      index: 'order',\n      order: 'ASC',\n      onEnd: onEnd\n    });\n  },\n\n  // convenience method to sum attributes in collection\n  sum: function(attribute){\n    var array = this.pluck(attribute);\n    _( array ).reduce( function(memo, num){ return memo + num; }, 0 );\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VudGl0aWVzL2NhcnQvY29sbGVjdGlvbi5qcz85ZjhlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwwQkFBMEIsVUFBVTtBQUNwQywrQkFBK0IsVUFBVTtBQUN6QztBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsK0NBQStDO0FBQ3hELFNBQVM7QUFDVDtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLG1CQUFtQixFQUFFO0FBQ2hFO0FBQ0EsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBiYiA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG52YXIgQ29sbGVjdGlvbiA9IHJlcXVpcmUoJ2xpYi9jb25maWcvY29sbGVjdGlvbicpO1xudmFyIE1vZGVsID0gcmVxdWlyZSgnLi9tb2RlbCcpO1xudmFyIFV0aWxzID0gcmVxdWlyZSgnbGliL3V0aWxpdGllcy91dGlscycpO1xudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbnZhciBlbnRpdGllc0NoYW5uZWwgPSBiYi5SYWRpby5jaGFubmVsKCdlbnRpdGllcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbGxlY3Rpb24uZXh0ZW5kKHtcbiAgbW9kZWw6IE1vZGVsLFxuXG4gIGNvbXBhcmF0b3I6IGZ1bmN0aW9uKCBtb2RlbCApe1xuICAgIHZhciB0eXBlID0gbW9kZWwuZ2V0KCAndHlwZScgKTtcbiAgICBpZiggdHlwZSA9PT0gJ2ZlZScgKSB7IHJldHVybiAyOyB9XG4gICAgaWYoIHR5cGUgPT09ICdzaGlwcGluZycgKSB7IHJldHVybiAxOyB9XG4gICAgcmV0dXJuIDA7XG4gIH0sXG5cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG1vZGVscywgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgdGhpcy5pbmRleGVkREIgPSBuZXcgYmIuSW5kZXhlZERCKHtcbiAgICAgIHN0b3JlTmFtZTogJ2NhcnQnLFxuICAgICAgc3RvcmVQcmVmaXg6ICd3Y19wb3NfJyxcbiAgICAgIGRiVmVyc2lvbjogMSxcbiAgICAgIGtleVBhdGg6ICdsb2NhbF9pZCcsXG4gICAgICBhdXRvSW5jcmVtZW50OiB0cnVlLFxuICAgICAgaW5kZXhlczogW1xuICAgICAgICB7bmFtZTogJ29yZGVyJywga2V5UGF0aDogJ29yZGVyJywgdW5pcXVlOiBmYWxzZX0sXG4gICAgICAgIHtuYW1lOiAndHlwZScsIGtleVBhdGg6ICd0eXBlJywgdW5pcXVlOiBmYWxzZX1cbiAgICAgIF1cbiAgICB9LCB0aGlzKTtcblxuICAgIC8vIGlmIG5vIG9yZGVyP1xuICAgIGlmICggb3B0aW9ucy5vcmRlciApIHtcbiAgICAgIHRoaXMub3JkZXIgPSBvcHRpb25zLm9yZGVyO1xuICAgIH1cblxuICAgIHRoaXMub24oICdhZGQgcmVtb3ZlIGNoYW5nZScsIHRoaXMuY2FsY1RvdGFscyApO1xuICB9LFxuXG4gIGNhbGNUb3RhbHM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdWJ0b3RhbCxcbiAgICAgIHN1YnRvdGFsX3RheCxcbiAgICAgIHRvdGFsX3RheCA9IDAsXG4gICAgICB0b3RhbDtcblxuICAgIC8vIHN1bSB1cCB0aGUgbGluZSB0b3RhbHNcbiAgICBzdWJ0b3RhbCAgICAgID0gdGhpcy5zdW0oJ3N1YnRvdGFsJyk7XG4gICAgc3VidG90YWxfdGF4ICA9IHRoaXMuc3VtKCdzdWJ0b3RhbF90YXgnKTtcbiAgICB0b3RhbCAgICAgICAgID0gdGhpcy5zdW0oJ3RvdGFsJyk7XG5cbiAgICB2YXIgdGF4ID0gZW50aXRpZXNDaGFubmVsLnJlcXVlc3QoJ2dldDpvcHRpb25zJywgJ3RheCcpO1xuICAgIGlmKCB0YXguY2FsY190YXhlcyA9PT0gJ3llcycgKSB7XG4gICAgICB0b3RhbF90YXggPSB0aGlzLnN1bSgndG90YWxfdGF4Jyk7XG4gICAgfVxuXG4gICAgLy8gY3JlYXRlIHRvdGFscyBvYmplY3RcbiAgICB2YXIgdG90YWxzID0ge1xuICAgICAgJ3RvdGFsJyAgICAgICAgIDogVXRpbHMucm91bmQoIHRvdGFsLCA0ICksXG4gICAgICAnc3VidG90YWwnICAgICAgOiBVdGlscy5yb3VuZCggc3VidG90YWwsIDQgKSxcbiAgICAgICdzdWJ0b3RhbF90YXgnICA6IFV0aWxzLnJvdW5kKCBzdWJ0b3RhbF90YXgsIDQgKSxcbiAgICAgICdjYXJ0X2Rpc2NvdW50JyA6IFV0aWxzLnJvdW5kKCBzdWJ0b3RhbCAtIHRvdGFsLCA0ICksXG4gICAgICAndG90YWxfdGF4JyAgICAgOiBVdGlscy5yb3VuZCggdG90YWxfdGF4LCA0IClcbiAgICAgIC8vJ2l0ZW1pemVkX3RheCcgIDogaXRlbWl6ZWRfdGF4XG4gICAgfTtcblxuICAgIC8vIGlmIG5vIG9yZGVyP1xuICAgIGlmKCB0aGlzLm9yZGVyICkge1xuICAgICAgdGhpcy5vcmRlci5zYXZlKCB0b3RhbHMgKTtcbiAgICB9XG4gIH0sXG5cbiAgZmV0Y2hPcmRlcjogZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgb25JdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIGlmIChpdGVtLm9yZGVyID09PSBzZWxmLm9yZGVyLmlkKSB7XG4gICAgICAgIHNlbGYuYWRkKGl0ZW0pO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIG9uRW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgc2VsZi50cmlnZ2VyKCdjYXJ0OnJlYWR5Jyk7XG4gICAgfTtcbiAgICBzZWxmLmluZGV4ZWREQi5pdGVyYXRlKG9uSXRlbSwge1xuICAgICAgaW5kZXg6ICdvcmRlcicsXG4gICAgICBvcmRlcjogJ0FTQycsXG4gICAgICBvbkVuZDogb25FbmRcbiAgICB9KTtcbiAgfSxcblxuICAvLyBjb252ZW5pZW5jZSBtZXRob2QgdG8gc3VtIGF0dHJpYnV0ZXMgaW4gY29sbGVjdGlvblxuICBzdW06IGZ1bmN0aW9uKGF0dHJpYnV0ZSl7XG4gICAgdmFyIGFycmF5ID0gdGhpcy5wbHVjayhhdHRyaWJ1dGUpO1xuICAgIF8oIGFycmF5ICkucmVkdWNlKCBmdW5jdGlvbihtZW1vLCBudW0peyByZXR1cm4gbWVtbyArIG51bTsgfSwgMCApO1xuICB9XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9lbnRpdGllcy9jYXJ0L2NvbGxlY3Rpb24uanNcbiAqKiBtb2R1bGUgaWQgPSA0NFxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNDQuanMifQ==");

/***/ },
/* 45 */
/*!*****************************************!*\
  !*** ./~/entities/orders/collection.js ***!
  \*****************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Backbone = __webpack_require__(/*! backbone */ 2);\nvar DualCollection = __webpack_require__(/*! lib/config/dual-collection */ 56);\nvar Model = __webpack_require__(/*! ./model */ 46);\n\nmodule.exports = DualCollection.extend({\n  name: 'orders',\n  model: Model,\n\n  initialize: function( models, options ) {\n    this.indexedDB = new Backbone.IndexedDB({\n      storeName: 'orders',\n      storePrefix: 'wc_pos_',\n      dualStorage: true,\n      dbVersion: 1,\n      keyPath: 'local_id',\n      autoIncrement: true,\n      indexes: [\n        {name: 'local_id', keyPath: 'local_id', unique: true},  // same as idAttribute\n        {name: 'id', keyPath: 'id', unique: true},  // same as remoteIdAttribute\n        {name: 'status', keyPath: 'status', unique: false}  // required\n      ]\n    }, this);\n  },\n\n  fetchLocalOrders: function(){\n    var self = this;\n    var onItem = function(item) {\n      if( ! _( item).has('id') ) {\n        self.add(item);\n      }\n    };\n    var onEnd = function() {\n      self.trigger('orders:ready');\n    };\n    self.indexedDB.iterate(onItem, {\n      index: 'local_id',\n      order: 'ASC',\n      onEnd: onEnd\n    });\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VudGl0aWVzL29yZGVycy9jb2xsZWN0aW9uLmpzP2VlOTIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLG9EQUFvRDtBQUM3RCxTQUFTLHdDQUF3QztBQUNqRCxTQUFTLGlEQUFpRDtBQUMxRDtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBCYWNrYm9uZSA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG52YXIgRHVhbENvbGxlY3Rpb24gPSByZXF1aXJlKCdsaWIvY29uZmlnL2R1YWwtY29sbGVjdGlvbicpO1xudmFyIE1vZGVsID0gcmVxdWlyZSgnLi9tb2RlbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IER1YWxDb2xsZWN0aW9uLmV4dGVuZCh7XG4gIG5hbWU6ICdvcmRlcnMnLFxuICBtb2RlbDogTW9kZWwsXG5cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oIG1vZGVscywgb3B0aW9ucyApIHtcbiAgICB0aGlzLmluZGV4ZWREQiA9IG5ldyBCYWNrYm9uZS5JbmRleGVkREIoe1xuICAgICAgc3RvcmVOYW1lOiAnb3JkZXJzJyxcbiAgICAgIHN0b3JlUHJlZml4OiAnd2NfcG9zXycsXG4gICAgICBkdWFsU3RvcmFnZTogdHJ1ZSxcbiAgICAgIGRiVmVyc2lvbjogMSxcbiAgICAgIGtleVBhdGg6ICdsb2NhbF9pZCcsXG4gICAgICBhdXRvSW5jcmVtZW50OiB0cnVlLFxuICAgICAgaW5kZXhlczogW1xuICAgICAgICB7bmFtZTogJ2xvY2FsX2lkJywga2V5UGF0aDogJ2xvY2FsX2lkJywgdW5pcXVlOiB0cnVlfSwgIC8vIHNhbWUgYXMgaWRBdHRyaWJ1dGVcbiAgICAgICAge25hbWU6ICdpZCcsIGtleVBhdGg6ICdpZCcsIHVuaXF1ZTogdHJ1ZX0sICAvLyBzYW1lIGFzIHJlbW90ZUlkQXR0cmlidXRlXG4gICAgICAgIHtuYW1lOiAnc3RhdHVzJywga2V5UGF0aDogJ3N0YXR1cycsIHVuaXF1ZTogZmFsc2V9ICAvLyByZXF1aXJlZFxuICAgICAgXVxuICAgIH0sIHRoaXMpO1xuICB9LFxuXG4gIGZldGNoTG9jYWxPcmRlcnM6IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBvbkl0ZW0gPSBmdW5jdGlvbihpdGVtKSB7XG4gICAgICBpZiggISBfKCBpdGVtKS5oYXMoJ2lkJykgKSB7XG4gICAgICAgIHNlbGYuYWRkKGl0ZW0pO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIG9uRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLnRyaWdnZXIoJ29yZGVyczpyZWFkeScpO1xuICAgIH07XG4gICAgc2VsZi5pbmRleGVkREIuaXRlcmF0ZShvbkl0ZW0sIHtcbiAgICAgIGluZGV4OiAnbG9jYWxfaWQnLFxuICAgICAgb3JkZXI6ICdBU0MnLFxuICAgICAgb25FbmQ6IG9uRW5kXG4gICAgfSk7XG4gIH1cblxufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vZW50aXRpZXMvb3JkZXJzL2NvbGxlY3Rpb24uanNcbiAqKiBtb2R1bGUgaWQgPSA0NVxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNDUuanMifQ==");

/***/ },
/* 46 */
/*!************************************!*\
  !*** ./~/entities/orders/model.js ***!
  \************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var DualModel = __webpack_require__(/*! lib/config/dual-model */ 59);\n\nmodule.exports = DualModel.extend({\n  name: 'order',\n\n  defaults: {\n    note: ''\n  },\n\n  // Convenience method to sum attributes\n  sum: function(array){\n    var sum = 0;\n    for (var i = 0; i < array.length; i++) {\n      sum += this.get(array[i]);\n    }\n    return sum;\n  }\n});\n//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VudGl0aWVzL29yZGVycy9tb2RlbC5qcz9kYzg3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGtCQUFrQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgRHVhbE1vZGVsID0gcmVxdWlyZSgnbGliL2NvbmZpZy9kdWFsLW1vZGVsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gRHVhbE1vZGVsLmV4dGVuZCh7XG4gIG5hbWU6ICdvcmRlcicsXG5cbiAgZGVmYXVsdHM6IHtcbiAgICBub3RlOiAnJ1xuICB9LFxuXG4gIC8vIENvbnZlbmllbmNlIG1ldGhvZCB0byBzdW0gYXR0cmlidXRlc1xuICBzdW06IGZ1bmN0aW9uKGFycmF5KXtcbiAgICB2YXIgc3VtID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBzdW0gKz0gdGhpcy5nZXQoYXJyYXlbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gc3VtO1xuICB9XG59KTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2VudGl0aWVzL29yZGVycy9tb2RlbC5qc1xuICoqIG1vZHVsZSBpZCA9IDQ2XG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI0Ni5qcyJ9");

/***/ },
/* 47 */
/*!************************************!*\
  !*** ./~/lib/config/collection.js ***!
  \************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 9);\n\nvar Collection = bb.Collection.extend({\n  constructor: function() {\n    Backbone.Collection.apply(this, arguments);\n    this._isNew = true;\n    this.once('sync', function() {\n      this._isNew = false;\n    });\n  },\n\n  isNew: function() {\n    return this._isNew;\n  }\n});\n\nmodule.exports = Collection;\nPOS.attach('Collection', Collection);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvY29sbGVjdGlvbi5qcz82NGM5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGJiID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBQT1MgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL2dsb2JhbCcpO1xuXG52YXIgQ29sbGVjdGlvbiA9IGJiLkNvbGxlY3Rpb24uZXh0ZW5kKHtcbiAgY29uc3RydWN0b3I6IGZ1bmN0aW9uKCkge1xuICAgIEJhY2tib25lLkNvbGxlY3Rpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB0aGlzLl9pc05ldyA9IHRydWU7XG4gICAgdGhpcy5vbmNlKCdzeW5jJywgZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9pc05ldyA9IGZhbHNlO1xuICAgIH0pO1xuICB9LFxuXG4gIGlzTmV3OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5faXNOZXc7XG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbGxlY3Rpb247XG5QT1MuYXR0YWNoKCdDb2xsZWN0aW9uJywgQ29sbGVjdGlvbik7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbGliL2NvbmZpZy9jb2xsZWN0aW9uLmpzXG4gKiogbW9kdWxlIGlkID0gNDdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjQ3LmpzIn0=");

/***/ },
/* 48 */
/*!*******************************!*\
  !*** ./~/lib/config/model.js ***!
  \*******************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Backbone = __webpack_require__(/*! backbone */ 2);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 9);\n\nvar Model = Backbone.Model.extend({});\n\nmodule.exports = Model;\nPOS.attach('Model', Model);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvbW9kZWwuanM/MjRhMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBLG9DQUFvQzs7QUFFcEM7QUFDQSIsInNvdXJjZXNDb250ZW50IjpbInZhciBCYWNrYm9uZSA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG52YXIgUE9TID0gcmVxdWlyZSgnbGliL3V0aWxpdGllcy9nbG9iYWwnKTtcblxudmFyIE1vZGVsID0gQmFja2JvbmUuTW9kZWwuZXh0ZW5kKHt9KTtcblxubW9kdWxlLmV4cG9ydHMgPSBNb2RlbDtcblBPUy5hdHRhY2goJ01vZGVsJywgTW9kZWwpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xpYi9jb25maWcvbW9kZWwuanNcbiAqKiBtb2R1bGUgaWQgPSA0OFxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNDguanMifQ==");

/***/ },
/* 49 */
/*!*************************************!*\
  !*** ./~/lib/config/layout-view.js ***!
  \*************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 9);\n\nvar LayoutView = bb.Marionette.LayoutView.extend({\n\n  working: function( action ) {\n    if (action === 'start') {\n      this.$el.addClass('working');\n    } else {\n      this.$el.removeClass('working');\n    }\n  }\n\n});\n\nmodule.exports = LayoutView;\nPOS.attach('LayoutView', LayoutView);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvbGF5b3V0LXZpZXcuanM/YTczNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRDtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGJiID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBQT1MgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL2dsb2JhbCcpO1xuXG52YXIgTGF5b3V0VmlldyA9IGJiLk1hcmlvbmV0dGUuTGF5b3V0Vmlldy5leHRlbmQoe1xuXG4gIHdvcmtpbmc6IGZ1bmN0aW9uKCBhY3Rpb24gKSB7XG4gICAgaWYgKGFjdGlvbiA9PT0gJ3N0YXJ0Jykge1xuICAgICAgdGhpcy4kZWwuYWRkQ2xhc3MoJ3dvcmtpbmcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy4kZWwucmVtb3ZlQ2xhc3MoJ3dvcmtpbmcnKTtcbiAgICB9XG4gIH1cblxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gTGF5b3V0VmlldztcblBPUy5hdHRhY2goJ0xheW91dFZpZXcnLCBMYXlvdXRWaWV3KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9saWIvY29uZmlnL2xheW91dC12aWV3LmpzXG4gKiogbW9kdWxlIGlkID0gNDlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjQ5LmpzIn0=");

/***/ },
/* 50 */
/*!***********************************!*\
  !*** ./~/lib/config/item-view.js ***!
  \***********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Backbone = __webpack_require__(/*! backbone */ 2);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 9);\n\nvar ItemView = Backbone.Marionette.ItemView;\n\nmodule.exports = ItemView;\nPOS.attach('ItemView', ItemView);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvaXRlbS12aWV3LmpzPzY3YWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEJhY2tib25lID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBQT1MgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL2dsb2JhbCcpO1xuXG52YXIgSXRlbVZpZXcgPSBCYWNrYm9uZS5NYXJpb25ldHRlLkl0ZW1WaWV3O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEl0ZW1WaWV3O1xuUE9TLmF0dGFjaCgnSXRlbVZpZXcnLCBJdGVtVmlldyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbGliL2NvbmZpZy9pdGVtLXZpZXcuanNcbiAqKiBtb2R1bGUgaWQgPSA1MFxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNTAuanMifQ==");

/***/ },
/* 51 */
/*!********************************************!*\
  !*** ./~/lib/components/modal/behavior.js ***!
  \********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Behavior = __webpack_require__(/*! lib/config/behavior */ 66);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar channel = bb.Radio.channel('modal');\nvar POS = __webpack_require__(/*! lib/utilities/global */ 9);\n\nvar Behavior = Behavior.extend({\n  initialize: function () {\n    this.listenToOnce(this.view, 'open',  this.openModal);\n  },\n\n  openModal: function (callback) {\n    channel.command('open', {\n      view: this.view,\n      callback: callback,\n      attributes: this.options\n    });\n\n    this.listenToOnce(this.view, 'destroy', this.destroyModal);\n  },\n\n  destroyModal: function (callback) {\n    channel.command('destroy', {\n      callback: callback\n    });\n  }\n});\n\nmodule.exports = Behavior;\nPOS.attach('Behaviors.Modal', Behavior);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb21wb25lbnRzL21vZGFsL2JlaGF2aW9yLmpzPzJiNDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEJlaGF2aW9yID0gcmVxdWlyZSgnbGliL2NvbmZpZy9iZWhhdmlvcicpO1xudmFyIGJiID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBjaGFubmVsID0gYmIuUmFkaW8uY2hhbm5lbCgnbW9kYWwnKTtcbnZhciBQT1MgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL2dsb2JhbCcpO1xuXG52YXIgQmVoYXZpb3IgPSBCZWhhdmlvci5leHRlbmQoe1xuICBpbml0aWFsaXplOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5saXN0ZW5Ub09uY2UodGhpcy52aWV3LCAnb3BlbicsICB0aGlzLm9wZW5Nb2RhbCk7XG4gIH0sXG5cbiAgb3Blbk1vZGFsOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjaGFubmVsLmNvbW1hbmQoJ29wZW4nLCB7XG4gICAgICB2aWV3OiB0aGlzLnZpZXcsXG4gICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICBhdHRyaWJ1dGVzOiB0aGlzLm9wdGlvbnNcbiAgICB9KTtcblxuICAgIHRoaXMubGlzdGVuVG9PbmNlKHRoaXMudmlldywgJ2Rlc3Ryb3knLCB0aGlzLmRlc3Ryb3lNb2RhbCk7XG4gIH0sXG5cbiAgZGVzdHJveU1vZGFsOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjaGFubmVsLmNvbW1hbmQoJ2Rlc3Ryb3knLCB7XG4gICAgICBjYWxsYmFjazogY2FsbGJhY2tcbiAgICB9KTtcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQmVoYXZpb3I7XG5QT1MuYXR0YWNoKCdCZWhhdmlvcnMuTW9kYWwnLCBCZWhhdmlvcik7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbGliL2NvbXBvbmVudHMvbW9kYWwvYmVoYXZpb3IuanNcbiAqKiBtb2R1bGUgaWQgPSA1MVxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNTEuanMifQ==");

/***/ },
/* 52 */
/*!********************************!*\
  !*** ./~/lib/config/router.js ***!
  \********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar Route = __webpack_require__(/*! ./route */ 67);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 9);\n\nvar Router = bb.Marionette.AppRouter.extend({\n  constructor: function() {\n    this.channel = bb.Radio.channel('router');\n    this.on('all', this._onRouterEvent);\n    this.listenTo(bb.history, 'route', this._onHistoryRoute);\n    bb.Marionette.AppRouter.apply(this, arguments);\n  },\n\n  _onRouterEvent: function(name) {\n    var args = _.toArray(arguments).slice(1);\n    this.channel.trigger.apply(this.channel, [name, this].concat(args));\n  },\n\n  _onHistoryRoute: function(router) {\n    if (this === router) {\n      this.active = true;\n    } else {\n      this.active = false;\n    }\n  },\n\n  execute: function(callback, args) {\n    var self = this;\n\n    if (!this.active) {\n      this.triggerMethod.apply(this, ['before:enter'].concat(args));\n    }\n\n    this.triggerMethod.apply(this, ['before:route'].concat(args));\n\n    $.when(this._execute(callback, args)).then(function() {\n      if (!self.active) {\n        self.triggerMethod.apply(self, ['enter'].concat(args));\n      }\n\n      self.triggerMethod.apply(self, ['route'].concat(args));\n    });\n  },\n\n  _execute: function(callback, args) {\n    var route = callback.apply(this, args);\n\n    if (route instanceof Route) {\n      route.router = this;\n      return route.enter(args);\n    }\n  },\n\n  triggerMethod: bb.Marionette.triggerMethod\n});\n\nmodule.exports = Router;\nPOS.attach('Router', Router);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvcm91dGVyLmpzPzNiMDQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYmIgPSByZXF1aXJlKCdiYWNrYm9uZScpO1xudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcbnZhciBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG52YXIgUm91dGUgPSByZXF1aXJlKCcuL3JvdXRlJyk7XG52YXIgUE9TID0gcmVxdWlyZSgnbGliL3V0aWxpdGllcy9nbG9iYWwnKTtcblxudmFyIFJvdXRlciA9IGJiLk1hcmlvbmV0dGUuQXBwUm91dGVyLmV4dGVuZCh7XG4gIGNvbnN0cnVjdG9yOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmNoYW5uZWwgPSBiYi5SYWRpby5jaGFubmVsKCdyb3V0ZXInKTtcbiAgICB0aGlzLm9uKCdhbGwnLCB0aGlzLl9vblJvdXRlckV2ZW50KTtcbiAgICB0aGlzLmxpc3RlblRvKGJiLmhpc3RvcnksICdyb3V0ZScsIHRoaXMuX29uSGlzdG9yeVJvdXRlKTtcbiAgICBiYi5NYXJpb25ldHRlLkFwcFJvdXRlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9LFxuXG4gIF9vblJvdXRlckV2ZW50OiBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIGFyZ3MgPSBfLnRvQXJyYXkoYXJndW1lbnRzKS5zbGljZSgxKTtcbiAgICB0aGlzLmNoYW5uZWwudHJpZ2dlci5hcHBseSh0aGlzLmNoYW5uZWwsIFtuYW1lLCB0aGlzXS5jb25jYXQoYXJncykpO1xuICB9LFxuXG4gIF9vbkhpc3RvcnlSb3V0ZTogZnVuY3Rpb24ocm91dGVyKSB7XG4gICAgaWYgKHRoaXMgPT09IHJvdXRlcikge1xuICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfSxcblxuICBleGVjdXRlOiBmdW5jdGlvbihjYWxsYmFjaywgYXJncykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIGlmICghdGhpcy5hY3RpdmUpIHtcbiAgICAgIHRoaXMudHJpZ2dlck1ldGhvZC5hcHBseSh0aGlzLCBbJ2JlZm9yZTplbnRlciddLmNvbmNhdChhcmdzKSk7XG4gICAgfVxuXG4gICAgdGhpcy50cmlnZ2VyTWV0aG9kLmFwcGx5KHRoaXMsIFsnYmVmb3JlOnJvdXRlJ10uY29uY2F0KGFyZ3MpKTtcblxuICAgICQud2hlbih0aGlzLl9leGVjdXRlKGNhbGxiYWNrLCBhcmdzKSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgIGlmICghc2VsZi5hY3RpdmUpIHtcbiAgICAgICAgc2VsZi50cmlnZ2VyTWV0aG9kLmFwcGx5KHNlbGYsIFsnZW50ZXInXS5jb25jYXQoYXJncykpO1xuICAgICAgfVxuXG4gICAgICBzZWxmLnRyaWdnZXJNZXRob2QuYXBwbHkoc2VsZiwgWydyb3V0ZSddLmNvbmNhdChhcmdzKSk7XG4gICAgfSk7XG4gIH0sXG5cbiAgX2V4ZWN1dGU6IGZ1bmN0aW9uKGNhbGxiYWNrLCBhcmdzKSB7XG4gICAgdmFyIHJvdXRlID0gY2FsbGJhY2suYXBwbHkodGhpcywgYXJncyk7XG5cbiAgICBpZiAocm91dGUgaW5zdGFuY2VvZiBSb3V0ZSkge1xuICAgICAgcm91dGUucm91dGVyID0gdGhpcztcbiAgICAgIHJldHVybiByb3V0ZS5lbnRlcihhcmdzKTtcbiAgICB9XG4gIH0sXG5cbiAgdHJpZ2dlck1ldGhvZDogYmIuTWFyaW9uZXR0ZS50cmlnZ2VyTWV0aG9kXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSb3V0ZXI7XG5QT1MuYXR0YWNoKCdSb3V0ZXInLCBSb3V0ZXIpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xpYi9jb25maWcvcm91dGVyLmpzXG4gKiogbW9kdWxlIGlkID0gNTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjUyLmpzIn0=");

/***/ },
/* 53 */
/*!***********************************!*\
  !*** ./~/apps/pos/layout-view.js ***!
  \***********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var LayoutView = __webpack_require__(/*! lib/config/layout-view */ 49);\n\nmodule.exports = LayoutView.extend({\n  template: function(){\n    return '<div id=\"left\"></div><div id=\"right\"></div>';\n  },\n  regions: {\n    leftRegion: '#left',\n    rightRegion: '#right'\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL2xheW91dC12aWV3LmpzP2I2YjEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBMYXlvdXRWaWV3ID0gcmVxdWlyZSgnbGliL2NvbmZpZy9sYXlvdXQtdmlldycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IExheW91dFZpZXcuZXh0ZW5kKHtcbiAgdGVtcGxhdGU6IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuICc8ZGl2IGlkPVwibGVmdFwiPjwvZGl2PjxkaXYgaWQ9XCJyaWdodFwiPjwvZGl2Pic7XG4gIH0sXG4gIHJlZ2lvbnM6IHtcbiAgICBsZWZ0UmVnaW9uOiAnI2xlZnQnLFxuICAgIHJpZ2h0UmVnaW9uOiAnI3JpZ2h0J1xuICB9XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hcHBzL3Bvcy9sYXlvdXQtdmlldy5qc1xuICoqIG1vZHVsZSBpZCA9IDUzXG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI1My5qcyJ9");

/***/ },
/* 54 */
/*!*********************************************!*\
  !*** ./~/lib/config/filtered-collection.js ***!
  \*********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 9);\nvar Parser = __webpack_require__(/*! lib/utilities/parser */ 68);\nvar _ = __webpack_require__(/*! lodash */ 1);\n\n/**\n * Extend the FilteredCollection class\n */\n_.extend( bb.FilteredCollection.prototype, {\n\n  query: function( query, label ){\n    label = label || 'search';\n    var criterion = Parser.parse( query );\n\n    // syphon off special cases\n    this.checkCriterion( criterion );\n    this.filterBy( label,\n      //_.bind( collection.matchMaker, collection, criterion, fields )\n      _.partial( this.matchMaker, criterion )\n    );\n  },\n\n  checkCriterion: function(criterion){\n\n    // special cases for product search\n    if( _(this._superset).has('indexedDB') &&\n      this._superset.indexedDB.dbName === 'wc_pos_products' ){\n\n      if( _(criterion).has('parent') ){\n        this.removeFilter('hideVariations');\n        //criterion.type = ['variation'];\n      } else {\n        this.hideVariations();\n      }\n\n      if( _( criterion ).has( 'barcode' ) ){\n        this.barcodeSearch( criterion.barcode );\n      }\n    }\n  },\n\n  matchMaker: function( criterion, model ){\n\n    return _.all( criterion, function( array, key ) {\n\n      if( key === '' ) {\n        return _.all( array, function( value ) {\n          var attributes = _.pick( model.attributes, ( model.fields || 'title' ) );\n          return _.any( _.values( attributes ), function( attribute ) {\n            return attribute.toLowerCase().indexOf( value ) !== -1;\n          });\n        });\n      }\n\n      // special shorthand for category\n      else if( key === 'cat' ) {\n        return _.any( array, function( value ) {\n          var cats = _( model.get('categories') ).map( function( category ) {\n            return category.toLowerCase();\n          });\n          return _( cats ).contains( value );\n        });\n      }\n\n      // match any attribute\n      else if( _( model.attributes ).has( key ) ) {\n\n        // if attribute is array, return any match\n        if( _( model.get( key ) ).isArray() ) {\n          return _.any( array, function( value ) {\n            var arr = _( model.get( key ) ).map( function( value ) {\n              return value;\n            });\n            return _( arr ).contains( value );\n          });\n        }\n\n        // else match as string\n        else {\n          return _.any( array, function( value ) {\n            return model.get( key ).toString().toLowerCase() === value;\n          });\n        }\n      }\n\n      return false;\n\n    }, this);\n\n  },\n\n  hideVariations: function(){\n    this.filterBy( 'hideVariations', function( model ){\n      return model.get('type') !== 'variation';\n    });\n  }\n\n//barcodeSearch: function( barcode ) {\n//var filteredVariations = [];\n\n//filteredProducts = products.filter( function(product){\n//    if( product.get('type') === 'variable' ) {\n//        _( product.get('variations') ).each( function(variation) {\n//            if( variation.barcode.toLowerCase() === query.toLowerCase() ) {\n//                variation['type'] = 'variation';\n//                variation['title'] = product.get('title');\n//                variation['categories'] = product.get('categories');\n//                var model = new Entities.Product( variation );\n//                filteredVariations.push( model );\n//            }\n//        })\n//    }\n//    return product.get( 'barcode' ).toLowerCase() === query.toLowerCase();\n//}, this);\n//\n//products = filteredProducts.concat(filteredVariations);\n//if(POS.debug) console.log('found ' + products.length + ' products');\n//\n//// add product to cart and reset search field\n//if( products.length === 1 && products[0].get('type') !== 'variable' ){\n//    if(POS.debug) console.log('adding ' +\n// products[0].get('title') +\n// ' to cart');\n//    POS.CartApp.channel.command( 'cart:add', products[0] );\n//    POS.ProductsApp.channel.command( 'clear:filter' );\n//}\n\n//}\n\n});\n\n/**\n * note: FilteredCollection is not a Backbone.Collection\n * which means it lacks some methods, such as extend\n */\nmodule.exports = bb.FilteredCollection;\nPOS.attach('FilteredCollection', bb.FilteredCollection);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvZmlsdGVyZWQtY29sbGVjdGlvbi5qcz8yZjc1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTs7QUFFQSxLQUFLOztBQUVMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYmIgPSByZXF1aXJlKCdiYWNrYm9uZScpO1xudmFyIFBPUyA9IHJlcXVpcmUoJ2xpYi91dGlsaXRpZXMvZ2xvYmFsJyk7XG52YXIgUGFyc2VyID0gcmVxdWlyZSgnbGliL3V0aWxpdGllcy9wYXJzZXInKTtcbnZhciBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbi8qKlxuICogRXh0ZW5kIHRoZSBGaWx0ZXJlZENvbGxlY3Rpb24gY2xhc3NcbiAqL1xuXy5leHRlbmQoIGJiLkZpbHRlcmVkQ29sbGVjdGlvbi5wcm90b3R5cGUsIHtcblxuICBxdWVyeTogZnVuY3Rpb24oIHF1ZXJ5LCBsYWJlbCApe1xuICAgIGxhYmVsID0gbGFiZWwgfHwgJ3NlYXJjaCc7XG4gICAgdmFyIGNyaXRlcmlvbiA9IFBhcnNlci5wYXJzZSggcXVlcnkgKTtcblxuICAgIC8vIHN5cGhvbiBvZmYgc3BlY2lhbCBjYXNlc1xuICAgIHRoaXMuY2hlY2tDcml0ZXJpb24oIGNyaXRlcmlvbiApO1xuICAgIHRoaXMuZmlsdGVyQnkoIGxhYmVsLFxuICAgICAgLy9fLmJpbmQoIGNvbGxlY3Rpb24ubWF0Y2hNYWtlciwgY29sbGVjdGlvbiwgY3JpdGVyaW9uLCBmaWVsZHMgKVxuICAgICAgXy5wYXJ0aWFsKCB0aGlzLm1hdGNoTWFrZXIsIGNyaXRlcmlvbiApXG4gICAgKTtcbiAgfSxcblxuICBjaGVja0NyaXRlcmlvbjogZnVuY3Rpb24oY3JpdGVyaW9uKXtcblxuICAgIC8vIHNwZWNpYWwgY2FzZXMgZm9yIHByb2R1Y3Qgc2VhcmNoXG4gICAgaWYoIF8odGhpcy5fc3VwZXJzZXQpLmhhcygnaW5kZXhlZERCJykgJiZcbiAgICAgIHRoaXMuX3N1cGVyc2V0LmluZGV4ZWREQi5kYk5hbWUgPT09ICd3Y19wb3NfcHJvZHVjdHMnICl7XG5cbiAgICAgIGlmKCBfKGNyaXRlcmlvbikuaGFzKCdwYXJlbnQnKSApe1xuICAgICAgICB0aGlzLnJlbW92ZUZpbHRlcignaGlkZVZhcmlhdGlvbnMnKTtcbiAgICAgICAgLy9jcml0ZXJpb24udHlwZSA9IFsndmFyaWF0aW9uJ107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmhpZGVWYXJpYXRpb25zKCk7XG4gICAgICB9XG5cbiAgICAgIGlmKCBfKCBjcml0ZXJpb24gKS5oYXMoICdiYXJjb2RlJyApICl7XG4gICAgICAgIHRoaXMuYmFyY29kZVNlYXJjaCggY3JpdGVyaW9uLmJhcmNvZGUgKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgbWF0Y2hNYWtlcjogZnVuY3Rpb24oIGNyaXRlcmlvbiwgbW9kZWwgKXtcblxuICAgIHJldHVybiBfLmFsbCggY3JpdGVyaW9uLCBmdW5jdGlvbiggYXJyYXksIGtleSApIHtcblxuICAgICAgaWYoIGtleSA9PT0gJycgKSB7XG4gICAgICAgIHJldHVybiBfLmFsbCggYXJyYXksIGZ1bmN0aW9uKCB2YWx1ZSApIHtcbiAgICAgICAgICB2YXIgYXR0cmlidXRlcyA9IF8ucGljayggbW9kZWwuYXR0cmlidXRlcywgKCBtb2RlbC5maWVsZHMgfHwgJ3RpdGxlJyApICk7XG4gICAgICAgICAgcmV0dXJuIF8uYW55KCBfLnZhbHVlcyggYXR0cmlidXRlcyApLCBmdW5jdGlvbiggYXR0cmlidXRlICkge1xuICAgICAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoIHZhbHVlICkgIT09IC0xO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gc3BlY2lhbCBzaG9ydGhhbmQgZm9yIGNhdGVnb3J5XG4gICAgICBlbHNlIGlmKCBrZXkgPT09ICdjYXQnICkge1xuICAgICAgICByZXR1cm4gXy5hbnkoIGFycmF5LCBmdW5jdGlvbiggdmFsdWUgKSB7XG4gICAgICAgICAgdmFyIGNhdHMgPSBfKCBtb2RlbC5nZXQoJ2NhdGVnb3JpZXMnKSApLm1hcCggZnVuY3Rpb24oIGNhdGVnb3J5ICkge1xuICAgICAgICAgICAgcmV0dXJuIGNhdGVnb3J5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIF8oIGNhdHMgKS5jb250YWlucyggdmFsdWUgKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIG1hdGNoIGFueSBhdHRyaWJ1dGVcbiAgICAgIGVsc2UgaWYoIF8oIG1vZGVsLmF0dHJpYnV0ZXMgKS5oYXMoIGtleSApICkge1xuXG4gICAgICAgIC8vIGlmIGF0dHJpYnV0ZSBpcyBhcnJheSwgcmV0dXJuIGFueSBtYXRjaFxuICAgICAgICBpZiggXyggbW9kZWwuZ2V0KCBrZXkgKSApLmlzQXJyYXkoKSApIHtcbiAgICAgICAgICByZXR1cm4gXy5hbnkoIGFycmF5LCBmdW5jdGlvbiggdmFsdWUgKSB7XG4gICAgICAgICAgICB2YXIgYXJyID0gXyggbW9kZWwuZ2V0KCBrZXkgKSApLm1hcCggZnVuY3Rpb24oIHZhbHVlICkge1xuICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBfKCBhcnIgKS5jb250YWlucyggdmFsdWUgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGVsc2UgbWF0Y2ggYXMgc3RyaW5nXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiBfLmFueSggYXJyYXksIGZ1bmN0aW9uKCB2YWx1ZSApIHtcbiAgICAgICAgICAgIHJldHVybiBtb2RlbC5nZXQoIGtleSApLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSA9PT0gdmFsdWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgfSwgdGhpcyk7XG5cbiAgfSxcblxuICBoaWRlVmFyaWF0aW9uczogZnVuY3Rpb24oKXtcbiAgICB0aGlzLmZpbHRlckJ5KCAnaGlkZVZhcmlhdGlvbnMnLCBmdW5jdGlvbiggbW9kZWwgKXtcbiAgICAgIHJldHVybiBtb2RlbC5nZXQoJ3R5cGUnKSAhPT0gJ3ZhcmlhdGlvbic7XG4gICAgfSk7XG4gIH1cblxuLy9iYXJjb2RlU2VhcmNoOiBmdW5jdGlvbiggYmFyY29kZSApIHtcbi8vdmFyIGZpbHRlcmVkVmFyaWF0aW9ucyA9IFtdO1xuXG4vL2ZpbHRlcmVkUHJvZHVjdHMgPSBwcm9kdWN0cy5maWx0ZXIoIGZ1bmN0aW9uKHByb2R1Y3Qpe1xuLy8gICAgaWYoIHByb2R1Y3QuZ2V0KCd0eXBlJykgPT09ICd2YXJpYWJsZScgKSB7XG4vLyAgICAgICAgXyggcHJvZHVjdC5nZXQoJ3ZhcmlhdGlvbnMnKSApLmVhY2goIGZ1bmN0aW9uKHZhcmlhdGlvbikge1xuLy8gICAgICAgICAgICBpZiggdmFyaWF0aW9uLmJhcmNvZGUudG9Mb3dlckNhc2UoKSA9PT0gcXVlcnkudG9Mb3dlckNhc2UoKSApIHtcbi8vICAgICAgICAgICAgICAgIHZhcmlhdGlvblsndHlwZSddID0gJ3ZhcmlhdGlvbic7XG4vLyAgICAgICAgICAgICAgICB2YXJpYXRpb25bJ3RpdGxlJ10gPSBwcm9kdWN0LmdldCgndGl0bGUnKTtcbi8vICAgICAgICAgICAgICAgIHZhcmlhdGlvblsnY2F0ZWdvcmllcyddID0gcHJvZHVjdC5nZXQoJ2NhdGVnb3JpZXMnKTtcbi8vICAgICAgICAgICAgICAgIHZhciBtb2RlbCA9IG5ldyBFbnRpdGllcy5Qcm9kdWN0KCB2YXJpYXRpb24gKTtcbi8vICAgICAgICAgICAgICAgIGZpbHRlcmVkVmFyaWF0aW9ucy5wdXNoKCBtb2RlbCApO1xuLy8gICAgICAgICAgICB9XG4vLyAgICAgICAgfSlcbi8vICAgIH1cbi8vICAgIHJldHVybiBwcm9kdWN0LmdldCggJ2JhcmNvZGUnICkudG9Mb3dlckNhc2UoKSA9PT0gcXVlcnkudG9Mb3dlckNhc2UoKTtcbi8vfSwgdGhpcyk7XG4vL1xuLy9wcm9kdWN0cyA9IGZpbHRlcmVkUHJvZHVjdHMuY29uY2F0KGZpbHRlcmVkVmFyaWF0aW9ucyk7XG4vL2lmKFBPUy5kZWJ1ZykgY29uc29sZS5sb2coJ2ZvdW5kICcgKyBwcm9kdWN0cy5sZW5ndGggKyAnIHByb2R1Y3RzJyk7XG4vL1xuLy8vLyBhZGQgcHJvZHVjdCB0byBjYXJ0IGFuZCByZXNldCBzZWFyY2ggZmllbGRcbi8vaWYoIHByb2R1Y3RzLmxlbmd0aCA9PT0gMSAmJiBwcm9kdWN0c1swXS5nZXQoJ3R5cGUnKSAhPT0gJ3ZhcmlhYmxlJyApe1xuLy8gICAgaWYoUE9TLmRlYnVnKSBjb25zb2xlLmxvZygnYWRkaW5nICcgK1xuLy8gcHJvZHVjdHNbMF0uZ2V0KCd0aXRsZScpICtcbi8vICcgdG8gY2FydCcpO1xuLy8gICAgUE9TLkNhcnRBcHAuY2hhbm5lbC5jb21tYW5kKCAnY2FydDphZGQnLCBwcm9kdWN0c1swXSApO1xuLy8gICAgUE9TLlByb2R1Y3RzQXBwLmNoYW5uZWwuY29tbWFuZCggJ2NsZWFyOmZpbHRlcicgKTtcbi8vfVxuXG4vL31cblxufSk7XG5cbi8qKlxuICogbm90ZTogRmlsdGVyZWRDb2xsZWN0aW9uIGlzIG5vdCBhIEJhY2tib25lLkNvbGxlY3Rpb25cbiAqIHdoaWNoIG1lYW5zIGl0IGxhY2tzIHNvbWUgbWV0aG9kcywgc3VjaCBhcyBleHRlbmRcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBiYi5GaWx0ZXJlZENvbGxlY3Rpb247XG5QT1MuYXR0YWNoKCdGaWx0ZXJlZENvbGxlY3Rpb24nLCBiYi5GaWx0ZXJlZENvbGxlY3Rpb24pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xpYi9jb25maWcvZmlsdGVyZWQtY29sbGVjdGlvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDU0XG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI1NC5qcyJ9");

/***/ },
/* 55 */
/*!***************************************!*\
  !*** ./~/apps/support/layout-view.js ***!
  \***************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var LayoutView = __webpack_require__(/*! lib/config/layout-view */ 49);\n\nmodule.exports = LayoutView.extend({\n  template: function(){\n    return '<div id=\"left\"></div><div id=\"right\"></div>';\n  },\n  regions: {\n    leftRegion: '#left',\n    rightRegion: '#right'\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvc3VwcG9ydC9sYXlvdXQtdmlldy5qcz9hYTFmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTGF5b3V0VmlldyA9IHJlcXVpcmUoJ2xpYi9jb25maWcvbGF5b3V0LXZpZXcnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBMYXlvdXRWaWV3LmV4dGVuZCh7XG4gIHRlbXBsYXRlOiBmdW5jdGlvbigpe1xuICAgIHJldHVybiAnPGRpdiBpZD1cImxlZnRcIj48L2Rpdj48ZGl2IGlkPVwicmlnaHRcIj48L2Rpdj4nO1xuICB9LFxuICByZWdpb25zOiB7XG4gICAgbGVmdFJlZ2lvbjogJyNsZWZ0JyxcbiAgICByaWdodFJlZ2lvbjogJyNyaWdodCdcbiAgfVxufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXBwcy9zdXBwb3J0L2xheW91dC12aWV3LmpzXG4gKiogbW9kdWxlIGlkID0gNTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjU1LmpzIn0=");

/***/ },
/* 56 */
/*!*****************************************!*\
  !*** ./~/lib/config/dual-collection.js ***!
  \*****************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 9);\nvar entitiesChannel = bb.Radio.channel('entities');\n\nvar DualCollection = bb.DualCollection.extend({\n  constructor: function() {\n    bb.DualCollection.apply(this, arguments);\n\n    this._isReady = $.Deferred();\n    this.once('idb:ready', function() {\n      this._isReady.resolve();\n    });\n\n    this._isNew = true;\n    this.once('sync', function() {\n      this._isNew = false;\n    });\n  },\n\n  url: function(){\n    var wc_api = entitiesChannel.request( 'get:options', 'wc_api' );\n    return wc_api + this.name;\n  },\n\n  isNew: function() {\n    return this._isNew;\n  },\n\n  fetch: function(options){\n    var self = this;\n    return $.when( this._isReady).then(function() {\n      return bb.DualCollection.prototype.fetch.call(self, options);\n    });\n  },\n\n  state: {\n    pageSize: 10\n  },\n\n  parseState: function (resp, queryParams, state, options) {\n    // totals are always in the WC API headers\n    var totalRecords = options.xhr.getResponseHeader('X-WC-Total');\n    var totalPages = options.xhr.getResponseHeader('X-WC-Total');\n\n    // return as decimal\n    return {\n      totalRecords: parseInt(totalRecords, 10),\n      totalPages: parseInt(totalPages, 10)\n    };\n  },\n\n  parse: function (resp) {\n    return resp[this.name] ? resp[this.name] : resp ;\n  }\n\n});\n\nmodule.exports = DualCollection;\nPOS.attach('DualCollection', DualCollection);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvZHVhbC1jb2xsZWN0aW9uLmpzPzlmZTYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQSxDQUFDOztBQUVEO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYmIgPSByZXF1aXJlKCdiYWNrYm9uZScpO1xudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcbnZhciBQT1MgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL2dsb2JhbCcpO1xudmFyIGVudGl0aWVzQ2hhbm5lbCA9IGJiLlJhZGlvLmNoYW5uZWwoJ2VudGl0aWVzJyk7XG5cbnZhciBEdWFsQ29sbGVjdGlvbiA9IGJiLkR1YWxDb2xsZWN0aW9uLmV4dGVuZCh7XG4gIGNvbnN0cnVjdG9yOiBmdW5jdGlvbigpIHtcbiAgICBiYi5EdWFsQ29sbGVjdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdGhpcy5faXNSZWFkeSA9ICQuRGVmZXJyZWQoKTtcbiAgICB0aGlzLm9uY2UoJ2lkYjpyZWFkeScsIGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5faXNSZWFkeS5yZXNvbHZlKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9pc05ldyA9IHRydWU7XG4gICAgdGhpcy5vbmNlKCdzeW5jJywgZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9pc05ldyA9IGZhbHNlO1xuICAgIH0pO1xuICB9LFxuXG4gIHVybDogZnVuY3Rpb24oKXtcbiAgICB2YXIgd2NfYXBpID0gZW50aXRpZXNDaGFubmVsLnJlcXVlc3QoICdnZXQ6b3B0aW9ucycsICd3Y19hcGknICk7XG4gICAgcmV0dXJuIHdjX2FwaSArIHRoaXMubmFtZTtcbiAgfSxcblxuICBpc05ldzogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzTmV3O1xuICB9LFxuXG4gIGZldGNoOiBmdW5jdGlvbihvcHRpb25zKXtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuICQud2hlbiggdGhpcy5faXNSZWFkeSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBiYi5EdWFsQ29sbGVjdGlvbi5wcm90b3R5cGUuZmV0Y2guY2FsbChzZWxmLCBvcHRpb25zKTtcbiAgICB9KTtcbiAgfSxcblxuICBzdGF0ZToge1xuICAgIHBhZ2VTaXplOiAxMFxuICB9LFxuXG4gIHBhcnNlU3RhdGU6IGZ1bmN0aW9uIChyZXNwLCBxdWVyeVBhcmFtcywgc3RhdGUsIG9wdGlvbnMpIHtcbiAgICAvLyB0b3RhbHMgYXJlIGFsd2F5cyBpbiB0aGUgV0MgQVBJIGhlYWRlcnNcbiAgICB2YXIgdG90YWxSZWNvcmRzID0gb3B0aW9ucy54aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ1gtV0MtVG90YWwnKTtcbiAgICB2YXIgdG90YWxQYWdlcyA9IG9wdGlvbnMueGhyLmdldFJlc3BvbnNlSGVhZGVyKCdYLVdDLVRvdGFsJyk7XG5cbiAgICAvLyByZXR1cm4gYXMgZGVjaW1hbFxuICAgIHJldHVybiB7XG4gICAgICB0b3RhbFJlY29yZHM6IHBhcnNlSW50KHRvdGFsUmVjb3JkcywgMTApLFxuICAgICAgdG90YWxQYWdlczogcGFyc2VJbnQodG90YWxQYWdlcywgMTApXG4gICAgfTtcbiAgfSxcblxuICBwYXJzZTogZnVuY3Rpb24gKHJlc3ApIHtcbiAgICByZXR1cm4gcmVzcFt0aGlzLm5hbWVdID8gcmVzcFt0aGlzLm5hbWVdIDogcmVzcCA7XG4gIH1cblxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gRHVhbENvbGxlY3Rpb247XG5QT1MuYXR0YWNoKCdEdWFsQ29sbGVjdGlvbicsIER1YWxDb2xsZWN0aW9uKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9saWIvY29uZmlnL2R1YWwtY29sbGVjdGlvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDU2XG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI1Ni5qcyJ9");

/***/ },
/* 57 */
/*!**************************************!*\
  !*** ./~/entities/products/model.js ***!
  \**************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var DualModel = __webpack_require__(/*! lib/config/dual-model */ 59);\nvar _ = __webpack_require__(/*! lodash */ 1);\n\nmodule.exports = DualModel.extend({\n  name: 'product',\n\n  // this is an array of fields used by FilterCollection.matchmaker()\n  fields: ['title'],\n\n  parse: function (resp) {\n    if( resp.product ){\n      if( resp.product.type === 'variable' ) {\n        this.serverResponse(resp);\n      }\n      return resp.product;\n    } else {\n      return resp;\n    }\n  },\n\n  serverResponse: function(resp){\n    _.each( resp.product.variations, function( variation ){\n      variation.type      = 'variation';\n      variation.title     = resp.product.title;\n      variation.parent    = resp.product.id;\n      variation.categories= resp.product.categories;\n      resp.product.push( variation );\n    });\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VudGl0aWVzL3Byb2R1Y3RzL21vZGVsLmpzP2M5NjMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBEdWFsTW9kZWwgPSByZXF1aXJlKCdsaWIvY29uZmlnL2R1YWwtbW9kZWwnKTtcbnZhciBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gRHVhbE1vZGVsLmV4dGVuZCh7XG4gIG5hbWU6ICdwcm9kdWN0JyxcblxuICAvLyB0aGlzIGlzIGFuIGFycmF5IG9mIGZpZWxkcyB1c2VkIGJ5IEZpbHRlckNvbGxlY3Rpb24ubWF0Y2htYWtlcigpXG4gIGZpZWxkczogWyd0aXRsZSddLFxuXG4gIHBhcnNlOiBmdW5jdGlvbiAocmVzcCkge1xuICAgIGlmKCByZXNwLnByb2R1Y3QgKXtcbiAgICAgIGlmKCByZXNwLnByb2R1Y3QudHlwZSA9PT0gJ3ZhcmlhYmxlJyApIHtcbiAgICAgICAgdGhpcy5zZXJ2ZXJSZXNwb25zZShyZXNwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwLnByb2R1Y3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByZXNwO1xuICAgIH1cbiAgfSxcblxuICBzZXJ2ZXJSZXNwb25zZTogZnVuY3Rpb24ocmVzcCl7XG4gICAgXy5lYWNoKCByZXNwLnByb2R1Y3QudmFyaWF0aW9ucywgZnVuY3Rpb24oIHZhcmlhdGlvbiApe1xuICAgICAgdmFyaWF0aW9uLnR5cGUgICAgICA9ICd2YXJpYXRpb24nO1xuICAgICAgdmFyaWF0aW9uLnRpdGxlICAgICA9IHJlc3AucHJvZHVjdC50aXRsZTtcbiAgICAgIHZhcmlhdGlvbi5wYXJlbnQgICAgPSByZXNwLnByb2R1Y3QuaWQ7XG4gICAgICB2YXJpYXRpb24uY2F0ZWdvcmllcz0gcmVzcC5wcm9kdWN0LmNhdGVnb3JpZXM7XG4gICAgICByZXNwLnByb2R1Y3QucHVzaCggdmFyaWF0aW9uICk7XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2VudGl0aWVzL3Byb2R1Y3RzL21vZGVsLmpzXG4gKiogbW9kdWxlIGlkID0gNTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjU3LmpzIn0=");

/***/ },
/* 58 */
/*!**********************************!*\
  !*** ./~/entities/cart/model.js ***!
  \**********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Model = __webpack_require__(/*! lib/config/model */ 48);\n\nmodule.exports = Model.extend({\n\n  defaults : {\n    'subtotal'      : 0,\n    'subtotal_tax'  : 0,\n    'total_tax'     : 0,\n    'total'         : 0,\n    'item_price'    : 0,\n    'item_tax'      : 0,\n    'qty'           : 1,\n    'taxable'       : true,\n    'tax_class'     : ''\n  },\n\n  initialize: function( options ) {\n\n    if( this.collection && this.collection.order ) {\n      this.set({ order: this.collection.order.id });\n    }\n\n    // update on change to qty or item_price\n    this.on( 'change:qty change:item_price change:taxable change:tax_class', this.updateLineTotals );\n\n    // set item price on init, this will trigger updateLineTotals()\n    if( this.get('item_price') === 0 ) {\n      this.set({ 'item_price': parseFloat( this.get('price') ) });\n    }\n  },\n\n  updateLineTotals: function() {\n    console.log('recalc');\n    var qty             = this.get('qty'),\n        item_price      = this.get('item_price'),\n        type            = this.get('type'),\n        regular_price   = parseFloat( this.get('regular_price') ),\n        item_tax        = this.calcTax( item_price, qty),\n        item_subtotal_tax = this.calcTax( regular_price );\n\n    // if shipping or fee\n    if( type === 'shipping' || type === 'fee' ) {\n      regular_price = item_price;\n    }\n\n    // if price does not include tax\n    if( POS.getOption('tax').prices_include_tax === 'yes' ) {\n      regular_price -= item_subtotal_tax;\n      item_price -= item_tax;\n    }\n\n    this.save({\n      'item_subtotal'     : regular_price,\n      'item_subtotal_tax' : item_subtotal_tax,\n      'item_tax'          : POS.Utils.round( item_tax, 4 ),\n      'subtotal'          : POS.Utils.round( regular_price * qty, 4 ),\n      'subtotal_tax'      : POS.Utils.round( item_subtotal_tax * qty, 4 ),\n      'total_tax'         : POS.Utils.round( item_tax * qty, 4 ),\n      'total'             : POS.Utils.round( item_price * qty, 4 )\n    });\n\n  },\n\n  /**\n   * Calculate the line item tax total\n   * based on the calc_tax function in woocommerce/includes/class-wc-tax.php\n   */\n  calcTax: function( price, qty ) {\n    var item_tax = 0,\n      tax_class = this.get('tax_class'),\n      tax_rates = POS.getOption('tax_rates'),\n      rates = tax_rates[tax_class];\n\n    if( POS.getOption('tax').calc_taxes === 'yes' && this.get('taxable') && rates ) {\n      if( POS.getOption('tax').prices_include_tax === 'yes' ) {\n        item_tax = this.calcInclusiveTax( price, rates, qty );\n      }\n      else {\n        item_tax = this.calcExclusiveTax( price, rates, qty );\n      }\n    }\n\n    // use for init subtotal_tax\n    return item_tax;\n  },\n\n  /**\n   * Calculate the line item tax total\n   * based on the calc_inclusive_tax function in woocommerce/includes/class-wc-tax.php\n   */\n  calcInclusiveTax: function( price, rates, qty ) {\n    var regular_tax_rates = 0,\n      compound_tax_rates = 0,\n      non_compound_price = 0,\n      tax_amount = 0,\n      item_tax = 0,\n      line_tax = 0;\n\n    if( qty === undefined ) {\n      var subtotal_calc = true;\n      qty = 1;\n    }\n\n    _(rates).each( function(rate) {\n      if ( rate.compound === 'yes' ) {\n        compound_tax_rates = compound_tax_rates + parseFloat(rate.rate);\n      }\n      else {\n        regular_tax_rates = regular_tax_rates + parseFloat(rate.rate);\n      }\n    });\n\n    var regular_tax_rate  = 1 + ( regular_tax_rates / 100 );\n    var compound_tax_rate   = 1 + ( compound_tax_rates / 100 );\n    non_compound_price = price / compound_tax_rate;\n\n    _(rates).each( function(rate, key) {\n      var the_rate = parseFloat(rate.rate) / 100;\n      var the_price = 0;\n\n      if ( rate.compound === 'yes' ) {\n        the_price = price;\n        the_rate  = the_rate / compound_tax_rate;\n      }\n      else {\n        the_price = non_compound_price;\n        the_rate  = the_rate / regular_tax_rate;\n      }\n\n      var net_price = price - ( the_rate * the_price );\n      tax_amount = price - net_price;\n\n      // do the rounding now if required\n      var item_tax_ = POS.Utils.round( tax_amount, 4 );\n      var line_tax_ = POS.Utils.round( tax_amount * qty, 4 );\n\n      // set the itemized taxes\n      this.set( 'item_tax_' + key, item_tax_ );\n      this.set( 'line_tax_' + key, line_tax_ );\n      rate.tax_amount = line_tax_; // nested attribute, for WC API\n\n      // sum item taxes\n      item_tax += item_tax_;\n\n      // WC API v2\n      if( subtotal_calc ) {\n        rate.subtotal_tax = item_tax_;\n      }\n\n    }, this);\n\n    // return the item tax\n    return POS.Utils.round( item_tax, 4 );\n  },\n\n  /**\n   * Calculate the line item tax total\n   * based on the calc_exclusive_tax function in woocommerce/includes/class-wc-tax.php\n   */\n  calcExclusiveTax: function( price, rates, qty ) {\n    var taxes = [],\n      pre_compound_total = 0,\n      tax_amount = 0,\n      item_tax = 0,\n      line_tax =0;\n\n    if( qty === undefined ) {\n      var subtotal_calc = true;\n      qty = 1;\n    }\n\n    // multiple taxes\n    _(rates).each( function(rate, key) {\n      tax_amount = 0;\n      if ( rate.compound !== 'yes' ) {\n        tax_amount = price * ( parseFloat(rate.rate) / 100 );\n      }\n      taxes[ key ] = tax_amount;\n    });\n\n    if( taxes.length > 0 ) {\n      pre_compound_total = taxes.reduce( function(sum, num) { return sum + num; } );\n    }\n\n    // compound taxes\n    _(rates).each( function(rate, key) {\n      if ( rate.compound === 'yes' ) {\n        var the_price_inc_tax = price + pre_compound_total;\n        taxes[ key ] = the_price_inc_tax * ( parseFloat(rate.rate) / 100 );\n      }\n\n      // do the rounding now if required\n      var item_tax_ = POS.Utils.round( taxes[ key ], 4 );\n      var line_tax_ = POS.Utils.round( taxes[ key ] * qty, 4 );\n\n      // set the itemized taxes\n      this.set( 'item_tax_' + key, item_tax_ );\n      this.set( 'line_tax_' + key, line_tax_ );\n      rate.tax_amount = line_tax_; // nested attribute, for WC API\n\n      // sum item taxes\n      item_tax += item_tax_;\n\n      // WC API v2\n      if( subtotal_calc ) {\n        rate.subtotal_tax = item_tax_;\n      }\n\n    }, this);\n\n    // return the item tax\n    return POS.Utils.round( item_tax, 4 );\n  },\n\n  // Convenience method to increase or decrease qty\n  quantity: function( type ) {\n    var qty = this.get('qty');\n    this.set('qty', (type === 'increase' ? ++qty : --qty) );\n  },\n\n  // Convenience method to sum attributes\n  sum: function(array){\n    var sum = 0;\n    for (var i = 0; i < array.length; i++) {\n      sum += this.get(array[i]);\n    }\n    return sum;\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2VudGl0aWVzL2NhcnQvbW9kZWwuanM/OTAwZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQSxnQkFBZ0Isa0NBQWtDO0FBQ2xEOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQixnREFBZ0Q7QUFDaEU7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7O0FBRWxDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSw2REFBNkQsa0JBQWtCLEVBQUU7QUFDakY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7O0FBRWxDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGtCQUFrQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTW9kZWwgPSByZXF1aXJlKCdsaWIvY29uZmlnL21vZGVsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gTW9kZWwuZXh0ZW5kKHtcblxuICBkZWZhdWx0cyA6IHtcbiAgICAnc3VidG90YWwnICAgICAgOiAwLFxuICAgICdzdWJ0b3RhbF90YXgnICA6IDAsXG4gICAgJ3RvdGFsX3RheCcgICAgIDogMCxcbiAgICAndG90YWwnICAgICAgICAgOiAwLFxuICAgICdpdGVtX3ByaWNlJyAgICA6IDAsXG4gICAgJ2l0ZW1fdGF4JyAgICAgIDogMCxcbiAgICAncXR5JyAgICAgICAgICAgOiAxLFxuICAgICd0YXhhYmxlJyAgICAgICA6IHRydWUsXG4gICAgJ3RheF9jbGFzcycgICAgIDogJydcbiAgfSxcblxuICBpbml0aWFsaXplOiBmdW5jdGlvbiggb3B0aW9ucyApIHtcblxuICAgIGlmKCB0aGlzLmNvbGxlY3Rpb24gJiYgdGhpcy5jb2xsZWN0aW9uLm9yZGVyICkge1xuICAgICAgdGhpcy5zZXQoeyBvcmRlcjogdGhpcy5jb2xsZWN0aW9uLm9yZGVyLmlkIH0pO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSBvbiBjaGFuZ2UgdG8gcXR5IG9yIGl0ZW1fcHJpY2VcbiAgICB0aGlzLm9uKCAnY2hhbmdlOnF0eSBjaGFuZ2U6aXRlbV9wcmljZSBjaGFuZ2U6dGF4YWJsZSBjaGFuZ2U6dGF4X2NsYXNzJywgdGhpcy51cGRhdGVMaW5lVG90YWxzICk7XG5cbiAgICAvLyBzZXQgaXRlbSBwcmljZSBvbiBpbml0LCB0aGlzIHdpbGwgdHJpZ2dlciB1cGRhdGVMaW5lVG90YWxzKClcbiAgICBpZiggdGhpcy5nZXQoJ2l0ZW1fcHJpY2UnKSA9PT0gMCApIHtcbiAgICAgIHRoaXMuc2V0KHsgJ2l0ZW1fcHJpY2UnOiBwYXJzZUZsb2F0KCB0aGlzLmdldCgncHJpY2UnKSApIH0pO1xuICAgIH1cbiAgfSxcblxuICB1cGRhdGVMaW5lVG90YWxzOiBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygncmVjYWxjJyk7XG4gICAgdmFyIHF0eSAgICAgICAgICAgICA9IHRoaXMuZ2V0KCdxdHknKSxcbiAgICAgICAgaXRlbV9wcmljZSAgICAgID0gdGhpcy5nZXQoJ2l0ZW1fcHJpY2UnKSxcbiAgICAgICAgdHlwZSAgICAgICAgICAgID0gdGhpcy5nZXQoJ3R5cGUnKSxcbiAgICAgICAgcmVndWxhcl9wcmljZSAgID0gcGFyc2VGbG9hdCggdGhpcy5nZXQoJ3JlZ3VsYXJfcHJpY2UnKSApLFxuICAgICAgICBpdGVtX3RheCAgICAgICAgPSB0aGlzLmNhbGNUYXgoIGl0ZW1fcHJpY2UsIHF0eSksXG4gICAgICAgIGl0ZW1fc3VidG90YWxfdGF4ID0gdGhpcy5jYWxjVGF4KCByZWd1bGFyX3ByaWNlICk7XG5cbiAgICAvLyBpZiBzaGlwcGluZyBvciBmZWVcbiAgICBpZiggdHlwZSA9PT0gJ3NoaXBwaW5nJyB8fCB0eXBlID09PSAnZmVlJyApIHtcbiAgICAgIHJlZ3VsYXJfcHJpY2UgPSBpdGVtX3ByaWNlO1xuICAgIH1cblxuICAgIC8vIGlmIHByaWNlIGRvZXMgbm90IGluY2x1ZGUgdGF4XG4gICAgaWYoIFBPUy5nZXRPcHRpb24oJ3RheCcpLnByaWNlc19pbmNsdWRlX3RheCA9PT0gJ3llcycgKSB7XG4gICAgICByZWd1bGFyX3ByaWNlIC09IGl0ZW1fc3VidG90YWxfdGF4O1xuICAgICAgaXRlbV9wcmljZSAtPSBpdGVtX3RheDtcbiAgICB9XG5cbiAgICB0aGlzLnNhdmUoe1xuICAgICAgJ2l0ZW1fc3VidG90YWwnICAgICA6IHJlZ3VsYXJfcHJpY2UsXG4gICAgICAnaXRlbV9zdWJ0b3RhbF90YXgnIDogaXRlbV9zdWJ0b3RhbF90YXgsXG4gICAgICAnaXRlbV90YXgnICAgICAgICAgIDogUE9TLlV0aWxzLnJvdW5kKCBpdGVtX3RheCwgNCApLFxuICAgICAgJ3N1YnRvdGFsJyAgICAgICAgICA6IFBPUy5VdGlscy5yb3VuZCggcmVndWxhcl9wcmljZSAqIHF0eSwgNCApLFxuICAgICAgJ3N1YnRvdGFsX3RheCcgICAgICA6IFBPUy5VdGlscy5yb3VuZCggaXRlbV9zdWJ0b3RhbF90YXggKiBxdHksIDQgKSxcbiAgICAgICd0b3RhbF90YXgnICAgICAgICAgOiBQT1MuVXRpbHMucm91bmQoIGl0ZW1fdGF4ICogcXR5LCA0ICksXG4gICAgICAndG90YWwnICAgICAgICAgICAgIDogUE9TLlV0aWxzLnJvdW5kKCBpdGVtX3ByaWNlICogcXR5LCA0IClcbiAgICB9KTtcblxuICB9LFxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGxpbmUgaXRlbSB0YXggdG90YWxcbiAgICogYmFzZWQgb24gdGhlIGNhbGNfdGF4IGZ1bmN0aW9uIGluIHdvb2NvbW1lcmNlL2luY2x1ZGVzL2NsYXNzLXdjLXRheC5waHBcbiAgICovXG4gIGNhbGNUYXg6IGZ1bmN0aW9uKCBwcmljZSwgcXR5ICkge1xuICAgIHZhciBpdGVtX3RheCA9IDAsXG4gICAgICB0YXhfY2xhc3MgPSB0aGlzLmdldCgndGF4X2NsYXNzJyksXG4gICAgICB0YXhfcmF0ZXMgPSBQT1MuZ2V0T3B0aW9uKCd0YXhfcmF0ZXMnKSxcbiAgICAgIHJhdGVzID0gdGF4X3JhdGVzW3RheF9jbGFzc107XG5cbiAgICBpZiggUE9TLmdldE9wdGlvbigndGF4JykuY2FsY190YXhlcyA9PT0gJ3llcycgJiYgdGhpcy5nZXQoJ3RheGFibGUnKSAmJiByYXRlcyApIHtcbiAgICAgIGlmKCBQT1MuZ2V0T3B0aW9uKCd0YXgnKS5wcmljZXNfaW5jbHVkZV90YXggPT09ICd5ZXMnICkge1xuICAgICAgICBpdGVtX3RheCA9IHRoaXMuY2FsY0luY2x1c2l2ZVRheCggcHJpY2UsIHJhdGVzLCBxdHkgKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpdGVtX3RheCA9IHRoaXMuY2FsY0V4Y2x1c2l2ZVRheCggcHJpY2UsIHJhdGVzLCBxdHkgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB1c2UgZm9yIGluaXQgc3VidG90YWxfdGF4XG4gICAgcmV0dXJuIGl0ZW1fdGF4O1xuICB9LFxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGxpbmUgaXRlbSB0YXggdG90YWxcbiAgICogYmFzZWQgb24gdGhlIGNhbGNfaW5jbHVzaXZlX3RheCBmdW5jdGlvbiBpbiB3b29jb21tZXJjZS9pbmNsdWRlcy9jbGFzcy13Yy10YXgucGhwXG4gICAqL1xuICBjYWxjSW5jbHVzaXZlVGF4OiBmdW5jdGlvbiggcHJpY2UsIHJhdGVzLCBxdHkgKSB7XG4gICAgdmFyIHJlZ3VsYXJfdGF4X3JhdGVzID0gMCxcbiAgICAgIGNvbXBvdW5kX3RheF9yYXRlcyA9IDAsXG4gICAgICBub25fY29tcG91bmRfcHJpY2UgPSAwLFxuICAgICAgdGF4X2Ftb3VudCA9IDAsXG4gICAgICBpdGVtX3RheCA9IDAsXG4gICAgICBsaW5lX3RheCA9IDA7XG5cbiAgICBpZiggcXR5ID09PSB1bmRlZmluZWQgKSB7XG4gICAgICB2YXIgc3VidG90YWxfY2FsYyA9IHRydWU7XG4gICAgICBxdHkgPSAxO1xuICAgIH1cblxuICAgIF8ocmF0ZXMpLmVhY2goIGZ1bmN0aW9uKHJhdGUpIHtcbiAgICAgIGlmICggcmF0ZS5jb21wb3VuZCA9PT0gJ3llcycgKSB7XG4gICAgICAgIGNvbXBvdW5kX3RheF9yYXRlcyA9IGNvbXBvdW5kX3RheF9yYXRlcyArIHBhcnNlRmxvYXQocmF0ZS5yYXRlKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZWd1bGFyX3RheF9yYXRlcyA9IHJlZ3VsYXJfdGF4X3JhdGVzICsgcGFyc2VGbG9hdChyYXRlLnJhdGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHJlZ3VsYXJfdGF4X3JhdGUgID0gMSArICggcmVndWxhcl90YXhfcmF0ZXMgLyAxMDAgKTtcbiAgICB2YXIgY29tcG91bmRfdGF4X3JhdGUgICA9IDEgKyAoIGNvbXBvdW5kX3RheF9yYXRlcyAvIDEwMCApO1xuICAgIG5vbl9jb21wb3VuZF9wcmljZSA9IHByaWNlIC8gY29tcG91bmRfdGF4X3JhdGU7XG5cbiAgICBfKHJhdGVzKS5lYWNoKCBmdW5jdGlvbihyYXRlLCBrZXkpIHtcbiAgICAgIHZhciB0aGVfcmF0ZSA9IHBhcnNlRmxvYXQocmF0ZS5yYXRlKSAvIDEwMDtcbiAgICAgIHZhciB0aGVfcHJpY2UgPSAwO1xuXG4gICAgICBpZiAoIHJhdGUuY29tcG91bmQgPT09ICd5ZXMnICkge1xuICAgICAgICB0aGVfcHJpY2UgPSBwcmljZTtcbiAgICAgICAgdGhlX3JhdGUgID0gdGhlX3JhdGUgLyBjb21wb3VuZF90YXhfcmF0ZTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGVfcHJpY2UgPSBub25fY29tcG91bmRfcHJpY2U7XG4gICAgICAgIHRoZV9yYXRlICA9IHRoZV9yYXRlIC8gcmVndWxhcl90YXhfcmF0ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIG5ldF9wcmljZSA9IHByaWNlIC0gKCB0aGVfcmF0ZSAqIHRoZV9wcmljZSApO1xuICAgICAgdGF4X2Ftb3VudCA9IHByaWNlIC0gbmV0X3ByaWNlO1xuXG4gICAgICAvLyBkbyB0aGUgcm91bmRpbmcgbm93IGlmIHJlcXVpcmVkXG4gICAgICB2YXIgaXRlbV90YXhfID0gUE9TLlV0aWxzLnJvdW5kKCB0YXhfYW1vdW50LCA0ICk7XG4gICAgICB2YXIgbGluZV90YXhfID0gUE9TLlV0aWxzLnJvdW5kKCB0YXhfYW1vdW50ICogcXR5LCA0ICk7XG5cbiAgICAgIC8vIHNldCB0aGUgaXRlbWl6ZWQgdGF4ZXNcbiAgICAgIHRoaXMuc2V0KCAnaXRlbV90YXhfJyArIGtleSwgaXRlbV90YXhfICk7XG4gICAgICB0aGlzLnNldCggJ2xpbmVfdGF4XycgKyBrZXksIGxpbmVfdGF4XyApO1xuICAgICAgcmF0ZS50YXhfYW1vdW50ID0gbGluZV90YXhfOyAvLyBuZXN0ZWQgYXR0cmlidXRlLCBmb3IgV0MgQVBJXG5cbiAgICAgIC8vIHN1bSBpdGVtIHRheGVzXG4gICAgICBpdGVtX3RheCArPSBpdGVtX3RheF87XG5cbiAgICAgIC8vIFdDIEFQSSB2MlxuICAgICAgaWYoIHN1YnRvdGFsX2NhbGMgKSB7XG4gICAgICAgIHJhdGUuc3VidG90YWxfdGF4ID0gaXRlbV90YXhfO1xuICAgICAgfVxuXG4gICAgfSwgdGhpcyk7XG5cbiAgICAvLyByZXR1cm4gdGhlIGl0ZW0gdGF4XG4gICAgcmV0dXJuIFBPUy5VdGlscy5yb3VuZCggaXRlbV90YXgsIDQgKTtcbiAgfSxcblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBsaW5lIGl0ZW0gdGF4IHRvdGFsXG4gICAqIGJhc2VkIG9uIHRoZSBjYWxjX2V4Y2x1c2l2ZV90YXggZnVuY3Rpb24gaW4gd29vY29tbWVyY2UvaW5jbHVkZXMvY2xhc3Mtd2MtdGF4LnBocFxuICAgKi9cbiAgY2FsY0V4Y2x1c2l2ZVRheDogZnVuY3Rpb24oIHByaWNlLCByYXRlcywgcXR5ICkge1xuICAgIHZhciB0YXhlcyA9IFtdLFxuICAgICAgcHJlX2NvbXBvdW5kX3RvdGFsID0gMCxcbiAgICAgIHRheF9hbW91bnQgPSAwLFxuICAgICAgaXRlbV90YXggPSAwLFxuICAgICAgbGluZV90YXggPTA7XG5cbiAgICBpZiggcXR5ID09PSB1bmRlZmluZWQgKSB7XG4gICAgICB2YXIgc3VidG90YWxfY2FsYyA9IHRydWU7XG4gICAgICBxdHkgPSAxO1xuICAgIH1cblxuICAgIC8vIG11bHRpcGxlIHRheGVzXG4gICAgXyhyYXRlcykuZWFjaCggZnVuY3Rpb24ocmF0ZSwga2V5KSB7XG4gICAgICB0YXhfYW1vdW50ID0gMDtcbiAgICAgIGlmICggcmF0ZS5jb21wb3VuZCAhPT0gJ3llcycgKSB7XG4gICAgICAgIHRheF9hbW91bnQgPSBwcmljZSAqICggcGFyc2VGbG9hdChyYXRlLnJhdGUpIC8gMTAwICk7XG4gICAgICB9XG4gICAgICB0YXhlc1sga2V5IF0gPSB0YXhfYW1vdW50O1xuICAgIH0pO1xuXG4gICAgaWYoIHRheGVzLmxlbmd0aCA+IDAgKSB7XG4gICAgICBwcmVfY29tcG91bmRfdG90YWwgPSB0YXhlcy5yZWR1Y2UoIGZ1bmN0aW9uKHN1bSwgbnVtKSB7IHJldHVybiBzdW0gKyBudW07IH0gKTtcbiAgICB9XG5cbiAgICAvLyBjb21wb3VuZCB0YXhlc1xuICAgIF8ocmF0ZXMpLmVhY2goIGZ1bmN0aW9uKHJhdGUsIGtleSkge1xuICAgICAgaWYgKCByYXRlLmNvbXBvdW5kID09PSAneWVzJyApIHtcbiAgICAgICAgdmFyIHRoZV9wcmljZV9pbmNfdGF4ID0gcHJpY2UgKyBwcmVfY29tcG91bmRfdG90YWw7XG4gICAgICAgIHRheGVzWyBrZXkgXSA9IHRoZV9wcmljZV9pbmNfdGF4ICogKCBwYXJzZUZsb2F0KHJhdGUucmF0ZSkgLyAxMDAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gZG8gdGhlIHJvdW5kaW5nIG5vdyBpZiByZXF1aXJlZFxuICAgICAgdmFyIGl0ZW1fdGF4XyA9IFBPUy5VdGlscy5yb3VuZCggdGF4ZXNbIGtleSBdLCA0ICk7XG4gICAgICB2YXIgbGluZV90YXhfID0gUE9TLlV0aWxzLnJvdW5kKCB0YXhlc1sga2V5IF0gKiBxdHksIDQgKTtcblxuICAgICAgLy8gc2V0IHRoZSBpdGVtaXplZCB0YXhlc1xuICAgICAgdGhpcy5zZXQoICdpdGVtX3RheF8nICsga2V5LCBpdGVtX3RheF8gKTtcbiAgICAgIHRoaXMuc2V0KCAnbGluZV90YXhfJyArIGtleSwgbGluZV90YXhfICk7XG4gICAgICByYXRlLnRheF9hbW91bnQgPSBsaW5lX3RheF87IC8vIG5lc3RlZCBhdHRyaWJ1dGUsIGZvciBXQyBBUElcblxuICAgICAgLy8gc3VtIGl0ZW0gdGF4ZXNcbiAgICAgIGl0ZW1fdGF4ICs9IGl0ZW1fdGF4XztcblxuICAgICAgLy8gV0MgQVBJIHYyXG4gICAgICBpZiggc3VidG90YWxfY2FsYyApIHtcbiAgICAgICAgcmF0ZS5zdWJ0b3RhbF90YXggPSBpdGVtX3RheF87XG4gICAgICB9XG5cbiAgICB9LCB0aGlzKTtcblxuICAgIC8vIHJldHVybiB0aGUgaXRlbSB0YXhcbiAgICByZXR1cm4gUE9TLlV0aWxzLnJvdW5kKCBpdGVtX3RheCwgNCApO1xuICB9LFxuXG4gIC8vIENvbnZlbmllbmNlIG1ldGhvZCB0byBpbmNyZWFzZSBvciBkZWNyZWFzZSBxdHlcbiAgcXVhbnRpdHk6IGZ1bmN0aW9uKCB0eXBlICkge1xuICAgIHZhciBxdHkgPSB0aGlzLmdldCgncXR5Jyk7XG4gICAgdGhpcy5zZXQoJ3F0eScsICh0eXBlID09PSAnaW5jcmVhc2UnID8gKytxdHkgOiAtLXF0eSkgKTtcbiAgfSxcblxuICAvLyBDb252ZW5pZW5jZSBtZXRob2QgdG8gc3VtIGF0dHJpYnV0ZXNcbiAgc3VtOiBmdW5jdGlvbihhcnJheSl7XG4gICAgdmFyIHN1bSA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgc3VtICs9IHRoaXMuZ2V0KGFycmF5W2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHN1bTtcbiAgfVxufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vZW50aXRpZXMvY2FydC9tb2RlbC5qc1xuICoqIG1vZHVsZSBpZCA9IDU4XG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI1OC5qcyJ9");

/***/ },
/* 59 */
/*!************************************!*\
  !*** ./~/lib/config/dual-model.js ***!
  \************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Backbone = __webpack_require__(/*! backbone */ 2);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 9);\n\nvar DualModel = Backbone.DualModel.extend({\n  idAttribute: 'local_id',\n  remoteIdAttribute: 'id',\n  fields: ['title'],\n  parse: function (resp) {\n    return resp[this.name] ? resp[this.name] : resp ;\n  }\n});\n\nmodule.exports = DualModel;\nPOS.attach('DualModel', DualModel);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvZHVhbC1tb2RlbC5qcz85ZGI0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQmFja2JvbmUgPSByZXF1aXJlKCdiYWNrYm9uZScpO1xudmFyIFBPUyA9IHJlcXVpcmUoJ2xpYi91dGlsaXRpZXMvZ2xvYmFsJyk7XG5cbnZhciBEdWFsTW9kZWwgPSBCYWNrYm9uZS5EdWFsTW9kZWwuZXh0ZW5kKHtcbiAgaWRBdHRyaWJ1dGU6ICdsb2NhbF9pZCcsXG4gIHJlbW90ZUlkQXR0cmlidXRlOiAnaWQnLFxuICBmaWVsZHM6IFsndGl0bGUnXSxcbiAgcGFyc2U6IGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgcmV0dXJuIHJlc3BbdGhpcy5uYW1lXSA/IHJlc3BbdGhpcy5uYW1lXSA6IHJlc3AgO1xuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBEdWFsTW9kZWw7XG5QT1MuYXR0YWNoKCdEdWFsTW9kZWwnLCBEdWFsTW9kZWwpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xpYi9jb25maWcvZHVhbC1tb2RlbC5qc1xuICoqIG1vZHVsZSBpZCA9IDU5XG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI1OS5qcyJ9");

/***/ },
/* 60 */
/*!**********************************************!*\
  !*** ./~/lib/components/hotkeys/behavior.js ***!
  \**********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Behavior = __webpack_require__(/*! lib/config/behavior */ 66);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar entitiesChannel = bb.Radio.channel('entities');\nvar debugLog = __webpack_require__(/*! lib/utilities/debug */ 17);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 9);\n\nvar HotKeys = Behavior.extend({\n\n  initialize: function() {\n\n    var hotkeys = entitiesChannel.request( 'get:settings', 'hotkeys' );\n    _.each( this.view.keyEvents, function( method, id ) {\n      var trigger = hotkeys.get(id);\n      if( trigger ) {\n        $(document).bind('keydown', trigger.get('key'), this.view[method]);\n      } else {\n        debugLog( 'warn', 'Hotkey not found, id: ' + id );\n      }\n    }, this);\n\n  },\n\n  onClose: function() {\n    _.each( this.view.keyEvents, function( method ) {\n      $(document).unbind( 'keydown', this.view[method] );\n    }, this);\n  }\n\n});\n\nmodule.exports = HotKeys;\nPOS.attach('Behaviors.HotKeys', HotKeys);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb21wb25lbnRzL2hvdGtleXMvYmVoYXZpb3IuanM/OTg3NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLOztBQUVMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBLENBQUM7O0FBRUQ7QUFDQSIsInNvdXJjZXNDb250ZW50IjpbInZhciBCZWhhdmlvciA9IHJlcXVpcmUoJ2xpYi9jb25maWcvYmVoYXZpb3InKTtcbnZhciBiYiA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbnZhciBlbnRpdGllc0NoYW5uZWwgPSBiYi5SYWRpby5jaGFubmVsKCdlbnRpdGllcycpO1xudmFyIGRlYnVnTG9nID0gcmVxdWlyZSgnbGliL3V0aWxpdGllcy9kZWJ1ZycpO1xudmFyIFBPUyA9IHJlcXVpcmUoJ2xpYi91dGlsaXRpZXMvZ2xvYmFsJyk7XG5cbnZhciBIb3RLZXlzID0gQmVoYXZpb3IuZXh0ZW5kKHtcblxuICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcblxuICAgIHZhciBob3RrZXlzID0gZW50aXRpZXNDaGFubmVsLnJlcXVlc3QoICdnZXQ6c2V0dGluZ3MnLCAnaG90a2V5cycgKTtcbiAgICBfLmVhY2goIHRoaXMudmlldy5rZXlFdmVudHMsIGZ1bmN0aW9uKCBtZXRob2QsIGlkICkge1xuICAgICAgdmFyIHRyaWdnZXIgPSBob3RrZXlzLmdldChpZCk7XG4gICAgICBpZiggdHJpZ2dlciApIHtcbiAgICAgICAgJChkb2N1bWVudCkuYmluZCgna2V5ZG93bicsIHRyaWdnZXIuZ2V0KCdrZXknKSwgdGhpcy52aWV3W21ldGhvZF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVidWdMb2coICd3YXJuJywgJ0hvdGtleSBub3QgZm91bmQsIGlkOiAnICsgaWQgKTtcbiAgICAgIH1cbiAgICB9LCB0aGlzKTtcblxuICB9LFxuXG4gIG9uQ2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgIF8uZWFjaCggdGhpcy52aWV3LmtleUV2ZW50cywgZnVuY3Rpb24oIG1ldGhvZCApIHtcbiAgICAgICQoZG9jdW1lbnQpLnVuYmluZCggJ2tleWRvd24nLCB0aGlzLnZpZXdbbWV0aG9kXSApO1xuICAgIH0sIHRoaXMpO1xuICB9XG5cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEhvdEtleXM7XG5QT1MuYXR0YWNoKCdCZWhhdmlvcnMuSG90S2V5cycsIEhvdEtleXMpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xpYi9jb21wb25lbnRzL2hvdGtleXMvYmVoYXZpb3IuanNcbiAqKiBtb2R1bGUgaWQgPSA2MFxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNjAuanMifQ==");

/***/ },
/* 61 */
/*!**********************************************!*\
  !*** ./~/lib/components/tooltip/behavior.js ***!
  \**********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Behavior = __webpack_require__(/*! lib/config/behavior */ 66);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 9);\n\nmodule.exports = POS.Behaviors.Tooltip = Behavior.extend({\n\n  initialize: function(options){\n\n    this.options = _.defaults(options, {\n\n    });\n\n  },\n\n  ui: {\n    tooltip: '*[data-toggle=\"tooltip\"]'\n  },\n\n  onRender: function() {\n    this.ui.tooltip.tooltip( this.options );\n  },\n\n  onBeforeDestroy: function() {\n    this.ui.tooltip.tooltip( 'destroy' );\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb21wb25lbnRzL3Rvb2x0aXAvYmVoYXZpb3IuanM/NmZmMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsS0FBSzs7QUFFTCxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEJlaGF2aW9yID0gcmVxdWlyZSgnbGliL2NvbmZpZy9iZWhhdmlvcicpO1xudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbnZhciBQT1MgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL2dsb2JhbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBPUy5CZWhhdmlvcnMuVG9vbHRpcCA9IEJlaGF2aW9yLmV4dGVuZCh7XG5cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucyl7XG5cbiAgICB0aGlzLm9wdGlvbnMgPSBfLmRlZmF1bHRzKG9wdGlvbnMsIHtcblxuICAgIH0pO1xuXG4gIH0sXG5cbiAgdWk6IHtcbiAgICB0b29sdGlwOiAnKltkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIl0nXG4gIH0sXG5cbiAgb25SZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudWkudG9vbHRpcC50b29sdGlwKCB0aGlzLm9wdGlvbnMgKTtcbiAgfSxcblxuICBvbkJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudWkudG9vbHRpcC50b29sdGlwKCAnZGVzdHJveScgKTtcbiAgfVxuXG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9saWIvY29tcG9uZW50cy90b29sdGlwL2JlaGF2aW9yLmpzXG4gKiogbW9kdWxlIGlkID0gNjFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjYxLmpzIn0=");

/***/ },
/* 62 */
/*!**************************************!*\
  !*** ./~/apps/pos/products/route.js ***!
  \**************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Route = __webpack_require__(/*! lib/config/route */ 67);\nvar Views = __webpack_require__(/*! ./views */ 70);\nvar Tabs = __webpack_require__(/*! lib/components/tabs/view */ 71);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar entitiesChannel = bb.Radio.channel('entities');\nvar posChannel = bb.Radio.channel('pos');\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar debugLog = __webpack_require__(/*! lib/utilities/debug */ 17);\n\nmodule.exports = Route.extend({\n\n  initialize: function (options) {\n    this.container  = options.container;\n    this.collection = options.collection;\n    this.filtered   = options.filtered;\n\n    // add title to tab\n    // super hack, get the label from the menu\n    // TODO: put menu items into params, remove this hack\n    var label = $('#menu li.products').text();\n    posChannel.command('update:tab:label', label, 'left');\n  },\n\n  fetch: function() {\n    if (this.collection.isNew()) {\n      debugLog('fetching products');\n      return this.collection.fetch();\n    }\n  },\n\n  render: function() {\n    this.layout = new Views.Layout();\n\n    this.listenTo(this.layout, 'show', function () {\n      this.filtered.hideVariations();\n      this.showActions();\n      this.showTabs();\n      this.showProducts();\n    });\n\n    this.container.show( this.layout );\n  },\n\n  showActions: function() {\n    var view = new Views.Actions({\n      collection: this.filtered\n    });\n\n    this.listenTo(view, 'search:query', function (query) {\n      this.filtered.query(query);\n    });\n\n    // show\n    this.layout.actionsRegion.show(view);\n  },\n\n  showTabs: function() {\n\n    // tabs component\n    var view = new Tabs({\n      collection: entitiesChannel.request( 'get:options', 'tabs' )\n    });\n\n    this.listenTo(view.collection, 'change:active', function (model) {\n      this.filtered.query(model.get('value'), 'tab');\n    });\n\n    // listen for new tabs\n    this.on('add:new:tab', function (tab) {\n      view.collection.add(tab).set({active: true});\n    });\n\n    // show tabs component\n    this.layout.tabsRegion.show(view);\n  },\n\n  showProducts: function() {\n\n    var view = new Views.List({\n      collection: this.filtered\n    });\n\n    // add to cart\n    this.listenTo(view, 'childview:cart:add:clicked', this.sendToCart);\n\n    // variations, new tab filter\n    this.listenTo(view, 'childview:product:variations:clicked', this.newTab);\n\n    // show\n    this.layout.listRegion.show(view);\n\n  },\n\n  sendToCart: function(childview, args){\n    posChannel.command('cart:add', args.model);\n  },\n\n  newTab: function(childview, args){\n    var newTab = {\n      label: args.model.get('title'),\n      value: 'parent:' + args.model.get('id'),\n      fixed: false\n    };\n    this.trigger('add:new:tab', newTab);\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL3Byb2R1Y3RzL3JvdXRlLmpzPzhjYWIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLG9DQUFvQyxhQUFhO0FBQ2pELEtBQUs7O0FBRUw7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUm91dGUgPSByZXF1aXJlKCdsaWIvY29uZmlnL3JvdXRlJyk7XG52YXIgVmlld3MgPSByZXF1aXJlKCcuL3ZpZXdzJyk7XG52YXIgVGFicyA9IHJlcXVpcmUoJ2xpYi9jb21wb25lbnRzL3RhYnMvdmlldycpO1xudmFyIGJiID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBlbnRpdGllc0NoYW5uZWwgPSBiYi5SYWRpby5jaGFubmVsKCdlbnRpdGllcycpO1xudmFyIHBvc0NoYW5uZWwgPSBiYi5SYWRpby5jaGFubmVsKCdwb3MnKTtcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG52YXIgZGVidWdMb2cgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL2RlYnVnJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUm91dGUuZXh0ZW5kKHtcblxuICBpbml0aWFsaXplOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHRoaXMuY29udGFpbmVyICA9IG9wdGlvbnMuY29udGFpbmVyO1xuICAgIHRoaXMuY29sbGVjdGlvbiA9IG9wdGlvbnMuY29sbGVjdGlvbjtcbiAgICB0aGlzLmZpbHRlcmVkICAgPSBvcHRpb25zLmZpbHRlcmVkO1xuXG4gICAgLy8gYWRkIHRpdGxlIHRvIHRhYlxuICAgIC8vIHN1cGVyIGhhY2ssIGdldCB0aGUgbGFiZWwgZnJvbSB0aGUgbWVudVxuICAgIC8vIFRPRE86IHB1dCBtZW51IGl0ZW1zIGludG8gcGFyYW1zLCByZW1vdmUgdGhpcyBoYWNrXG4gICAgdmFyIGxhYmVsID0gJCgnI21lbnUgbGkucHJvZHVjdHMnKS50ZXh0KCk7XG4gICAgcG9zQ2hhbm5lbC5jb21tYW5kKCd1cGRhdGU6dGFiOmxhYmVsJywgbGFiZWwsICdsZWZ0Jyk7XG4gIH0sXG5cbiAgZmV0Y2g6IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmNvbGxlY3Rpb24uaXNOZXcoKSkge1xuICAgICAgZGVidWdMb2coJ2ZldGNoaW5nIHByb2R1Y3RzJyk7XG4gICAgICByZXR1cm4gdGhpcy5jb2xsZWN0aW9uLmZldGNoKCk7XG4gICAgfVxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5sYXlvdXQgPSBuZXcgVmlld3MuTGF5b3V0KCk7XG5cbiAgICB0aGlzLmxpc3RlblRvKHRoaXMubGF5b3V0LCAnc2hvdycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuZmlsdGVyZWQuaGlkZVZhcmlhdGlvbnMoKTtcbiAgICAgIHRoaXMuc2hvd0FjdGlvbnMoKTtcbiAgICAgIHRoaXMuc2hvd1RhYnMoKTtcbiAgICAgIHRoaXMuc2hvd1Byb2R1Y3RzKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmNvbnRhaW5lci5zaG93KCB0aGlzLmxheW91dCApO1xuICB9LFxuXG4gIHNob3dBY3Rpb25zOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdmlldyA9IG5ldyBWaWV3cy5BY3Rpb25zKHtcbiAgICAgIGNvbGxlY3Rpb246IHRoaXMuZmlsdGVyZWRcbiAgICB9KTtcblxuICAgIHRoaXMubGlzdGVuVG8odmlldywgJ3NlYXJjaDpxdWVyeScsIGZ1bmN0aW9uIChxdWVyeSkge1xuICAgICAgdGhpcy5maWx0ZXJlZC5xdWVyeShxdWVyeSk7XG4gICAgfSk7XG5cbiAgICAvLyBzaG93XG4gICAgdGhpcy5sYXlvdXQuYWN0aW9uc1JlZ2lvbi5zaG93KHZpZXcpO1xuICB9LFxuXG4gIHNob3dUYWJzOiBmdW5jdGlvbigpIHtcblxuICAgIC8vIHRhYnMgY29tcG9uZW50XG4gICAgdmFyIHZpZXcgPSBuZXcgVGFicyh7XG4gICAgICBjb2xsZWN0aW9uOiBlbnRpdGllc0NoYW5uZWwucmVxdWVzdCggJ2dldDpvcHRpb25zJywgJ3RhYnMnIClcbiAgICB9KTtcblxuICAgIHRoaXMubGlzdGVuVG8odmlldy5jb2xsZWN0aW9uLCAnY2hhbmdlOmFjdGl2ZScsIGZ1bmN0aW9uIChtb2RlbCkge1xuICAgICAgdGhpcy5maWx0ZXJlZC5xdWVyeShtb2RlbC5nZXQoJ3ZhbHVlJyksICd0YWInKTtcbiAgICB9KTtcblxuICAgIC8vIGxpc3RlbiBmb3IgbmV3IHRhYnNcbiAgICB0aGlzLm9uKCdhZGQ6bmV3OnRhYicsIGZ1bmN0aW9uICh0YWIpIHtcbiAgICAgIHZpZXcuY29sbGVjdGlvbi5hZGQodGFiKS5zZXQoe2FjdGl2ZTogdHJ1ZX0pO1xuICAgIH0pO1xuXG4gICAgLy8gc2hvdyB0YWJzIGNvbXBvbmVudFxuICAgIHRoaXMubGF5b3V0LnRhYnNSZWdpb24uc2hvdyh2aWV3KTtcbiAgfSxcblxuICBzaG93UHJvZHVjdHM6IGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIHZpZXcgPSBuZXcgVmlld3MuTGlzdCh7XG4gICAgICBjb2xsZWN0aW9uOiB0aGlzLmZpbHRlcmVkXG4gICAgfSk7XG5cbiAgICAvLyBhZGQgdG8gY2FydFxuICAgIHRoaXMubGlzdGVuVG8odmlldywgJ2NoaWxkdmlldzpjYXJ0OmFkZDpjbGlja2VkJywgdGhpcy5zZW5kVG9DYXJ0KTtcblxuICAgIC8vIHZhcmlhdGlvbnMsIG5ldyB0YWIgZmlsdGVyXG4gICAgdGhpcy5saXN0ZW5Ubyh2aWV3LCAnY2hpbGR2aWV3OnByb2R1Y3Q6dmFyaWF0aW9uczpjbGlja2VkJywgdGhpcy5uZXdUYWIpO1xuXG4gICAgLy8gc2hvd1xuICAgIHRoaXMubGF5b3V0Lmxpc3RSZWdpb24uc2hvdyh2aWV3KTtcblxuICB9LFxuXG4gIHNlbmRUb0NhcnQ6IGZ1bmN0aW9uKGNoaWxkdmlldywgYXJncyl7XG4gICAgcG9zQ2hhbm5lbC5jb21tYW5kKCdjYXJ0OmFkZCcsIGFyZ3MubW9kZWwpO1xuICB9LFxuXG4gIG5ld1RhYjogZnVuY3Rpb24oY2hpbGR2aWV3LCBhcmdzKXtcbiAgICB2YXIgbmV3VGFiID0ge1xuICAgICAgbGFiZWw6IGFyZ3MubW9kZWwuZ2V0KCd0aXRsZScpLFxuICAgICAgdmFsdWU6ICdwYXJlbnQ6JyArIGFyZ3MubW9kZWwuZ2V0KCdpZCcpLFxuICAgICAgZml4ZWQ6IGZhbHNlXG4gICAgfTtcbiAgICB0aGlzLnRyaWdnZXIoJ2FkZDpuZXc6dGFiJywgbmV3VGFiKTtcbiAgfVxuXG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hcHBzL3Bvcy9wcm9kdWN0cy9yb3V0ZS5qc1xuICoqIG1vZHVsZSBpZCA9IDYyXG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI2Mi5qcyJ9");

/***/ },
/* 63 */
/*!**********************************!*\
  !*** ./~/apps/pos/cart/route.js ***!
  \**********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Route = __webpack_require__(/*! lib/config/route */ 67);\nvar LayoutView = __webpack_require__(/*! ./views/layout */ 72);\nvar ItemsView = __webpack_require__(/*! ./views/items */ 73);\nvar TotalsView = __webpack_require__(/*! ./views/totals */ 74);\nvar ActionsView = __webpack_require__(/*! ./views/actions */ 75);\nvar NotesView = __webpack_require__(/*! ./views/notes */ 76);\nvar CustomerSelect = __webpack_require__(/*! lib/components/customer-select/view */ 77);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar entitiesChannel = bb.Radio.channel('entities');\nvar posChannel = bb.Radio.channel('pos');\nvar debugLog = __webpack_require__(/*! lib/utilities/debug */ 17);\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 9);\n\nvar Route = Route.extend({\n\n  initialize: function( options ) {\n    this.id = options.id;\n    this.container = options.container;\n\n    // listen for cart:add commands\n    posChannel.comply( 'cart:add', this.addToCart, this );\n  },\n\n  fetch: function() {\n    return this.getOrders();\n  },\n\n  render: function() {\n    this.layout = new LayoutView();\n\n    this.listenTo( this.layout, 'show', function() {\n      this.showCart();\n      this.showTotals();\n      this.showCustomer();\n      this.showActions();\n      this.showNotes();\n    });\n\n    this.container.show( this.layout );\n  },\n\n  /**\n   *\n   */\n  getOrders: function() {\n    var promise = $.Deferred();\n\n    // init orders collection\n    this.orders = entitiesChannel.request('orders');\n\n    // fetch collection of local orders\n    this.orders.once('idb:ready', function() {\n      this.orders.fetchLocalOrders();\n    }, this);\n\n    // fetch order\n    this.orders.once('orders:ready', function(){\n      this.getOrder( this.id );\n    }, this);\n\n    // finished setting up cart\n    this.on('cart:ready', function(){\n      promise.resolve();\n    });\n\n    return promise;\n  },\n\n  getOrder: function( id ) {\n\n    if( id ) {\n      // get order by id\n      this.order = this.orders.findWhere({ local_id: this.id });\n    } else if( this.orders.length > 0 ) {\n      // get first order\n      this.order = this.orders.at(0);\n    } else {\n      // new order\n      this.order = this.orders.add({ local_id: '' });\n    }\n\n    // add listener to order to update tab label\n    this.listenTo( this.order, 'change:total', this.updateTabLabel );\n\n    this.getCart( this.order );\n  },\n\n  /**\n   *\n   */\n  getCart: function( order ) {\n    this.cart = entitiesChannel.request('cart', { order: order });\n\n    this.cart.once('idb:ready', function() {\n      this.cart.fetchOrder();\n    }, this);\n\n    this.listenTo( this.cart, 'cart:ready', function() {\n      this.trigger('cart:ready');\n    });\n  },\n\n  /**\n   * Add/update tab label\n   */\n  updateTabLabel: _.debounce( function( order ) {\n    var label = $('#tmpl-cart').data('title');\n    if( order ){\n      /* global accounting */\n      label += ' - ' + accounting.formatMoney( order.get('total') );\n    }\n    posChannel.command( 'update:tab:label', label, 'right' );\n  }, 100),\n\n  /**\n   *\n   */\n  addToCart: function( item ) {\n    var attributes = item instanceof bb.Model ? item.attributes : item;\n    var row;\n\n    if( _.isUndefined( this.cart ) ) {\n      debugLog('error', 'There is no cart');\n    }\n\n    if( attributes.id ) {\n      row = this.cart.findWhere({ id: attributes.id });\n    }\n\n    if( row instanceof bb.Model ) {\n      row.quantity('increase');\n    } else {\n      row = this.cart.add( attributes );\n    }\n\n    row.trigger( 'focus:row' );\n  },\n\n  /**\n   *\n   */\n  showCart: function() {\n    var view = new ItemsView({ collection: this.cart });\n    this.layout.listRegion.show( view );\n  },\n\n  /**\n   *\n   */\n  showTotals: function() {\n    var view = new TotalsView({ model: this.order });\n    this.on( 'discount:clicked', view.showDiscountRow );\n    this.layout.totalsRegion.show( view );\n  },\n\n  /**\n   *\n   */\n  showCustomer: function(){\n    var view = new CustomerSelect();\n\n    this.listenTo( view, 'customer:select', function( id, name ) {\n      this.order.save({\n        customer_id: id,\n        customer_name: name\n      });\n    }, this);\n\n    // bit of a hack\n    // get the \"Customer:\" translation and add it to the view\n    this.layout.customerRegion.on( 'before:show', function(view){\n      var label = this.$el.html();\n      view.$el.prepend( label );\n    });\n\n    this.layout.customerRegion.show( view );\n  },\n\n  /**\n   * TODO: abstract as a collection of button models?\n   */\n  showActions: function() {\n\n    var view = new ActionsView();\n\n    // void cart\n    this.listenTo( view, 'void:clicked', function() {\n      _.invoke( this.cart.toArray(), 'destroy' );\n    });\n\n    // add note\n    this.listenTo( view, 'note:clicked', function() {\n      this.trigger('note:clicked');\n    });\n\n    // cart discount\n    this.listenTo( view, 'discount:clicked', function() {\n      this.trigger('discount:clicked');\n    });\n\n    // add fee\n    this.listenTo( view, 'fee:clicked', function(args) {\n      var title = args.view.$('.action-fee').data('title');\n      //posChannel.command( 'cart:add', { title: title, type: 'fee' } );\n      this.addToCart({ title: title, type: 'fee' });\n    });\n\n    // add shipping\n    this.listenTo( view, 'shipping:clicked', function(args) {\n      var title = args.view.$('.action-shipping').data('title');\n      //posChannel.command( 'cart:add', { title: title, type: 'shipping' } );\n      this.addToCart({ title: title, type: 'shipping' });\n    });\n\n    // checkout\n    this.listenTo( view, 'checkout:clicked', function() {\n      posChannel.command('show:checkout');\n    });\n\n    this.layout.actionsRegion.show( view );\n  },\n\n  /**\n   *\n   */\n  showNotes: function() {\n    var view = new NotesView({ model: this.order });\n    this.on( 'note:clicked', view.showNoteField );\n    this.layout.notesRegion.show( view );\n  }\n\n});\n\nmodule.exports = Route;\nPOS.attach('POSApp.Cart.Route', Route);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL2NhcnQvcm91dGUuanM/Y2FjOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBLDBDQUEwQyxvQkFBb0I7QUFDOUQsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvQ0FBb0MsZUFBZTtBQUNuRDs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxlQUFlOztBQUVoRTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQ0FBaUMsb0JBQW9CO0FBQ3JEOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsd0JBQXdCO0FBQ3REO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixvQkFBb0I7QUFDbkQ7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsNEJBQTRCO0FBQ3JFLHNCQUFzQiw0QkFBNEI7QUFDbEQsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsaUNBQWlDO0FBQzFFLHNCQUFzQixpQ0FBaUM7QUFDdkQsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixvQkFBb0I7QUFDbEQ7QUFDQTtBQUNBOztBQUVBLENBQUM7O0FBRUQ7QUFDQSIsInNvdXJjZXNDb250ZW50IjpbInZhciBSb3V0ZSA9IHJlcXVpcmUoJ2xpYi9jb25maWcvcm91dGUnKTtcbnZhciBMYXlvdXRWaWV3ID0gcmVxdWlyZSgnLi92aWV3cy9sYXlvdXQnKTtcbnZhciBJdGVtc1ZpZXcgPSByZXF1aXJlKCcuL3ZpZXdzL2l0ZW1zJyk7XG52YXIgVG90YWxzVmlldyA9IHJlcXVpcmUoJy4vdmlld3MvdG90YWxzJyk7XG52YXIgQWN0aW9uc1ZpZXcgPSByZXF1aXJlKCcuL3ZpZXdzL2FjdGlvbnMnKTtcbnZhciBOb3Rlc1ZpZXcgPSByZXF1aXJlKCcuL3ZpZXdzL25vdGVzJyk7XG52YXIgQ3VzdG9tZXJTZWxlY3QgPSByZXF1aXJlKCdsaWIvY29tcG9uZW50cy9jdXN0b21lci1zZWxlY3QvdmlldycpO1xudmFyIGJiID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBlbnRpdGllc0NoYW5uZWwgPSBiYi5SYWRpby5jaGFubmVsKCdlbnRpdGllcycpO1xudmFyIHBvc0NoYW5uZWwgPSBiYi5SYWRpby5jaGFubmVsKCdwb3MnKTtcbnZhciBkZWJ1Z0xvZyA9IHJlcXVpcmUoJ2xpYi91dGlsaXRpZXMvZGVidWcnKTtcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG52YXIgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xudmFyIFBPUyA9IHJlcXVpcmUoJ2xpYi91dGlsaXRpZXMvZ2xvYmFsJyk7XG5cbnZhciBSb3V0ZSA9IFJvdXRlLmV4dGVuZCh7XG5cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG4gICAgdGhpcy5pZCA9IG9wdGlvbnMuaWQ7XG4gICAgdGhpcy5jb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lcjtcblxuICAgIC8vIGxpc3RlbiBmb3IgY2FydDphZGQgY29tbWFuZHNcbiAgICBwb3NDaGFubmVsLmNvbXBseSggJ2NhcnQ6YWRkJywgdGhpcy5hZGRUb0NhcnQsIHRoaXMgKTtcbiAgfSxcblxuICBmZXRjaDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0T3JkZXJzKCk7XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmxheW91dCA9IG5ldyBMYXlvdXRWaWV3KCk7XG5cbiAgICB0aGlzLmxpc3RlblRvKCB0aGlzLmxheW91dCwgJ3Nob3cnLCBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuc2hvd0NhcnQoKTtcbiAgICAgIHRoaXMuc2hvd1RvdGFscygpO1xuICAgICAgdGhpcy5zaG93Q3VzdG9tZXIoKTtcbiAgICAgIHRoaXMuc2hvd0FjdGlvbnMoKTtcbiAgICAgIHRoaXMuc2hvd05vdGVzKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmNvbnRhaW5lci5zaG93KCB0aGlzLmxheW91dCApO1xuICB9LFxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgZ2V0T3JkZXJzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgcHJvbWlzZSA9ICQuRGVmZXJyZWQoKTtcblxuICAgIC8vIGluaXQgb3JkZXJzIGNvbGxlY3Rpb25cbiAgICB0aGlzLm9yZGVycyA9IGVudGl0aWVzQ2hhbm5lbC5yZXF1ZXN0KCdvcmRlcnMnKTtcblxuICAgIC8vIGZldGNoIGNvbGxlY3Rpb24gb2YgbG9jYWwgb3JkZXJzXG4gICAgdGhpcy5vcmRlcnMub25jZSgnaWRiOnJlYWR5JywgZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLm9yZGVycy5mZXRjaExvY2FsT3JkZXJzKCk7XG4gICAgfSwgdGhpcyk7XG5cbiAgICAvLyBmZXRjaCBvcmRlclxuICAgIHRoaXMub3JkZXJzLm9uY2UoJ29yZGVyczpyZWFkeScsIGZ1bmN0aW9uKCl7XG4gICAgICB0aGlzLmdldE9yZGVyKCB0aGlzLmlkICk7XG4gICAgfSwgdGhpcyk7XG5cbiAgICAvLyBmaW5pc2hlZCBzZXR0aW5nIHVwIGNhcnRcbiAgICB0aGlzLm9uKCdjYXJ0OnJlYWR5JywgZnVuY3Rpb24oKXtcbiAgICAgIHByb21pc2UucmVzb2x2ZSgpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH0sXG5cbiAgZ2V0T3JkZXI6IGZ1bmN0aW9uKCBpZCApIHtcblxuICAgIGlmKCBpZCApIHtcbiAgICAgIC8vIGdldCBvcmRlciBieSBpZFxuICAgICAgdGhpcy5vcmRlciA9IHRoaXMub3JkZXJzLmZpbmRXaGVyZSh7IGxvY2FsX2lkOiB0aGlzLmlkIH0pO1xuICAgIH0gZWxzZSBpZiggdGhpcy5vcmRlcnMubGVuZ3RoID4gMCApIHtcbiAgICAgIC8vIGdldCBmaXJzdCBvcmRlclxuICAgICAgdGhpcy5vcmRlciA9IHRoaXMub3JkZXJzLmF0KDApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBuZXcgb3JkZXJcbiAgICAgIHRoaXMub3JkZXIgPSB0aGlzLm9yZGVycy5hZGQoeyBsb2NhbF9pZDogJycgfSk7XG4gICAgfVxuXG4gICAgLy8gYWRkIGxpc3RlbmVyIHRvIG9yZGVyIHRvIHVwZGF0ZSB0YWIgbGFiZWxcbiAgICB0aGlzLmxpc3RlblRvKCB0aGlzLm9yZGVyLCAnY2hhbmdlOnRvdGFsJywgdGhpcy51cGRhdGVUYWJMYWJlbCApO1xuXG4gICAgdGhpcy5nZXRDYXJ0KCB0aGlzLm9yZGVyICk7XG4gIH0sXG5cbiAgLyoqXG4gICAqXG4gICAqL1xuICBnZXRDYXJ0OiBmdW5jdGlvbiggb3JkZXIgKSB7XG4gICAgdGhpcy5jYXJ0ID0gZW50aXRpZXNDaGFubmVsLnJlcXVlc3QoJ2NhcnQnLCB7IG9yZGVyOiBvcmRlciB9KTtcblxuICAgIHRoaXMuY2FydC5vbmNlKCdpZGI6cmVhZHknLCBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuY2FydC5mZXRjaE9yZGVyKCk7XG4gICAgfSwgdGhpcyk7XG5cbiAgICB0aGlzLmxpc3RlblRvKCB0aGlzLmNhcnQsICdjYXJ0OnJlYWR5JywgZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnRyaWdnZXIoJ2NhcnQ6cmVhZHknKTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogQWRkL3VwZGF0ZSB0YWIgbGFiZWxcbiAgICovXG4gIHVwZGF0ZVRhYkxhYmVsOiBfLmRlYm91bmNlKCBmdW5jdGlvbiggb3JkZXIgKSB7XG4gICAgdmFyIGxhYmVsID0gJCgnI3RtcGwtY2FydCcpLmRhdGEoJ3RpdGxlJyk7XG4gICAgaWYoIG9yZGVyICl7XG4gICAgICAvKiBnbG9iYWwgYWNjb3VudGluZyAqL1xuICAgICAgbGFiZWwgKz0gJyAtICcgKyBhY2NvdW50aW5nLmZvcm1hdE1vbmV5KCBvcmRlci5nZXQoJ3RvdGFsJykgKTtcbiAgICB9XG4gICAgcG9zQ2hhbm5lbC5jb21tYW5kKCAndXBkYXRlOnRhYjpsYWJlbCcsIGxhYmVsLCAncmlnaHQnICk7XG4gIH0sIDEwMCksXG5cbiAgLyoqXG4gICAqXG4gICAqL1xuICBhZGRUb0NhcnQ6IGZ1bmN0aW9uKCBpdGVtICkge1xuICAgIHZhciBhdHRyaWJ1dGVzID0gaXRlbSBpbnN0YW5jZW9mIGJiLk1vZGVsID8gaXRlbS5hdHRyaWJ1dGVzIDogaXRlbTtcbiAgICB2YXIgcm93O1xuXG4gICAgaWYoIF8uaXNVbmRlZmluZWQoIHRoaXMuY2FydCApICkge1xuICAgICAgZGVidWdMb2coJ2Vycm9yJywgJ1RoZXJlIGlzIG5vIGNhcnQnKTtcbiAgICB9XG5cbiAgICBpZiggYXR0cmlidXRlcy5pZCApIHtcbiAgICAgIHJvdyA9IHRoaXMuY2FydC5maW5kV2hlcmUoeyBpZDogYXR0cmlidXRlcy5pZCB9KTtcbiAgICB9XG5cbiAgICBpZiggcm93IGluc3RhbmNlb2YgYmIuTW9kZWwgKSB7XG4gICAgICByb3cucXVhbnRpdHkoJ2luY3JlYXNlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJvdyA9IHRoaXMuY2FydC5hZGQoIGF0dHJpYnV0ZXMgKTtcbiAgICB9XG5cbiAgICByb3cudHJpZ2dlciggJ2ZvY3VzOnJvdycgKTtcbiAgfSxcblxuICAvKipcbiAgICpcbiAgICovXG4gIHNob3dDYXJ0OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdmlldyA9IG5ldyBJdGVtc1ZpZXcoeyBjb2xsZWN0aW9uOiB0aGlzLmNhcnQgfSk7XG4gICAgdGhpcy5sYXlvdXQubGlzdFJlZ2lvbi5zaG93KCB2aWV3ICk7XG4gIH0sXG5cbiAgLyoqXG4gICAqXG4gICAqL1xuICBzaG93VG90YWxzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdmlldyA9IG5ldyBUb3RhbHNWaWV3KHsgbW9kZWw6IHRoaXMub3JkZXIgfSk7XG4gICAgdGhpcy5vbiggJ2Rpc2NvdW50OmNsaWNrZWQnLCB2aWV3LnNob3dEaXNjb3VudFJvdyApO1xuICAgIHRoaXMubGF5b3V0LnRvdGFsc1JlZ2lvbi5zaG93KCB2aWV3ICk7XG4gIH0sXG5cbiAgLyoqXG4gICAqXG4gICAqL1xuICBzaG93Q3VzdG9tZXI6IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHZpZXcgPSBuZXcgQ3VzdG9tZXJTZWxlY3QoKTtcblxuICAgIHRoaXMubGlzdGVuVG8oIHZpZXcsICdjdXN0b21lcjpzZWxlY3QnLCBmdW5jdGlvbiggaWQsIG5hbWUgKSB7XG4gICAgICB0aGlzLm9yZGVyLnNhdmUoe1xuICAgICAgICBjdXN0b21lcl9pZDogaWQsXG4gICAgICAgIGN1c3RvbWVyX25hbWU6IG5hbWVcbiAgICAgIH0pO1xuICAgIH0sIHRoaXMpO1xuXG4gICAgLy8gYml0IG9mIGEgaGFja1xuICAgIC8vIGdldCB0aGUgXCJDdXN0b21lcjpcIiB0cmFuc2xhdGlvbiBhbmQgYWRkIGl0IHRvIHRoZSB2aWV3XG4gICAgdGhpcy5sYXlvdXQuY3VzdG9tZXJSZWdpb24ub24oICdiZWZvcmU6c2hvdycsIGZ1bmN0aW9uKHZpZXcpe1xuICAgICAgdmFyIGxhYmVsID0gdGhpcy4kZWwuaHRtbCgpO1xuICAgICAgdmlldy4kZWwucHJlcGVuZCggbGFiZWwgKTtcbiAgICB9KTtcblxuICAgIHRoaXMubGF5b3V0LmN1c3RvbWVyUmVnaW9uLnNob3coIHZpZXcgKTtcbiAgfSxcblxuICAvKipcbiAgICogVE9ETzogYWJzdHJhY3QgYXMgYSBjb2xsZWN0aW9uIG9mIGJ1dHRvbiBtb2RlbHM/XG4gICAqL1xuICBzaG93QWN0aW9uczogZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgdmlldyA9IG5ldyBBY3Rpb25zVmlldygpO1xuXG4gICAgLy8gdm9pZCBjYXJ0XG4gICAgdGhpcy5saXN0ZW5UbyggdmlldywgJ3ZvaWQ6Y2xpY2tlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgXy5pbnZva2UoIHRoaXMuY2FydC50b0FycmF5KCksICdkZXN0cm95JyApO1xuICAgIH0pO1xuXG4gICAgLy8gYWRkIG5vdGVcbiAgICB0aGlzLmxpc3RlblRvKCB2aWV3LCAnbm90ZTpjbGlja2VkJywgZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnRyaWdnZXIoJ25vdGU6Y2xpY2tlZCcpO1xuICAgIH0pO1xuXG4gICAgLy8gY2FydCBkaXNjb3VudFxuICAgIHRoaXMubGlzdGVuVG8oIHZpZXcsICdkaXNjb3VudDpjbGlja2VkJywgZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnRyaWdnZXIoJ2Rpc2NvdW50OmNsaWNrZWQnKTtcbiAgICB9KTtcblxuICAgIC8vIGFkZCBmZWVcbiAgICB0aGlzLmxpc3RlblRvKCB2aWV3LCAnZmVlOmNsaWNrZWQnLCBmdW5jdGlvbihhcmdzKSB7XG4gICAgICB2YXIgdGl0bGUgPSBhcmdzLnZpZXcuJCgnLmFjdGlvbi1mZWUnKS5kYXRhKCd0aXRsZScpO1xuICAgICAgLy9wb3NDaGFubmVsLmNvbW1hbmQoICdjYXJ0OmFkZCcsIHsgdGl0bGU6IHRpdGxlLCB0eXBlOiAnZmVlJyB9ICk7XG4gICAgICB0aGlzLmFkZFRvQ2FydCh7IHRpdGxlOiB0aXRsZSwgdHlwZTogJ2ZlZScgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBhZGQgc2hpcHBpbmdcbiAgICB0aGlzLmxpc3RlblRvKCB2aWV3LCAnc2hpcHBpbmc6Y2xpY2tlZCcsIGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgIHZhciB0aXRsZSA9IGFyZ3Mudmlldy4kKCcuYWN0aW9uLXNoaXBwaW5nJykuZGF0YSgndGl0bGUnKTtcbiAgICAgIC8vcG9zQ2hhbm5lbC5jb21tYW5kKCAnY2FydDphZGQnLCB7IHRpdGxlOiB0aXRsZSwgdHlwZTogJ3NoaXBwaW5nJyB9ICk7XG4gICAgICB0aGlzLmFkZFRvQ2FydCh7IHRpdGxlOiB0aXRsZSwgdHlwZTogJ3NoaXBwaW5nJyB9KTtcbiAgICB9KTtcblxuICAgIC8vIGNoZWNrb3V0XG4gICAgdGhpcy5saXN0ZW5UbyggdmlldywgJ2NoZWNrb3V0OmNsaWNrZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgIHBvc0NoYW5uZWwuY29tbWFuZCgnc2hvdzpjaGVja291dCcpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5sYXlvdXQuYWN0aW9uc1JlZ2lvbi5zaG93KCB2aWV3ICk7XG4gIH0sXG5cbiAgLyoqXG4gICAqXG4gICAqL1xuICBzaG93Tm90ZXM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2aWV3ID0gbmV3IE5vdGVzVmlldyh7IG1vZGVsOiB0aGlzLm9yZGVyIH0pO1xuICAgIHRoaXMub24oICdub3RlOmNsaWNrZWQnLCB2aWV3LnNob3dOb3RlRmllbGQgKTtcbiAgICB0aGlzLmxheW91dC5ub3Rlc1JlZ2lvbi5zaG93KCB2aWV3ICk7XG4gIH1cblxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUm91dGU7XG5QT1MuYXR0YWNoKCdQT1NBcHAuQ2FydC5Sb3V0ZScsIFJvdXRlKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hcHBzL3Bvcy9jYXJ0L3JvdXRlLmpzXG4gKiogbW9kdWxlIGlkID0gNjNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjYzLmpzIn0=");

/***/ },
/* 64 */
/*!*************************************!*\
  !*** ./~/apps/support/form/view.js ***!
  \*************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var ItemView = __webpack_require__(/*! lib/config/item-view */ 50);\nvar Backbone = __webpack_require__(/*! backbone */ 2);\n\nmodule.exports = ItemView.extend({\n  template: '#tmpl-support-form',\n  tagName: 'form',\n  attributes: {\n    'class'         : 'module support-module',\n    'data-title'    : 'Support Form'\n  },\n\n  events: {\n    'submit': 'send'\n  },\n\n  send: function(e) {\n    e.preventDefault();\n    var data = Backbone.Syphon.serialize( this );\n    this.trigger( 'send:email', data );\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvc3VwcG9ydC9mb3JtL3ZpZXcuanM/OWQ5YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgSXRlbVZpZXcgPSByZXF1aXJlKCdsaWIvY29uZmlnL2l0ZW0tdmlldycpO1xudmFyIEJhY2tib25lID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBJdGVtVmlldy5leHRlbmQoe1xuICB0ZW1wbGF0ZTogJyN0bXBsLXN1cHBvcnQtZm9ybScsXG4gIHRhZ05hbWU6ICdmb3JtJyxcbiAgYXR0cmlidXRlczoge1xuICAgICdjbGFzcycgICAgICAgICA6ICdtb2R1bGUgc3VwcG9ydC1tb2R1bGUnLFxuICAgICdkYXRhLXRpdGxlJyAgICA6ICdTdXBwb3J0IEZvcm0nXG4gIH0sXG5cbiAgZXZlbnRzOiB7XG4gICAgJ3N1Ym1pdCc6ICdzZW5kJ1xuICB9LFxuXG4gIHNlbmQ6IGZ1bmN0aW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIGRhdGEgPSBCYWNrYm9uZS5TeXBob24uc2VyaWFsaXplKCB0aGlzICk7XG4gICAgdGhpcy50cmlnZ2VyKCAnc2VuZDplbWFpbCcsIGRhdGEgKTtcbiAgfVxufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXBwcy9zdXBwb3J0L2Zvcm0vdmlldy5qc1xuICoqIG1vZHVsZSBpZCA9IDY0XG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI2NC5qcyJ9");

/***/ },
/* 65 */
/*!***************************************!*\
  !*** ./~/apps/support/status/view.js ***!
  \***************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var ItemView = __webpack_require__(/*! lib/config/item-view */ 50);\nvar Handlebars = __webpack_require__(/*! handlebars */ 27);\nvar $ = __webpack_require__(/*! jquery */ 3);\n\nmodule.exports = ItemView.extend({\n  tagName: 'section',\n  attributes: {\n    'class'         : 'module status-module',\n    'data-title'    : 'System Status'\n  },\n\n  initialize: function(options) {\n    this.template = Handlebars.compile( $('#tmpl-pos-status').html() );\n    this.results = options;\n  },\n\n  serializeData: function() {\n    return this.results.responseJSON;\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvc3VwcG9ydC9zdGF0dXMvdmlldy5qcz8zNzdiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgSXRlbVZpZXcgPSByZXF1aXJlKCdsaWIvY29uZmlnL2l0ZW0tdmlldycpO1xudmFyIEhhbmRsZWJhcnMgPSByZXF1aXJlKCdoYW5kbGViYXJzJyk7XG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEl0ZW1WaWV3LmV4dGVuZCh7XG4gIHRhZ05hbWU6ICdzZWN0aW9uJyxcbiAgYXR0cmlidXRlczoge1xuICAgICdjbGFzcycgICAgICAgICA6ICdtb2R1bGUgc3RhdHVzLW1vZHVsZScsXG4gICAgJ2RhdGEtdGl0bGUnICAgIDogJ1N5c3RlbSBTdGF0dXMnXG4gIH0sXG5cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHRoaXMudGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoICQoJyN0bXBsLXBvcy1zdGF0dXMnKS5odG1sKCkgKTtcbiAgICB0aGlzLnJlc3VsdHMgPSBvcHRpb25zO1xuICB9LFxuXG4gIHNlcmlhbGl6ZURhdGE6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnJlc3VsdHMucmVzcG9uc2VKU09OO1xuICB9XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hcHBzL3N1cHBvcnQvc3RhdHVzL3ZpZXcuanNcbiAqKiBtb2R1bGUgaWQgPSA2NVxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNjUuanMifQ==");

/***/ },
/* 66 */
/*!**********************************!*\
  !*** ./~/lib/config/behavior.js ***!
  \**********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 9);\n\nvar Behavior = bb.Marionette.Behavior;\n\nmodule.exports = Behavior;\nPOS.attach('Behavior', Behavior);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvYmVoYXZpb3IuanM/MjRjNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYmIgPSByZXF1aXJlKCdiYWNrYm9uZScpO1xudmFyIFBPUyA9IHJlcXVpcmUoJ2xpYi91dGlsaXRpZXMvZ2xvYmFsJyk7XG5cbnZhciBCZWhhdmlvciA9IGJiLk1hcmlvbmV0dGUuQmVoYXZpb3I7XG5cbm1vZHVsZS5leHBvcnRzID0gQmVoYXZpb3I7XG5QT1MuYXR0YWNoKCdCZWhhdmlvcicsIEJlaGF2aW9yKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9saWIvY29uZmlnL2JlaGF2aW9yLmpzXG4gKiogbW9kdWxlIGlkID0gNjZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjY2LmpzIn0=");

/***/ },
/* 67 */
/*!*******************************!*\
  !*** ./~/lib/config/route.js ***!
  \*******************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 9);\n\nvar Route = bb.Marionette.Object.extend({\n  constructor: function() {\n    this.initialize.apply(this, arguments);\n  },\n\n  _triggerMethod: function(name, args) {\n    if (this.router) {\n      this.router.triggerMethod.apply(\n        this.router,\n        [name + ':route'].concat(args)\n      );\n    }\n    this.triggerMethod.apply(this, [name].concat(args));\n  },\n\n  enter: function(args) {\n    var self = this;\n    this._triggerMethod('before:enter', args);\n    this._triggerMethod('before:fetch', args);\n\n    return $.when(this.fetch.apply(this, args)).then(function() {\n      self._triggerMethod('fetch', args);\n      self._triggerMethod('before:render', args);\n    }).then(function() {\n      return self.render.apply(self, args);\n    }).then(function() {\n      self._triggerMethod('render', args);\n      self._triggerMethod('enter', args);\n    }).fail(function() {\n      self._triggerMethod('error', args);\n    });\n  },\n\n  navigate: function() {\n    bb.history.navigate.apply(bb.history, arguments);\n  },\n\n  fetch  : function() {},\n  render : function() {}\n});\n\nmodule.exports = Route;\nPOS.attach('Route', Route);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvcm91dGUuanM/NmQxMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVILHdCQUF3QjtBQUN4QjtBQUNBLENBQUM7O0FBRUQ7QUFDQSIsInNvdXJjZXNDb250ZW50IjpbInZhciBiYiA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xudmFyIFBPUyA9IHJlcXVpcmUoJ2xpYi91dGlsaXRpZXMvZ2xvYmFsJyk7XG5cbnZhciBSb3V0ZSA9IGJiLk1hcmlvbmV0dGUuT2JqZWN0LmV4dGVuZCh7XG4gIGNvbnN0cnVjdG9yOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfSxcblxuICBfdHJpZ2dlck1ldGhvZDogZnVuY3Rpb24obmFtZSwgYXJncykge1xuICAgIGlmICh0aGlzLnJvdXRlcikge1xuICAgICAgdGhpcy5yb3V0ZXIudHJpZ2dlck1ldGhvZC5hcHBseShcbiAgICAgICAgdGhpcy5yb3V0ZXIsXG4gICAgICAgIFtuYW1lICsgJzpyb3V0ZSddLmNvbmNhdChhcmdzKVxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy50cmlnZ2VyTWV0aG9kLmFwcGx5KHRoaXMsIFtuYW1lXS5jb25jYXQoYXJncykpO1xuICB9LFxuXG4gIGVudGVyOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuX3RyaWdnZXJNZXRob2QoJ2JlZm9yZTplbnRlcicsIGFyZ3MpO1xuICAgIHRoaXMuX3RyaWdnZXJNZXRob2QoJ2JlZm9yZTpmZXRjaCcsIGFyZ3MpO1xuXG4gICAgcmV0dXJuICQud2hlbih0aGlzLmZldGNoLmFwcGx5KHRoaXMsIGFyZ3MpKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5fdHJpZ2dlck1ldGhvZCgnZmV0Y2gnLCBhcmdzKTtcbiAgICAgIHNlbGYuX3RyaWdnZXJNZXRob2QoJ2JlZm9yZTpyZW5kZXInLCBhcmdzKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHNlbGYucmVuZGVyLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLl90cmlnZ2VyTWV0aG9kKCdyZW5kZXInLCBhcmdzKTtcbiAgICAgIHNlbGYuX3RyaWdnZXJNZXRob2QoJ2VudGVyJywgYXJncyk7XG4gICAgfSkuZmFpbChmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuX3RyaWdnZXJNZXRob2QoJ2Vycm9yJywgYXJncyk7XG4gICAgfSk7XG4gIH0sXG5cbiAgbmF2aWdhdGU6IGZ1bmN0aW9uKCkge1xuICAgIGJiLmhpc3RvcnkubmF2aWdhdGUuYXBwbHkoYmIuaGlzdG9yeSwgYXJndW1lbnRzKTtcbiAgfSxcblxuICBmZXRjaCAgOiBmdW5jdGlvbigpIHt9LFxuICByZW5kZXIgOiBmdW5jdGlvbigpIHt9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSb3V0ZTtcblBPUy5hdHRhY2goJ1JvdXRlJywgUm91dGUpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xpYi9jb25maWcvcm91dGUuanNcbiAqKiBtb2R1bGUgaWQgPSA2N1xuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNjcuanMifQ==");

/***/ },
/* 68 */
/*!***********************************!*\
  !*** ./~/lib/utilities/parser.js ***!
  \***********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * TODO: this file is bit of a mess\n * a cleaner solution may be to combine with\n * FilteredCollection and create one class\n */\n\n/* jshint -W109, -W083, -W071, -W074 */\n\nvar _ = __webpack_require__(/*! lodash */ 1);\n\n/**\n * Search Parser\n * Used to extract keywords and facets from the search query.\n * based on https://github.com/documentcloud/visualsearch/\n */\n\nvar QUOTES_RE   = \"('[^']+'|\\\"[^\\\"]+\\\")\";\nvar FREETEXT_RE = \"('[^']+'|\\\"[^\\\"]+\\\"|[^'\\\"\\\\s]\\\\S*)\";\nvar CATEGORY_RE = FREETEXT_RE +                     ':\\\\s*';\nvar FREETEXT_CAT = '';\n\nmodule.exports = {\n  ALL_FIELDS : new RegExp(CATEGORY_RE + FREETEXT_RE, 'g'),\n  CATEGORY   : new RegExp(CATEGORY_RE),\n\n  parse : function(query) {\n    var searchFacets = this._extractAllFacets(query);\n    return searchFacets;\n  },\n\n  // Walks the query and extracts facets, categories, and free text.\n  _extractAllFacets : function(query) {\n    var facets = {};\n    var originalQuery = query;\n    while (query) {\n      var key, value;\n      originalQuery = query;\n      var field = this._extractNextField(query);\n      if (!field) {\n        key   = FREETEXT_CAT;\n        value = this._extractSearchText(query);\n        query = query.replace(value, '').trim();\n      } else if (field.indexOf(':') !== -1) {\n        key   = field.match(this.CATEGORY)[1].replace(/(^['\"]|['\"]$)/g, '');\n        value = field.replace(this.CATEGORY, '').replace(/(^['\"]|['\"]$)/g, '');\n        query = query.replace(field, '').trim();\n      } else if (field.indexOf(':') === -1) {\n        key   = FREETEXT_CAT;\n        value = field;\n        query = query.replace(value, '').trim();\n      }\n\n      if ( value ) {\n        _( value.split('|') ).each(function( value ){\n          var val = value.trim().toLowerCase();\n          if( val ) {\n            if( facets[key] ) {\n              facets[key].push(val);\n            } else {\n              facets[key] = [val];\n            }\n          }\n        });\n      }\n      if (originalQuery === query) {\n        break;\n      }\n    }\n    return facets;\n  },\n\n  // Extracts the first field found, capturing any free text that comes\n  // before the category.\n  _extractNextField : function(query) {\n    var textRe = new RegExp('^\\\\s*(\\\\S+)\\\\s+(?=' +\n    QUOTES_RE + FREETEXT_RE +\n    ')');\n    var textMatch = query.match(textRe);\n    if (textMatch && textMatch.length >= 1) {\n      return textMatch[1];\n    } else {\n      return this._extractFirstField(query);\n    }\n  },\n\n  // If there is no free text before the facet,\n  // extract the category and value.\n  _extractFirstField : function(query) {\n    var fields = query.match(this.ALL_FIELDS);\n    return fields && fields.length && fields[0];\n  },\n\n  // If the found match is not a category and facet,\n  // extract the trimmed free text.\n  _extractSearchText : function(query) {\n    query = query || '';\n    var text = query.replace(this.ALL_FIELDS, '').trim();\n    return text;\n  }\n\n};//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi91dGlsaXRpZXMvcGFyc2VyLmpzPzQ1OGYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVE9ETzogdGhpcyBmaWxlIGlzIGJpdCBvZiBhIG1lc3NcbiAqIGEgY2xlYW5lciBzb2x1dGlvbiBtYXkgYmUgdG8gY29tYmluZSB3aXRoXG4gKiBGaWx0ZXJlZENvbGxlY3Rpb24gYW5kIGNyZWF0ZSBvbmUgY2xhc3NcbiAqL1xuXG4vKiBqc2hpbnQgLVcxMDksIC1XMDgzLCAtVzA3MSwgLVcwNzQgKi9cblxudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxuLyoqXG4gKiBTZWFyY2ggUGFyc2VyXG4gKiBVc2VkIHRvIGV4dHJhY3Qga2V5d29yZHMgYW5kIGZhY2V0cyBmcm9tIHRoZSBzZWFyY2ggcXVlcnkuXG4gKiBiYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vZG9jdW1lbnRjbG91ZC92aXN1YWxzZWFyY2gvXG4gKi9cblxudmFyIFFVT1RFU19SRSAgID0gXCIoJ1teJ10rJ3xcXFwiW15cXFwiXStcXFwiKVwiO1xudmFyIEZSRUVURVhUX1JFID0gXCIoJ1teJ10rJ3xcXFwiW15cXFwiXStcXFwifFteJ1xcXCJcXFxcc11cXFxcUyopXCI7XG52YXIgQ0FURUdPUllfUkUgPSBGUkVFVEVYVF9SRSArICAgICAgICAgICAgICAgICAgICAgJzpcXFxccyonO1xudmFyIEZSRUVURVhUX0NBVCA9ICcnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgQUxMX0ZJRUxEUyA6IG5ldyBSZWdFeHAoQ0FURUdPUllfUkUgKyBGUkVFVEVYVF9SRSwgJ2cnKSxcbiAgQ0FURUdPUlkgICA6IG5ldyBSZWdFeHAoQ0FURUdPUllfUkUpLFxuXG4gIHBhcnNlIDogZnVuY3Rpb24ocXVlcnkpIHtcbiAgICB2YXIgc2VhcmNoRmFjZXRzID0gdGhpcy5fZXh0cmFjdEFsbEZhY2V0cyhxdWVyeSk7XG4gICAgcmV0dXJuIHNlYXJjaEZhY2V0cztcbiAgfSxcblxuICAvLyBXYWxrcyB0aGUgcXVlcnkgYW5kIGV4dHJhY3RzIGZhY2V0cywgY2F0ZWdvcmllcywgYW5kIGZyZWUgdGV4dC5cbiAgX2V4dHJhY3RBbGxGYWNldHMgOiBmdW5jdGlvbihxdWVyeSkge1xuICAgIHZhciBmYWNldHMgPSB7fTtcbiAgICB2YXIgb3JpZ2luYWxRdWVyeSA9IHF1ZXJ5O1xuICAgIHdoaWxlIChxdWVyeSkge1xuICAgICAgdmFyIGtleSwgdmFsdWU7XG4gICAgICBvcmlnaW5hbFF1ZXJ5ID0gcXVlcnk7XG4gICAgICB2YXIgZmllbGQgPSB0aGlzLl9leHRyYWN0TmV4dEZpZWxkKHF1ZXJ5KTtcbiAgICAgIGlmICghZmllbGQpIHtcbiAgICAgICAga2V5ICAgPSBGUkVFVEVYVF9DQVQ7XG4gICAgICAgIHZhbHVlID0gdGhpcy5fZXh0cmFjdFNlYXJjaFRleHQocXVlcnkpO1xuICAgICAgICBxdWVyeSA9IHF1ZXJ5LnJlcGxhY2UodmFsdWUsICcnKS50cmltKCk7XG4gICAgICB9IGVsc2UgaWYgKGZpZWxkLmluZGV4T2YoJzonKSAhPT0gLTEpIHtcbiAgICAgICAga2V5ICAgPSBmaWVsZC5tYXRjaCh0aGlzLkNBVEVHT1JZKVsxXS5yZXBsYWNlKC8oXlsnXCJdfFsnXCJdJCkvZywgJycpO1xuICAgICAgICB2YWx1ZSA9IGZpZWxkLnJlcGxhY2UodGhpcy5DQVRFR09SWSwgJycpLnJlcGxhY2UoLyheWydcIl18WydcIl0kKS9nLCAnJyk7XG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkucmVwbGFjZShmaWVsZCwgJycpLnRyaW0oKTtcbiAgICAgIH0gZWxzZSBpZiAoZmllbGQuaW5kZXhPZignOicpID09PSAtMSkge1xuICAgICAgICBrZXkgICA9IEZSRUVURVhUX0NBVDtcbiAgICAgICAgdmFsdWUgPSBmaWVsZDtcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5yZXBsYWNlKHZhbHVlLCAnJykudHJpbSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIHZhbHVlICkge1xuICAgICAgICBfKCB2YWx1ZS5zcGxpdCgnfCcpICkuZWFjaChmdW5jdGlvbiggdmFsdWUgKXtcbiAgICAgICAgICB2YXIgdmFsID0gdmFsdWUudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgaWYoIHZhbCApIHtcbiAgICAgICAgICAgIGlmKCBmYWNldHNba2V5XSApIHtcbiAgICAgICAgICAgICAgZmFjZXRzW2tleV0ucHVzaCh2YWwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZmFjZXRzW2tleV0gPSBbdmFsXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKG9yaWdpbmFsUXVlcnkgPT09IHF1ZXJ5KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFjZXRzO1xuICB9LFxuXG4gIC8vIEV4dHJhY3RzIHRoZSBmaXJzdCBmaWVsZCBmb3VuZCwgY2FwdHVyaW5nIGFueSBmcmVlIHRleHQgdGhhdCBjb21lc1xuICAvLyBiZWZvcmUgdGhlIGNhdGVnb3J5LlxuICBfZXh0cmFjdE5leHRGaWVsZCA6IGZ1bmN0aW9uKHF1ZXJ5KSB7XG4gICAgdmFyIHRleHRSZSA9IG5ldyBSZWdFeHAoJ15cXFxccyooXFxcXFMrKVxcXFxzKyg/PScgK1xuICAgIFFVT1RFU19SRSArIEZSRUVURVhUX1JFICtcbiAgICAnKScpO1xuICAgIHZhciB0ZXh0TWF0Y2ggPSBxdWVyeS5tYXRjaCh0ZXh0UmUpO1xuICAgIGlmICh0ZXh0TWF0Y2ggJiYgdGV4dE1hdGNoLmxlbmd0aCA+PSAxKSB7XG4gICAgICByZXR1cm4gdGV4dE1hdGNoWzFdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fZXh0cmFjdEZpcnN0RmllbGQocXVlcnkpO1xuICAgIH1cbiAgfSxcblxuICAvLyBJZiB0aGVyZSBpcyBubyBmcmVlIHRleHQgYmVmb3JlIHRoZSBmYWNldCxcbiAgLy8gZXh0cmFjdCB0aGUgY2F0ZWdvcnkgYW5kIHZhbHVlLlxuICBfZXh0cmFjdEZpcnN0RmllbGQgOiBmdW5jdGlvbihxdWVyeSkge1xuICAgIHZhciBmaWVsZHMgPSBxdWVyeS5tYXRjaCh0aGlzLkFMTF9GSUVMRFMpO1xuICAgIHJldHVybiBmaWVsZHMgJiYgZmllbGRzLmxlbmd0aCAmJiBmaWVsZHNbMF07XG4gIH0sXG5cbiAgLy8gSWYgdGhlIGZvdW5kIG1hdGNoIGlzIG5vdCBhIGNhdGVnb3J5IGFuZCBmYWNldCxcbiAgLy8gZXh0cmFjdCB0aGUgdHJpbW1lZCBmcmVlIHRleHQuXG4gIF9leHRyYWN0U2VhcmNoVGV4dCA6IGZ1bmN0aW9uKHF1ZXJ5KSB7XG4gICAgcXVlcnkgPSBxdWVyeSB8fCAnJztcbiAgICB2YXIgdGV4dCA9IHF1ZXJ5LnJlcGxhY2UodGhpcy5BTExfRklFTERTLCAnJykudHJpbSgpO1xuICAgIHJldHVybiB0ZXh0O1xuICB9XG5cbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbGliL3V0aWxpdGllcy9wYXJzZXIuanNcbiAqKiBtb2R1bGUgaWQgPSA2OFxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNjguanMifQ==");

/***/ },
/* 69 */,
/* 70 */
/*!**************************************!*\
  !*** ./~/apps/pos/products/views.js ***!
  \**************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Views = {};\nvar LayoutView = __webpack_require__(/*! lib/config/layout-view */ 49);\nvar ItemView = __webpack_require__(/*! lib/config/item-view */ 50);\nvar CollectionView = __webpack_require__(/*! lib/config/collection-view */ 78);\nvar Filter = __webpack_require__(/*! lib/components/filter/behavior */ 79);\nvar hbs = __webpack_require__(/*! handlebars */ 27);\nvar $ = __webpack_require__(/*! jquery */ 3);\n\n/**\n * Products module layout\n */\nViews.Layout = LayoutView.extend({\n  template: hbs.compile('' +\n    '<div class=\"list-actions\"></div>' +\n    '<div class=\"list-tabs tabs infinite-tabs\"></div>' +\n    '<div class=\"list\"></div>' +\n    '<div class=\"list-footer\"></div>'\n  ),\n  tagName: 'section',\n  regions: {\n    actionsRegion   : '.list-actions',\n    tabsRegion      : '.list-tabs',\n    listRegion      : '.list'\n  },\n  attributes: {\n    'class'         : 'module products-module'\n  }\n});\n\n/**\n * Filter\n */\nViews.Actions = ItemView.extend({\n  initialize: function(){\n    this.template = hbs.compile( $('#tmpl-products-filter').html() );\n  },\n  behaviors: {\n    Filter: {\n      behaviorClass: Filter\n    }\n  }\n});\n\n/**\n * Single Product\n */\nViews.Item = ItemView.extend({\n  tagName: 'li',\n  initialize: function(){\n    this.template = hbs.compile( $('#tmpl-product').html() );\n  },\n  className: function(){\n    if( this.model.get('type') === 'variable' ) {\n      return 'variable';\n    }\n  },\n\n  ui: {\n    add: '.action-add',\n    variations: '.action-variations'\n  },\n\n  triggers: {\n    'click @ui.add'         : 'cart:add:clicked',\n    'click @ui.variations'  : 'product:variations:clicked'\n  }\n\n});\n\n/**\n * Product Collection\n */\nViews.Empty = ItemView.extend({\n  tagName: 'li',\n  className: 'empty',\n  template: '#tmpl-products-empty'\n});\n\nViews.List = CollectionView.extend({\n  tagName: 'ul',\n  className: 'striped',\n  childView: Views.Item,\n  emptyView: Views.Empty,\n\n  initialize: function() {\n    this.collection.bind('request', this.ajaxStart, this);\n    this.collection.bind('sync', this.ajaxComplete, this);\n  },\n\n  ajaxStart: function() {\n    this.$el.css({ 'opacity': 0.5 });\n  },\n\n  ajaxComplete: function() {\n    this.$el.removeAttr('style');\n  }\n\n});\n\n/**\n * export Product views\n */\nmodule.exports = Views;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL3Byb2R1Y3RzL3ZpZXdzLmpzPzU0ZWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLGtCQUFrQixpQkFBaUI7QUFDbkMsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXNDb250ZW50IjpbInZhciBWaWV3cyA9IHt9O1xudmFyIExheW91dFZpZXcgPSByZXF1aXJlKCdsaWIvY29uZmlnL2xheW91dC12aWV3Jyk7XG52YXIgSXRlbVZpZXcgPSByZXF1aXJlKCdsaWIvY29uZmlnL2l0ZW0tdmlldycpO1xudmFyIENvbGxlY3Rpb25WaWV3ID0gcmVxdWlyZSgnbGliL2NvbmZpZy9jb2xsZWN0aW9uLXZpZXcnKTtcbnZhciBGaWx0ZXIgPSByZXF1aXJlKCdsaWIvY29tcG9uZW50cy9maWx0ZXIvYmVoYXZpb3InKTtcbnZhciBoYnMgPSByZXF1aXJlKCdoYW5kbGViYXJzJyk7XG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuXG4vKipcbiAqIFByb2R1Y3RzIG1vZHVsZSBsYXlvdXRcbiAqL1xuVmlld3MuTGF5b3V0ID0gTGF5b3V0Vmlldy5leHRlbmQoe1xuICB0ZW1wbGF0ZTogaGJzLmNvbXBpbGUoJycgK1xuICAgICc8ZGl2IGNsYXNzPVwibGlzdC1hY3Rpb25zXCI+PC9kaXY+JyArXG4gICAgJzxkaXYgY2xhc3M9XCJsaXN0LXRhYnMgdGFicyBpbmZpbml0ZS10YWJzXCI+PC9kaXY+JyArXG4gICAgJzxkaXYgY2xhc3M9XCJsaXN0XCI+PC9kaXY+JyArXG4gICAgJzxkaXYgY2xhc3M9XCJsaXN0LWZvb3RlclwiPjwvZGl2PidcbiAgKSxcbiAgdGFnTmFtZTogJ3NlY3Rpb24nLFxuICByZWdpb25zOiB7XG4gICAgYWN0aW9uc1JlZ2lvbiAgIDogJy5saXN0LWFjdGlvbnMnLFxuICAgIHRhYnNSZWdpb24gICAgICA6ICcubGlzdC10YWJzJyxcbiAgICBsaXN0UmVnaW9uICAgICAgOiAnLmxpc3QnXG4gIH0sXG4gIGF0dHJpYnV0ZXM6IHtcbiAgICAnY2xhc3MnICAgICAgICAgOiAnbW9kdWxlIHByb2R1Y3RzLW1vZHVsZSdcbiAgfVxufSk7XG5cbi8qKlxuICogRmlsdGVyXG4gKi9cblZpZXdzLkFjdGlvbnMgPSBJdGVtVmlldy5leHRlbmQoe1xuICBpbml0aWFsaXplOiBmdW5jdGlvbigpe1xuICAgIHRoaXMudGVtcGxhdGUgPSBoYnMuY29tcGlsZSggJCgnI3RtcGwtcHJvZHVjdHMtZmlsdGVyJykuaHRtbCgpICk7XG4gIH0sXG4gIGJlaGF2aW9yczoge1xuICAgIEZpbHRlcjoge1xuICAgICAgYmVoYXZpb3JDbGFzczogRmlsdGVyXG4gICAgfVxuICB9XG59KTtcblxuLyoqXG4gKiBTaW5nbGUgUHJvZHVjdFxuICovXG5WaWV3cy5JdGVtID0gSXRlbVZpZXcuZXh0ZW5kKHtcbiAgdGFnTmFtZTogJ2xpJyxcbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKXtcbiAgICB0aGlzLnRlbXBsYXRlID0gaGJzLmNvbXBpbGUoICQoJyN0bXBsLXByb2R1Y3QnKS5odG1sKCkgKTtcbiAgfSxcbiAgY2xhc3NOYW1lOiBmdW5jdGlvbigpe1xuICAgIGlmKCB0aGlzLm1vZGVsLmdldCgndHlwZScpID09PSAndmFyaWFibGUnICkge1xuICAgICAgcmV0dXJuICd2YXJpYWJsZSc7XG4gICAgfVxuICB9LFxuXG4gIHVpOiB7XG4gICAgYWRkOiAnLmFjdGlvbi1hZGQnLFxuICAgIHZhcmlhdGlvbnM6ICcuYWN0aW9uLXZhcmlhdGlvbnMnXG4gIH0sXG5cbiAgdHJpZ2dlcnM6IHtcbiAgICAnY2xpY2sgQHVpLmFkZCcgICAgICAgICA6ICdjYXJ0OmFkZDpjbGlja2VkJyxcbiAgICAnY2xpY2sgQHVpLnZhcmlhdGlvbnMnICA6ICdwcm9kdWN0OnZhcmlhdGlvbnM6Y2xpY2tlZCdcbiAgfVxuXG59KTtcblxuLyoqXG4gKiBQcm9kdWN0IENvbGxlY3Rpb25cbiAqL1xuVmlld3MuRW1wdHkgPSBJdGVtVmlldy5leHRlbmQoe1xuICB0YWdOYW1lOiAnbGknLFxuICBjbGFzc05hbWU6ICdlbXB0eScsXG4gIHRlbXBsYXRlOiAnI3RtcGwtcHJvZHVjdHMtZW1wdHknXG59KTtcblxuVmlld3MuTGlzdCA9IENvbGxlY3Rpb25WaWV3LmV4dGVuZCh7XG4gIHRhZ05hbWU6ICd1bCcsXG4gIGNsYXNzTmFtZTogJ3N0cmlwZWQnLFxuICBjaGlsZFZpZXc6IFZpZXdzLkl0ZW0sXG4gIGVtcHR5VmlldzogVmlld3MuRW1wdHksXG5cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5jb2xsZWN0aW9uLmJpbmQoJ3JlcXVlc3QnLCB0aGlzLmFqYXhTdGFydCwgdGhpcyk7XG4gICAgdGhpcy5jb2xsZWN0aW9uLmJpbmQoJ3N5bmMnLCB0aGlzLmFqYXhDb21wbGV0ZSwgdGhpcyk7XG4gIH0sXG5cbiAgYWpheFN0YXJ0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRlbC5jc3MoeyAnb3BhY2l0eSc6IDAuNSB9KTtcbiAgfSxcblxuICBhamF4Q29tcGxldGU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJGVsLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG4gIH1cblxufSk7XG5cbi8qKlxuICogZXhwb3J0IFByb2R1Y3Qgdmlld3NcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBWaWV3cztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hcHBzL3Bvcy9wcm9kdWN0cy92aWV3cy5qc1xuICoqIG1vZHVsZSBpZCA9IDcwXG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI3MC5qcyJ9");

/***/ },
/* 71 */
/*!***************************************!*\
  !*** ./~/lib/components/tabs/view.js ***!
  \***************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var ItemView = __webpack_require__(/*! lib/config/item-view */ 50);\nvar CollectionView = __webpack_require__(/*! lib/config/collection-view */ 78);\nvar Handlebars = __webpack_require__(/*! handlebars */ 27);\nvar Collection = __webpack_require__(/*! ./entities */ 80);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 9);\n\nvar Tab = ItemView.extend({\n  tagName: 'li',\n\n  initialize: function () {\n    this.template = Handlebars.compile('' +\n      '{{#unless fixed}}' +\n      '<a href=\"#\">' +\n        '<i class=\"icon icon-times-circle action-remove\"></i>' +\n      '</a>' +\n      '{{/unless}}' +\n      '{{{ label }}}'\n    );\n  },\n\n  className: function () {\n    if (this.model.get('active')) {\n      return 'active';\n    }\n  },\n\n  triggers: {\n    'click': 'tab:clicked',\n    'click .action-remove': 'tab:removed'\n  },\n\n  onTabClicked: function () {\n    if (!this.model.get('active')) {\n      this.model.set({active: true});\n    }\n  }\n\n});\n\nvar Tabs = CollectionView.extend({\n  tagName: 'ul',\n  childView: Tab,\n  // className: 'nav nav-tabs',\n  attributes: {\n    'role' : 'tablist'\n  },\n\n  collectionEvents: {\n    'change:active change:label' : 'render'\n  },\n\n  initialize: function(options) {\n    this.collection = new Collection( options.collection );\n\n    this.on( 'childview:tab:removed', function( childview, args ) {\n      this.collection.remove( args.model );\n    });\n  }\n\n});\n\nmodule.exports = Tabs;\nPOS.attach('Components.Tabs.View', Tabs);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb21wb25lbnRzL3RhYnMvdmlldy5qcz84YmI1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUyxlQUFlO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLFNBQVMsU0FBUztBQUNsQixVQUFVLFVBQVU7QUFDcEI7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxzQkFBc0IsYUFBYTtBQUNuQztBQUNBOztBQUVBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUEsQ0FBQzs7QUFFRDtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEl0ZW1WaWV3ID0gcmVxdWlyZSgnbGliL2NvbmZpZy9pdGVtLXZpZXcnKTtcbnZhciBDb2xsZWN0aW9uVmlldyA9IHJlcXVpcmUoJ2xpYi9jb25maWcvY29sbGVjdGlvbi12aWV3Jyk7XG52YXIgSGFuZGxlYmFycyA9IHJlcXVpcmUoJ2hhbmRsZWJhcnMnKTtcbnZhciBDb2xsZWN0aW9uID0gcmVxdWlyZSgnLi9lbnRpdGllcycpO1xudmFyIFBPUyA9IHJlcXVpcmUoJ2xpYi91dGlsaXRpZXMvZ2xvYmFsJyk7XG5cbnZhciBUYWIgPSBJdGVtVmlldy5leHRlbmQoe1xuICB0YWdOYW1lOiAnbGknLFxuXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKCcnICtcbiAgICAgICd7eyN1bmxlc3MgZml4ZWR9fScgK1xuICAgICAgJzxhIGhyZWY9XCIjXCI+JyArXG4gICAgICAgICc8aSBjbGFzcz1cImljb24gaWNvbi10aW1lcy1jaXJjbGUgYWN0aW9uLXJlbW92ZVwiPjwvaT4nICtcbiAgICAgICc8L2E+JyArXG4gICAgICAne3svdW5sZXNzfX0nICtcbiAgICAgICd7e3sgbGFiZWwgfX19J1xuICAgICk7XG4gIH0sXG5cbiAgY2xhc3NOYW1lOiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMubW9kZWwuZ2V0KCdhY3RpdmUnKSkge1xuICAgICAgcmV0dXJuICdhY3RpdmUnO1xuICAgIH1cbiAgfSxcblxuICB0cmlnZ2Vyczoge1xuICAgICdjbGljayc6ICd0YWI6Y2xpY2tlZCcsXG4gICAgJ2NsaWNrIC5hY3Rpb24tcmVtb3ZlJzogJ3RhYjpyZW1vdmVkJ1xuICB9LFxuXG4gIG9uVGFiQ2xpY2tlZDogZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5tb2RlbC5nZXQoJ2FjdGl2ZScpKSB7XG4gICAgICB0aGlzLm1vZGVsLnNldCh7YWN0aXZlOiB0cnVlfSk7XG4gICAgfVxuICB9XG5cbn0pO1xuXG52YXIgVGFicyA9IENvbGxlY3Rpb25WaWV3LmV4dGVuZCh7XG4gIHRhZ05hbWU6ICd1bCcsXG4gIGNoaWxkVmlldzogVGFiLFxuICAvLyBjbGFzc05hbWU6ICduYXYgbmF2LXRhYnMnLFxuICBhdHRyaWJ1dGVzOiB7XG4gICAgJ3JvbGUnIDogJ3RhYmxpc3QnXG4gIH0sXG5cbiAgY29sbGVjdGlvbkV2ZW50czoge1xuICAgICdjaGFuZ2U6YWN0aXZlIGNoYW5nZTpsYWJlbCcgOiAncmVuZGVyJ1xuICB9LFxuXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB0aGlzLmNvbGxlY3Rpb24gPSBuZXcgQ29sbGVjdGlvbiggb3B0aW9ucy5jb2xsZWN0aW9uICk7XG5cbiAgICB0aGlzLm9uKCAnY2hpbGR2aWV3OnRhYjpyZW1vdmVkJywgZnVuY3Rpb24oIGNoaWxkdmlldywgYXJncyApIHtcbiAgICAgIHRoaXMuY29sbGVjdGlvbi5yZW1vdmUoIGFyZ3MubW9kZWwgKTtcbiAgICB9KTtcbiAgfVxuXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBUYWJzO1xuUE9TLmF0dGFjaCgnQ29tcG9uZW50cy5UYWJzLlZpZXcnLCBUYWJzKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9saWIvY29tcG9uZW50cy90YWJzL3ZpZXcuanNcbiAqKiBtb2R1bGUgaWQgPSA3MVxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNzEuanMifQ==");

/***/ },
/* 72 */
/*!*****************************************!*\
  !*** ./~/apps/pos/cart/views/layout.js ***!
  \*****************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var LayoutView = __webpack_require__(/*! lib/config/layout-view */ 49);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar $ = __webpack_require__(/*! jquery */ 3);\n\nmodule.exports = LayoutView.extend({\n  initialize: function(){\n    this.template = _.template( $('#tmpl-cart').html() );\n  },\n  tagName: 'section',\n  regions: {\n    listRegion      : '.list',\n    totalsRegion    : '.list-totals',\n    customerRegion  : '.cart-customer',\n    actionsRegion   : '.cart-actions',\n    notesRegion     : '.cart-notes',\n    footerRegion    : '.list-footer'\n  },\n  attributes: {\n    'class'         : 'module cart-module'\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL2NhcnQvdmlld3MvbGF5b3V0LmpzP2VmNjYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTGF5b3V0VmlldyA9IHJlcXVpcmUoJ2xpYi9jb25maWcvbGF5b3V0LXZpZXcnKTtcbnZhciBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IExheW91dFZpZXcuZXh0ZW5kKHtcbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKXtcbiAgICB0aGlzLnRlbXBsYXRlID0gXy50ZW1wbGF0ZSggJCgnI3RtcGwtY2FydCcpLmh0bWwoKSApO1xuICB9LFxuICB0YWdOYW1lOiAnc2VjdGlvbicsXG4gIHJlZ2lvbnM6IHtcbiAgICBsaXN0UmVnaW9uICAgICAgOiAnLmxpc3QnLFxuICAgIHRvdGFsc1JlZ2lvbiAgICA6ICcubGlzdC10b3RhbHMnLFxuICAgIGN1c3RvbWVyUmVnaW9uICA6ICcuY2FydC1jdXN0b21lcicsXG4gICAgYWN0aW9uc1JlZ2lvbiAgIDogJy5jYXJ0LWFjdGlvbnMnLFxuICAgIG5vdGVzUmVnaW9uICAgICA6ICcuY2FydC1ub3RlcycsXG4gICAgZm9vdGVyUmVnaW9uICAgIDogJy5saXN0LWZvb3RlcidcbiAgfSxcbiAgYXR0cmlidXRlczoge1xuICAgICdjbGFzcycgICAgICAgICA6ICdtb2R1bGUgY2FydC1tb2R1bGUnXG4gIH1cbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FwcHMvcG9zL2NhcnQvdmlld3MvbGF5b3V0LmpzXG4gKiogbW9kdWxlIGlkID0gNzJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjcyLmpzIn0=");

/***/ },
/* 73 */
/*!****************************************!*\
  !*** ./~/apps/pos/cart/views/items.js ***!
  \****************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var ItemView = __webpack_require__(/*! lib/config/item-view */ 50);\nvar CollectionView = __webpack_require__(/*! lib/config/collection-view */ 78);\n\nvar emptyView = ItemView.extend({\n  tagName: 'li',\n  className: 'empty',\n  template: '#tmpl-cart-empty'\n});\n\nmodule.exports = CollectionView.extend({\n  tagName: 'ul',\n  childView: __webpack_require__(/*! ./line/layout */ 81),\n  emptyView: emptyView\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL2NhcnQvdmlld3MvaXRlbXMuanM/M2ViOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgSXRlbVZpZXcgPSByZXF1aXJlKCdsaWIvY29uZmlnL2l0ZW0tdmlldycpO1xudmFyIENvbGxlY3Rpb25WaWV3ID0gcmVxdWlyZSgnbGliL2NvbmZpZy9jb2xsZWN0aW9uLXZpZXcnKTtcblxudmFyIGVtcHR5VmlldyA9IEl0ZW1WaWV3LmV4dGVuZCh7XG4gIHRhZ05hbWU6ICdsaScsXG4gIGNsYXNzTmFtZTogJ2VtcHR5JyxcbiAgdGVtcGxhdGU6ICcjdG1wbC1jYXJ0LWVtcHR5J1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQ29sbGVjdGlvblZpZXcuZXh0ZW5kKHtcbiAgdGFnTmFtZTogJ3VsJyxcbiAgY2hpbGRWaWV3OiByZXF1aXJlKCcuL2xpbmUvbGF5b3V0JyksXG4gIGVtcHR5VmlldzogZW1wdHlWaWV3XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hcHBzL3Bvcy9jYXJ0L3ZpZXdzL2l0ZW1zLmpzXG4gKiogbW9kdWxlIGlkID0gNzNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjczLmpzIn0=");

/***/ },
/* 74 */
/*!*****************************************!*\
  !*** ./~/apps/pos/cart/views/totals.js ***!
  \*****************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var ItemView = __webpack_require__(/*! lib/config/item-view */ 50);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar hbs = __webpack_require__(/*! handlebars */ 27);\nvar AutoGrow = __webpack_require__(/*! lib/components/autogrow/behavior */ 82);\nvar Numpad = __webpack_require__(/*! lib/components/numpad/behavior */ 83);\nvar entitiesChannel = bb.Radio.channel('entities');\nvar Utils = __webpack_require__(/*! lib/utilities/utils */ 32);\n\nmodule.exports = ItemView.extend({\n  tagName: 'ul',\n\n  initialize: function() {\n    this.template = hbs.compile( $('#tmpl-cart-totals').html() );\n  },\n\n  behaviors: {\n    AutoGrow: {\n      behaviorClass: AutoGrow\n    },\n    Numpad: {\n      behaviorClass: Numpad\n    }\n  },\n\n  modelEvents: {\n    'change': 'render'\n  },\n\n  ui: {\n    discount: '.order-discount'\n  },\n\n  events: {\n    'click @ui.discount .total'   : 'edit',\n    'keypress @ui.discount input'   : 'saveOnEnter',\n    'blur @ui.discount input'     : 'onBlur'\n  },\n\n  /**\n   * todo: add a helper function for simple math\n   */\n  templateHelpers: function(){\n    var data = {};\n    var tax = entitiesChannel.request('get:options', 'tax');\n    if( tax.tax_display_cart === 'incl' ) {\n\n      data.subtotal = this.model.sum(['subtotal', 'subtotal_tax']);\n\n      data.cart_discount =\n          this.model.get('subtotal') + this.model.get('total');\n\n      data.incl_tax = true;\n    }\n\n    // original total for calculating percentage discount\n    data.original = this.model.sum(['total', 'order_discount']);\nconsole.log(data);\n    return data;\n  },\n\n  edit: function(e) {\n    $(e.currentTarget).addClass('editing')\n        .children('input')\n        .trigger('show:numpad');\n  },\n\n  save: function(e) {\n    var input   = $(e.target),\n      value   = input.val();\n\n    // check for sensible input\n    if( _.isNaN( parseFloat( value ) ) ) {\n      input.select();\n      return;\n    }\n\n    // always store numbers as float\n    if( value ){\n      value = Utils.unformat( value );\n      value = parseFloat( value );\n    }\n\n    // save\n    this.model.save({ order_discount: value });\n\n  },\n\n  saveOnEnter: function(e) {\n    if (e.which === 13) {\n      this.save(e);\n      this.model.trigger('change');\n    }\n  },\n\n  showDiscountRow: function() {\n    this.$('.order-discount')\n        .show()\n        .children('.total')\n        .trigger('click');\n  },\n\n  onBlur: function(e) {\n    if( $(e.target).attr('aria-describedby') === undefined ) {\n      this.save(e);\n      this.model.trigger('change');\n    }\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL2NhcnQvdmlld3MvdG90YWxzLmpzPzU5MDkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUIsd0JBQXdCOztBQUU3QyxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEl0ZW1WaWV3ID0gcmVxdWlyZSgnbGliL2NvbmZpZy9pdGVtLXZpZXcnKTtcbnZhciBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xudmFyIGJiID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBoYnMgPSByZXF1aXJlKCdoYW5kbGViYXJzJyk7XG52YXIgQXV0b0dyb3cgPSByZXF1aXJlKCdsaWIvY29tcG9uZW50cy9hdXRvZ3Jvdy9iZWhhdmlvcicpO1xudmFyIE51bXBhZCA9IHJlcXVpcmUoJ2xpYi9jb21wb25lbnRzL251bXBhZC9iZWhhdmlvcicpO1xudmFyIGVudGl0aWVzQ2hhbm5lbCA9IGJiLlJhZGlvLmNoYW5uZWwoJ2VudGl0aWVzJyk7XG52YXIgVXRpbHMgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gSXRlbVZpZXcuZXh0ZW5kKHtcbiAgdGFnTmFtZTogJ3VsJyxcblxuICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnRlbXBsYXRlID0gaGJzLmNvbXBpbGUoICQoJyN0bXBsLWNhcnQtdG90YWxzJykuaHRtbCgpICk7XG4gIH0sXG5cbiAgYmVoYXZpb3JzOiB7XG4gICAgQXV0b0dyb3c6IHtcbiAgICAgIGJlaGF2aW9yQ2xhc3M6IEF1dG9Hcm93XG4gICAgfSxcbiAgICBOdW1wYWQ6IHtcbiAgICAgIGJlaGF2aW9yQ2xhc3M6IE51bXBhZFxuICAgIH1cbiAgfSxcblxuICBtb2RlbEV2ZW50czoge1xuICAgICdjaGFuZ2UnOiAncmVuZGVyJ1xuICB9LFxuXG4gIHVpOiB7XG4gICAgZGlzY291bnQ6ICcub3JkZXItZGlzY291bnQnXG4gIH0sXG5cbiAgZXZlbnRzOiB7XG4gICAgJ2NsaWNrIEB1aS5kaXNjb3VudCAudG90YWwnICAgOiAnZWRpdCcsXG4gICAgJ2tleXByZXNzIEB1aS5kaXNjb3VudCBpbnB1dCcgICA6ICdzYXZlT25FbnRlcicsXG4gICAgJ2JsdXIgQHVpLmRpc2NvdW50IGlucHV0JyAgICAgOiAnb25CbHVyJ1xuICB9LFxuXG4gIC8qKlxuICAgKiB0b2RvOiBhZGQgYSBoZWxwZXIgZnVuY3Rpb24gZm9yIHNpbXBsZSBtYXRoXG4gICAqL1xuICB0ZW1wbGF0ZUhlbHBlcnM6IGZ1bmN0aW9uKCl7XG4gICAgdmFyIGRhdGEgPSB7fTtcbiAgICB2YXIgdGF4ID0gZW50aXRpZXNDaGFubmVsLnJlcXVlc3QoJ2dldDpvcHRpb25zJywgJ3RheCcpO1xuICAgIGlmKCB0YXgudGF4X2Rpc3BsYXlfY2FydCA9PT0gJ2luY2wnICkge1xuXG4gICAgICBkYXRhLnN1YnRvdGFsID0gdGhpcy5tb2RlbC5zdW0oWydzdWJ0b3RhbCcsICdzdWJ0b3RhbF90YXgnXSk7XG5cbiAgICAgIGRhdGEuY2FydF9kaXNjb3VudCA9XG4gICAgICAgICAgdGhpcy5tb2RlbC5nZXQoJ3N1YnRvdGFsJykgKyB0aGlzLm1vZGVsLmdldCgndG90YWwnKTtcblxuICAgICAgZGF0YS5pbmNsX3RheCA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gb3JpZ2luYWwgdG90YWwgZm9yIGNhbGN1bGF0aW5nIHBlcmNlbnRhZ2UgZGlzY291bnRcbiAgICBkYXRhLm9yaWdpbmFsID0gdGhpcy5tb2RlbC5zdW0oWyd0b3RhbCcsICdvcmRlcl9kaXNjb3VudCddKTtcbmNvbnNvbGUubG9nKGRhdGEpO1xuICAgIHJldHVybiBkYXRhO1xuICB9LFxuXG4gIGVkaXQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAkKGUuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoJ2VkaXRpbmcnKVxuICAgICAgICAuY2hpbGRyZW4oJ2lucHV0JylcbiAgICAgICAgLnRyaWdnZXIoJ3Nob3c6bnVtcGFkJyk7XG4gIH0sXG5cbiAgc2F2ZTogZnVuY3Rpb24oZSkge1xuICAgIHZhciBpbnB1dCAgID0gJChlLnRhcmdldCksXG4gICAgICB2YWx1ZSAgID0gaW5wdXQudmFsKCk7XG5cbiAgICAvLyBjaGVjayBmb3Igc2Vuc2libGUgaW5wdXRcbiAgICBpZiggXy5pc05hTiggcGFyc2VGbG9hdCggdmFsdWUgKSApICkge1xuICAgICAgaW5wdXQuc2VsZWN0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gYWx3YXlzIHN0b3JlIG51bWJlcnMgYXMgZmxvYXRcbiAgICBpZiggdmFsdWUgKXtcbiAgICAgIHZhbHVlID0gVXRpbHMudW5mb3JtYXQoIHZhbHVlICk7XG4gICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQoIHZhbHVlICk7XG4gICAgfVxuXG4gICAgLy8gc2F2ZVxuICAgIHRoaXMubW9kZWwuc2F2ZSh7IG9yZGVyX2Rpc2NvdW50OiB2YWx1ZSB9KTtcblxuICB9LFxuXG4gIHNhdmVPbkVudGVyOiBmdW5jdGlvbihlKSB7XG4gICAgaWYgKGUud2hpY2ggPT09IDEzKSB7XG4gICAgICB0aGlzLnNhdmUoZSk7XG4gICAgICB0aGlzLm1vZGVsLnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgIH1cbiAgfSxcblxuICBzaG93RGlzY291bnRSb3c6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJCgnLm9yZGVyLWRpc2NvdW50JylcbiAgICAgICAgLnNob3coKVxuICAgICAgICAuY2hpbGRyZW4oJy50b3RhbCcpXG4gICAgICAgIC50cmlnZ2VyKCdjbGljaycpO1xuICB9LFxuXG4gIG9uQmx1cjogZnVuY3Rpb24oZSkge1xuICAgIGlmKCAkKGUudGFyZ2V0KS5hdHRyKCdhcmlhLWRlc2NyaWJlZGJ5JykgPT09IHVuZGVmaW5lZCApIHtcbiAgICAgIHRoaXMuc2F2ZShlKTtcbiAgICAgIHRoaXMubW9kZWwudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgfVxuICB9XG5cbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FwcHMvcG9zL2NhcnQvdmlld3MvdG90YWxzLmpzXG4gKiogbW9kdWxlIGlkID0gNzRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6Ijc0LmpzIn0=");

/***/ },
/* 75 */
/*!******************************************!*\
  !*** ./~/apps/pos/cart/views/actions.js ***!
  \******************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var ItemView = __webpack_require__(/*! lib/config/item-view */ 50);\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar hbs = __webpack_require__(/*! handlebars */ 27);\n\nmodule.exports = ItemView.extend({\n  initialize: function(){\n    this.template = hbs.compile( $('#tmpl-cart-actions').html() );\n  },\n  triggers: {\n    'click .action-void'  : 'void:clicked',\n    'click .action-note'  : 'note:clicked',\n    'click .action-discount': 'discount:clicked',\n    'click .action-fee'     : 'fee:clicked',\n    'click .action-shipping': 'shipping:clicked',\n    'click .action-checkout': 'checkout:clicked'\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL2NhcnQvdmlld3MvYWN0aW9ucy5qcz8wYjhhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEl0ZW1WaWV3ID0gcmVxdWlyZSgnbGliL2NvbmZpZy9pdGVtLXZpZXcnKTtcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG52YXIgaGJzID0gcmVxdWlyZSgnaGFuZGxlYmFycycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEl0ZW1WaWV3LmV4dGVuZCh7XG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy50ZW1wbGF0ZSA9IGhicy5jb21waWxlKCAkKCcjdG1wbC1jYXJ0LWFjdGlvbnMnKS5odG1sKCkgKTtcbiAgfSxcbiAgdHJpZ2dlcnM6IHtcbiAgICAnY2xpY2sgLmFjdGlvbi12b2lkJyAgOiAndm9pZDpjbGlja2VkJyxcbiAgICAnY2xpY2sgLmFjdGlvbi1ub3RlJyAgOiAnbm90ZTpjbGlja2VkJyxcbiAgICAnY2xpY2sgLmFjdGlvbi1kaXNjb3VudCc6ICdkaXNjb3VudDpjbGlja2VkJyxcbiAgICAnY2xpY2sgLmFjdGlvbi1mZWUnICAgICA6ICdmZWU6Y2xpY2tlZCcsXG4gICAgJ2NsaWNrIC5hY3Rpb24tc2hpcHBpbmcnOiAnc2hpcHBpbmc6Y2xpY2tlZCcsXG4gICAgJ2NsaWNrIC5hY3Rpb24tY2hlY2tvdXQnOiAnY2hlY2tvdXQ6Y2xpY2tlZCdcbiAgfVxuXG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hcHBzL3Bvcy9jYXJ0L3ZpZXdzL2FjdGlvbnMuanNcbiAqKiBtb2R1bGUgaWQgPSA3NVxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNzUuanMifQ==");

/***/ },
/* 76 */
/*!****************************************!*\
  !*** ./~/apps/pos/cart/views/notes.js ***!
  \****************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var ItemView = __webpack_require__(/*! lib/config/item-view */ 50);\nvar _ = __webpack_require__(/*! lodash */ 1);\n\nmodule.exports = ItemView.extend({\n  template: _.template( '<%= note %>' ),\n\n  modelEvents: {\n    'change:note': 'render'\n  },\n\n  events: {\n    'click'   : 'edit',\n    'keypress'  : 'saveOnEnter',\n    'blur'    : 'save'\n  },\n\n  onShow: function() {\n    this.showOrHide();\n  },\n\n  showOrHide: function() {\n    if( this.model.get('note') === '' ) {\n      this.$el.parent('.cart-notes').hide();\n    }\n  },\n\n  edit: function() {\n    this.$el.attr('contenteditable','true').focus();\n  },\n\n  save: function() {\n    var value = this.$el.text();\n\n    // validate and save\n    this.model.save({ note: value });\n    this.$el.attr('contenteditable','false');\n    this.showOrHide();\n  },\n\n  saveOnEnter: function(e) {\n    // save note on enter\n    if (e.which === 13) {\n      e.preventDefault();\n      this.$el.blur();\n    }\n  },\n\n  showNoteField: function() {\n    console.log('show note');\n    this.$el.parent('.cart-notes').show();\n    this.$el.attr('contenteditable','true').focus();\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL2NhcnQvdmlld3Mvbm90ZXMuanM/Yjc5OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0EscUJBQXFCLGNBQWM7QUFDbkM7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBJdGVtVmlldyA9IHJlcXVpcmUoJ2xpYi9jb25maWcvaXRlbS12aWV3Jyk7XG52YXIgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEl0ZW1WaWV3LmV4dGVuZCh7XG4gIHRlbXBsYXRlOiBfLnRlbXBsYXRlKCAnPCU9IG5vdGUgJT4nICksXG5cbiAgbW9kZWxFdmVudHM6IHtcbiAgICAnY2hhbmdlOm5vdGUnOiAncmVuZGVyJ1xuICB9LFxuXG4gIGV2ZW50czoge1xuICAgICdjbGljaycgICA6ICdlZGl0JyxcbiAgICAna2V5cHJlc3MnICA6ICdzYXZlT25FbnRlcicsXG4gICAgJ2JsdXInICAgIDogJ3NhdmUnXG4gIH0sXG5cbiAgb25TaG93OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnNob3dPckhpZGUoKTtcbiAgfSxcblxuICBzaG93T3JIaWRlOiBmdW5jdGlvbigpIHtcbiAgICBpZiggdGhpcy5tb2RlbC5nZXQoJ25vdGUnKSA9PT0gJycgKSB7XG4gICAgICB0aGlzLiRlbC5wYXJlbnQoJy5jYXJ0LW5vdGVzJykuaGlkZSgpO1xuICAgIH1cbiAgfSxcblxuICBlZGl0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRlbC5hdHRyKCdjb250ZW50ZWRpdGFibGUnLCd0cnVlJykuZm9jdXMoKTtcbiAgfSxcblxuICBzYXZlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLiRlbC50ZXh0KCk7XG5cbiAgICAvLyB2YWxpZGF0ZSBhbmQgc2F2ZVxuICAgIHRoaXMubW9kZWwuc2F2ZSh7IG5vdGU6IHZhbHVlIH0pO1xuICAgIHRoaXMuJGVsLmF0dHIoJ2NvbnRlbnRlZGl0YWJsZScsJ2ZhbHNlJyk7XG4gICAgdGhpcy5zaG93T3JIaWRlKCk7XG4gIH0sXG5cbiAgc2F2ZU9uRW50ZXI6IGZ1bmN0aW9uKGUpIHtcbiAgICAvLyBzYXZlIG5vdGUgb24gZW50ZXJcbiAgICBpZiAoZS53aGljaCA9PT0gMTMpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuJGVsLmJsdXIoKTtcbiAgICB9XG4gIH0sXG5cbiAgc2hvd05vdGVGaWVsZDogZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ3Nob3cgbm90ZScpO1xuICAgIHRoaXMuJGVsLnBhcmVudCgnLmNhcnQtbm90ZXMnKS5zaG93KCk7XG4gICAgdGhpcy4kZWwuYXR0cignY29udGVudGVkaXRhYmxlJywndHJ1ZScpLmZvY3VzKCk7XG4gIH1cbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FwcHMvcG9zL2NhcnQvdmlld3Mvbm90ZXMuanNcbiAqKiBtb2R1bGUgaWQgPSA3NlxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNzYuanMifQ==");

/***/ },
/* 77 */
/*!**************************************************!*\
  !*** ./~/lib/components/customer-select/view.js ***!
  \**************************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var ItemView = __webpack_require__(/*! lib/config/item-view */ 50);\nvar Select2 = __webpack_require__(/*! lib/components/select2/behavior */ 84);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar entitiesChannel = bb.Radio.channel('entities');\n\n// Select view\nmodule.exports = ItemView.extend({\n  template: function() {\n    return '<input name=\"customer\" type=\"hidden\" class=\"select2\">'\n  },\n\n  behaviors: {\n    Select2: {\n      behaviorClass: Select2,\n      minimumInputLength: 2,\n      ajax: {\n        url: function() {\n          return entitiesChannel.request('get:options', 'ajaxurl');\n        },\n        dataType: 'json',\n        quietMillis: 250,\n        data: function( term ) {\n          return {\n            term: term,\n            action: 'wc_pos_json_search_customers'\n          };\n        },\n        results: function( data ) {\n          var customers = [];\n          _( data ).each( function( obj ) {\n            customers.push( obj );\n          });\n          return { results: customers };\n        }\n      },\n      initSelection: function( element, callback ) {\n        var customer = entitiesChannel.request('get:options', 'default_customer');\n        callback( customer );\n      }\n    }\n  },\n\n  query: function(){},\n\n  events: {\n    'change #select-customer' : 'updateCustomer'\n  },\n\n  updateCustomer: function(e) {\n    this.trigger( 'customer:select', e.added.id, this.formatSelection( e.added ) );\n  },\n\n  formatResult: function( customer ) {\n    var output = '';\n    if( ! _.isEmpty( customer.first_name ) ) { output = customer.first_name + ' '; }\n    if( ! _.isEmpty( customer.last_name ) ) { output += customer.last_name + ' '; }\n    if( output === '' ) { output = customer.display_name + ' '; }\n    if( ! _.isEmpty( customer.user_email ) ) { output += '(' + customer.user_email + ')'; }\n    return output;\n  },\n\n  formatSelection: function( customer ) {\n    var output = '';\n    if( ! _.isEmpty( customer.first_name ) ) { output = customer.first_name + ' '; }\n    if( ! _.isEmpty( customer.last_name ) ) { output += customer.last_name + ' '; }\n    if( output === '' ) { output = customer.display_name; }\n    return output;\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb21wb25lbnRzL2N1c3RvbWVyLXNlbGVjdC92aWV3LmpzP2RlNzEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsa0JBQWtCO0FBQ2xCO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILHFCQUFxQjs7QUFFckI7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLDhDQUE4QyxvQ0FBb0M7QUFDbEYsNkNBQTZDLG9DQUFvQztBQUNqRix5QkFBeUIsc0NBQXNDO0FBQy9ELDhDQUE4QywyQ0FBMkM7QUFDekY7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSw4Q0FBOEMsb0NBQW9DO0FBQ2xGLDZDQUE2QyxvQ0FBb0M7QUFDakYseUJBQXlCLGdDQUFnQztBQUN6RDtBQUNBOztBQUVBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgSXRlbVZpZXcgPSByZXF1aXJlKCdsaWIvY29uZmlnL2l0ZW0tdmlldycpO1xudmFyIFNlbGVjdDIgPSByZXF1aXJlKCdsaWIvY29tcG9uZW50cy9zZWxlY3QyL2JlaGF2aW9yJyk7XG52YXIgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xudmFyIGJiID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBlbnRpdGllc0NoYW5uZWwgPSBiYi5SYWRpby5jaGFubmVsKCdlbnRpdGllcycpO1xuXG4vLyBTZWxlY3Qgdmlld1xubW9kdWxlLmV4cG9ydHMgPSBJdGVtVmlldy5leHRlbmQoe1xuICB0ZW1wbGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICc8aW5wdXQgbmFtZT1cImN1c3RvbWVyXCIgdHlwZT1cImhpZGRlblwiIGNsYXNzPVwic2VsZWN0MlwiPidcbiAgfSxcblxuICBiZWhhdmlvcnM6IHtcbiAgICBTZWxlY3QyOiB7XG4gICAgICBiZWhhdmlvckNsYXNzOiBTZWxlY3QyLFxuICAgICAgbWluaW11bUlucHV0TGVuZ3RoOiAyLFxuICAgICAgYWpheDoge1xuICAgICAgICB1cmw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBlbnRpdGllc0NoYW5uZWwucmVxdWVzdCgnZ2V0Om9wdGlvbnMnLCAnYWpheHVybCcpO1xuICAgICAgICB9LFxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICBxdWlldE1pbGxpczogMjUwLFxuICAgICAgICBkYXRhOiBmdW5jdGlvbiggdGVybSApIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGVybTogdGVybSxcbiAgICAgICAgICAgIGFjdGlvbjogJ3djX3Bvc19qc29uX3NlYXJjaF9jdXN0b21lcnMnXG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzdWx0czogZnVuY3Rpb24oIGRhdGEgKSB7XG4gICAgICAgICAgdmFyIGN1c3RvbWVycyA9IFtdO1xuICAgICAgICAgIF8oIGRhdGEgKS5lYWNoKCBmdW5jdGlvbiggb2JqICkge1xuICAgICAgICAgICAgY3VzdG9tZXJzLnB1c2goIG9iaiApO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiB7IHJlc3VsdHM6IGN1c3RvbWVycyB9O1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaW5pdFNlbGVjdGlvbjogZnVuY3Rpb24oIGVsZW1lbnQsIGNhbGxiYWNrICkge1xuICAgICAgICB2YXIgY3VzdG9tZXIgPSBlbnRpdGllc0NoYW5uZWwucmVxdWVzdCgnZ2V0Om9wdGlvbnMnLCAnZGVmYXVsdF9jdXN0b21lcicpO1xuICAgICAgICBjYWxsYmFjayggY3VzdG9tZXIgKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgcXVlcnk6IGZ1bmN0aW9uKCl7fSxcblxuICBldmVudHM6IHtcbiAgICAnY2hhbmdlICNzZWxlY3QtY3VzdG9tZXInIDogJ3VwZGF0ZUN1c3RvbWVyJ1xuICB9LFxuXG4gIHVwZGF0ZUN1c3RvbWVyOiBmdW5jdGlvbihlKSB7XG4gICAgdGhpcy50cmlnZ2VyKCAnY3VzdG9tZXI6c2VsZWN0JywgZS5hZGRlZC5pZCwgdGhpcy5mb3JtYXRTZWxlY3Rpb24oIGUuYWRkZWQgKSApO1xuICB9LFxuXG4gIGZvcm1hdFJlc3VsdDogZnVuY3Rpb24oIGN1c3RvbWVyICkge1xuICAgIHZhciBvdXRwdXQgPSAnJztcbiAgICBpZiggISBfLmlzRW1wdHkoIGN1c3RvbWVyLmZpcnN0X25hbWUgKSApIHsgb3V0cHV0ID0gY3VzdG9tZXIuZmlyc3RfbmFtZSArICcgJzsgfVxuICAgIGlmKCAhIF8uaXNFbXB0eSggY3VzdG9tZXIubGFzdF9uYW1lICkgKSB7IG91dHB1dCArPSBjdXN0b21lci5sYXN0X25hbWUgKyAnICc7IH1cbiAgICBpZiggb3V0cHV0ID09PSAnJyApIHsgb3V0cHV0ID0gY3VzdG9tZXIuZGlzcGxheV9uYW1lICsgJyAnOyB9XG4gICAgaWYoICEgXy5pc0VtcHR5KCBjdXN0b21lci51c2VyX2VtYWlsICkgKSB7IG91dHB1dCArPSAnKCcgKyBjdXN0b21lci51c2VyX2VtYWlsICsgJyknOyB9XG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfSxcblxuICBmb3JtYXRTZWxlY3Rpb246IGZ1bmN0aW9uKCBjdXN0b21lciApIHtcbiAgICB2YXIgb3V0cHV0ID0gJyc7XG4gICAgaWYoICEgXy5pc0VtcHR5KCBjdXN0b21lci5maXJzdF9uYW1lICkgKSB7IG91dHB1dCA9IGN1c3RvbWVyLmZpcnN0X25hbWUgKyAnICc7IH1cbiAgICBpZiggISBfLmlzRW1wdHkoIGN1c3RvbWVyLmxhc3RfbmFtZSApICkgeyBvdXRwdXQgKz0gY3VzdG9tZXIubGFzdF9uYW1lICsgJyAnOyB9XG4gICAgaWYoIG91dHB1dCA9PT0gJycgKSB7IG91dHB1dCA9IGN1c3RvbWVyLmRpc3BsYXlfbmFtZTsgfVxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH1cblxufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbGliL2NvbXBvbmVudHMvY3VzdG9tZXItc2VsZWN0L3ZpZXcuanNcbiAqKiBtb2R1bGUgaWQgPSA3N1xuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNzcuanMifQ==");

/***/ },
/* 78 */
/*!*****************************************!*\
  !*** ./~/lib/config/collection-view.js ***!
  \*****************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var bb = __webpack_require__(/*! backbone */ 2);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 9);\n\nvar CollectionView = bb.Marionette.CollectionView;\n\nmodule.exports = CollectionView;\nPOS.attach('CollectionView', CollectionView);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvY29sbGVjdGlvbi12aWV3LmpzP2JiZjEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGJiID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBQT1MgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL2dsb2JhbCcpO1xuXG52YXIgQ29sbGVjdGlvblZpZXcgPSBiYi5NYXJpb25ldHRlLkNvbGxlY3Rpb25WaWV3O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbGxlY3Rpb25WaWV3O1xuUE9TLmF0dGFjaCgnQ29sbGVjdGlvblZpZXcnLCBDb2xsZWN0aW9uVmlldyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbGliL2NvbmZpZy9jb2xsZWN0aW9uLXZpZXcuanNcbiAqKiBtb2R1bGUgaWQgPSA3OFxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNzguanMifQ==");

/***/ },
/* 79 */
/*!*********************************************!*\
  !*** ./~/lib/components/filter/behavior.js ***!
  \*********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Behavior = __webpack_require__(/*! lib/config/behavior */ 66);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 9);\n\nmodule.exports = POS.Behaviors.Filter = Behavior.extend({\n\n  ui: {\n    searchField : 'input[type=search]',\n    clearBtn  : 'a.clear'\n  },\n\n  events: {\n    'keyup @ui.searchField' : 'query',\n    'click @ui.clearBtn'    : 'clear'\n  },\n\n  query: _.debounce( function(){\n    var value = this.ui.searchField.val();\n    this.showClearButtonMaybe( value );\n    this.view.trigger( 'search:query', value );\n  }, 149),\n\n  // clear the filter\n  clear: function(e) {\n    e.preventDefault();\n    this.view.collection.removeFilter('search');\n    this.ui.searchField.val('');\n    this.showClearButtonMaybe('');\n  },\n\n  showClearButtonMaybe: function( value ) {\n    if( _.isEmpty( value ) ) {\n      this.ui.clearBtn.hide();\n    } else {\n      this.ui.clearBtn.show();\n    }\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb21wb25lbnRzL2ZpbHRlci9iZWhhdmlvci5qcz9lZTFlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEJlaGF2aW9yID0gcmVxdWlyZSgnbGliL2NvbmZpZy9iZWhhdmlvcicpO1xudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbnZhciBQT1MgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL2dsb2JhbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBPUy5CZWhhdmlvcnMuRmlsdGVyID0gQmVoYXZpb3IuZXh0ZW5kKHtcblxuICB1aToge1xuICAgIHNlYXJjaEZpZWxkIDogJ2lucHV0W3R5cGU9c2VhcmNoXScsXG4gICAgY2xlYXJCdG4gIDogJ2EuY2xlYXInXG4gIH0sXG5cbiAgZXZlbnRzOiB7XG4gICAgJ2tleXVwIEB1aS5zZWFyY2hGaWVsZCcgOiAncXVlcnknLFxuICAgICdjbGljayBAdWkuY2xlYXJCdG4nICAgIDogJ2NsZWFyJ1xuICB9LFxuXG4gIHF1ZXJ5OiBfLmRlYm91bmNlKCBmdW5jdGlvbigpe1xuICAgIHZhciB2YWx1ZSA9IHRoaXMudWkuc2VhcmNoRmllbGQudmFsKCk7XG4gICAgdGhpcy5zaG93Q2xlYXJCdXR0b25NYXliZSggdmFsdWUgKTtcbiAgICB0aGlzLnZpZXcudHJpZ2dlciggJ3NlYXJjaDpxdWVyeScsIHZhbHVlICk7XG4gIH0sIDE0OSksXG5cbiAgLy8gY2xlYXIgdGhlIGZpbHRlclxuICBjbGVhcjogZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnZpZXcuY29sbGVjdGlvbi5yZW1vdmVGaWx0ZXIoJ3NlYXJjaCcpO1xuICAgIHRoaXMudWkuc2VhcmNoRmllbGQudmFsKCcnKTtcbiAgICB0aGlzLnNob3dDbGVhckJ1dHRvbk1heWJlKCcnKTtcbiAgfSxcblxuICBzaG93Q2xlYXJCdXR0b25NYXliZTogZnVuY3Rpb24oIHZhbHVlICkge1xuICAgIGlmKCBfLmlzRW1wdHkoIHZhbHVlICkgKSB7XG4gICAgICB0aGlzLnVpLmNsZWFyQnRuLmhpZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51aS5jbGVhckJ0bi5zaG93KCk7XG4gICAgfVxuICB9XG5cbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xpYi9jb21wb25lbnRzL2ZpbHRlci9iZWhhdmlvci5qc1xuICoqIG1vZHVsZSBpZCA9IDc5XG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI3OS5qcyJ9");

/***/ },
/* 80 */
/*!*******************************************!*\
  !*** ./~/lib/components/tabs/entities.js ***!
  \*******************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Model = __webpack_require__(/*! lib/config/model */ 48);\nvar Collection = __webpack_require__(/*! lib/config/collection */ 47);\nvar _ = __webpack_require__(/*! lodash */ 1);\n\nvar Tab = Model.extend({\n  defaults: {\n    label: '&nbsp;',\n    value: '',\n    active: false,\n    fixed: true\n  },\n  idAttribute: 'value'\n});\n\nvar Tabs = Collection.extend({\n  model: Tab,\n  initialize: function() {\n    this.on( 'remove', this.onRemove );\n    this.on( 'change:active', this.onChangeActive );\n  },\n\n  onRemove: function() {\n    var activeTabs = _.compact( this.pluck('active') );\n    if( _.isEmpty( activeTabs ) ) {\n      this.first().set({ active: true });\n    }\n  },\n\n  onChangeActive: function(model) {\n    this.each( function(tab) {\n      if( model.id !== tab.id ) {\n        tab.set( { active: false }, { silent: true } );\n      }\n    });\n  }\n\n});\n\nmodule.exports = Tabs;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb21wb25lbnRzL3RhYnMvZW50aXRpZXMuanM/MmZlYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixlQUFlO0FBQ3ZDO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsZ0JBQWdCLEdBQUcsZUFBZTtBQUNwRDtBQUNBLEtBQUs7QUFDTDs7QUFFQSxDQUFDOztBQUVEIiwic291cmNlc0NvbnRlbnQiOlsidmFyIE1vZGVsID0gcmVxdWlyZSgnbGliL2NvbmZpZy9tb2RlbCcpO1xudmFyIENvbGxlY3Rpb24gPSByZXF1aXJlKCdsaWIvY29uZmlnL2NvbGxlY3Rpb24nKTtcbnZhciBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbnZhciBUYWIgPSBNb2RlbC5leHRlbmQoe1xuICBkZWZhdWx0czoge1xuICAgIGxhYmVsOiAnJm5ic3A7JyxcbiAgICB2YWx1ZTogJycsXG4gICAgYWN0aXZlOiBmYWxzZSxcbiAgICBmaXhlZDogdHJ1ZVxuICB9LFxuICBpZEF0dHJpYnV0ZTogJ3ZhbHVlJ1xufSk7XG5cbnZhciBUYWJzID0gQ29sbGVjdGlvbi5leHRlbmQoe1xuICBtb2RlbDogVGFiLFxuICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm9uKCAncmVtb3ZlJywgdGhpcy5vblJlbW92ZSApO1xuICAgIHRoaXMub24oICdjaGFuZ2U6YWN0aXZlJywgdGhpcy5vbkNoYW5nZUFjdGl2ZSApO1xuICB9LFxuXG4gIG9uUmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYWN0aXZlVGFicyA9IF8uY29tcGFjdCggdGhpcy5wbHVjaygnYWN0aXZlJykgKTtcbiAgICBpZiggXy5pc0VtcHR5KCBhY3RpdmVUYWJzICkgKSB7XG4gICAgICB0aGlzLmZpcnN0KCkuc2V0KHsgYWN0aXZlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSxcblxuICBvbkNoYW5nZUFjdGl2ZTogZnVuY3Rpb24obW9kZWwpIHtcbiAgICB0aGlzLmVhY2goIGZ1bmN0aW9uKHRhYikge1xuICAgICAgaWYoIG1vZGVsLmlkICE9PSB0YWIuaWQgKSB7XG4gICAgICAgIHRhYi5zZXQoIHsgYWN0aXZlOiBmYWxzZSB9LCB7IHNpbGVudDogdHJ1ZSB9ICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gVGFicztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9saWIvY29tcG9uZW50cy90YWJzL2VudGl0aWVzLmpzXG4gKiogbW9kdWxlIGlkID0gODBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjgwLmpzIn0=");

/***/ },
/* 81 */
/*!**********************************************!*\
  !*** ./~/apps/pos/cart/views/line/layout.js ***!
  \**********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var LayoutView = __webpack_require__(/*! lib/config/layout-view */ 49);\nvar ItemView = __webpack_require__(/*! ./item */ 85);\nvar DrawerView = __webpack_require__(/*! ./drawer */ 86);\nvar bb = __webpack_require__(/*! backbone */ 2);\n\nmodule.exports = LayoutView.extend({\n  tagName: 'li',\n  className: function() { return this.model.get('type'); },\n  template: function() {\n    return '<div class=\"item\"></div><div class=\"drawer\"></div>';\n  },\n  regions: {\n    itemRegion: '.item',\n    drawerRegion: '.drawer'\n  },\n\n  modelEvents: {\n    'focus:row': 'focusRow'\n  },\n\n  onRender: function(){\n    var view = new ItemView({ model: this.model });\n\n    this.listenTo( view, 'drawer:open', this.openDrawer );\n    this.listenTo( view, 'drawer:close', this.closeDrawer );\n    this.listenTo( view, 'drawer:toggle', this.toggleDrawer );\n\n    this.itemRegion.show(view);\n\n    this.listenToOnce(\n      this.itemRegion.currentView,\n      'animation:finished',\n      function(){\n        bb.Marionette.ItemView.prototype.remove.call(this);\n      }\n    );\n  },\n\n  // remove is triggered once item has finished animating\n  remove: function(){},\n\n  openDrawer: function(){\n    var view = new DrawerView({ model: this.model });\n    this.drawerRegion.show(view);\n    this.$el.addClass('drawer-open');\n  },\n\n  closeDrawer: function(){\n    this.drawerRegion.empty();\n    this.$el.removeClass('drawer-open');\n  },\n\n  toggleDrawer: function(){\n    if( this.drawerRegion.hasView() ){\n      this.closeDrawer();\n    } else {\n      this.openDrawer();\n    }\n  },\n\n  focusRow: function() {\n    var self = this,\n        list        = this.$el.closest('.list'),\n        scrollTop   = list.scrollTop(),\n        listTop     = list.position().top,\n        listBottom  = list.height() + listTop,\n        itemTop     = this.$el.position().top,\n        itemBottom  = this.$el.height() + itemTop,\n        type        = self.model.get( 'type' );\n\n    if( itemTop < listTop ) {\n      scrollTop -= ( listTop - itemTop );\n    }\n\n    if( itemBottom > listBottom ) {\n      scrollTop += ( itemTop - list.height() + 4 );\n    }\n\n    // scroll to row\n    this.$el.addClass('bg-success')\n      .closest('.list')\n      .animate({scrollTop: scrollTop}, 'fast', function() {\n        // focus title if shipping or fee\n        if( type === 'fee' || type === 'shipping' ) {\n          self.$('.title strong.action-edit-title').focus();\n        }\n\n        // pulse\n        self.$el.animate({backgroundColor: 'transparent'}, 500, function() {\n          self.$el.removeClass('bg-success').removeAttr('style');\n        });\n      }\n    );\n  }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL2NhcnQvdmlld3MvbGluZS9sYXlvdXQuanM/ZTkyZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EseUJBQXlCLCtCQUErQixFQUFFO0FBQzFEO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDZCQUE2QixvQkFBb0I7O0FBRWpEO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxzQkFBc0I7O0FBRXRCO0FBQ0EsK0JBQStCLG9CQUFvQjtBQUNuRDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscUJBQXFCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEJBQTBCLCtCQUErQjtBQUN6RDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidmFyIExheW91dFZpZXcgPSByZXF1aXJlKCdsaWIvY29uZmlnL2xheW91dC12aWV3Jyk7XG52YXIgSXRlbVZpZXcgPSByZXF1aXJlKCcuL2l0ZW0nKTtcbnZhciBEcmF3ZXJWaWV3ID0gcmVxdWlyZSgnLi9kcmF3ZXInKTtcbnZhciBiYiA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gTGF5b3V0Vmlldy5leHRlbmQoe1xuICB0YWdOYW1lOiAnbGknLFxuICBjbGFzc05hbWU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5tb2RlbC5nZXQoJ3R5cGUnKTsgfSxcbiAgdGVtcGxhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAnPGRpdiBjbGFzcz1cIml0ZW1cIj48L2Rpdj48ZGl2IGNsYXNzPVwiZHJhd2VyXCI+PC9kaXY+JztcbiAgfSxcbiAgcmVnaW9uczoge1xuICAgIGl0ZW1SZWdpb246ICcuaXRlbScsXG4gICAgZHJhd2VyUmVnaW9uOiAnLmRyYXdlcidcbiAgfSxcblxuICBtb2RlbEV2ZW50czoge1xuICAgICdmb2N1czpyb3cnOiAnZm9jdXNSb3cnXG4gIH0sXG5cbiAgb25SZW5kZXI6IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHZpZXcgPSBuZXcgSXRlbVZpZXcoeyBtb2RlbDogdGhpcy5tb2RlbCB9KTtcblxuICAgIHRoaXMubGlzdGVuVG8oIHZpZXcsICdkcmF3ZXI6b3BlbicsIHRoaXMub3BlbkRyYXdlciApO1xuICAgIHRoaXMubGlzdGVuVG8oIHZpZXcsICdkcmF3ZXI6Y2xvc2UnLCB0aGlzLmNsb3NlRHJhd2VyICk7XG4gICAgdGhpcy5saXN0ZW5UbyggdmlldywgJ2RyYXdlcjp0b2dnbGUnLCB0aGlzLnRvZ2dsZURyYXdlciApO1xuXG4gICAgdGhpcy5pdGVtUmVnaW9uLnNob3codmlldyk7XG5cbiAgICB0aGlzLmxpc3RlblRvT25jZShcbiAgICAgIHRoaXMuaXRlbVJlZ2lvbi5jdXJyZW50VmlldyxcbiAgICAgICdhbmltYXRpb246ZmluaXNoZWQnLFxuICAgICAgZnVuY3Rpb24oKXtcbiAgICAgICAgYmIuTWFyaW9uZXR0ZS5JdGVtVmlldy5wcm90b3R5cGUucmVtb3ZlLmNhbGwodGhpcyk7XG4gICAgICB9XG4gICAgKTtcbiAgfSxcblxuICAvLyByZW1vdmUgaXMgdHJpZ2dlcmVkIG9uY2UgaXRlbSBoYXMgZmluaXNoZWQgYW5pbWF0aW5nXG4gIHJlbW92ZTogZnVuY3Rpb24oKXt9LFxuXG4gIG9wZW5EcmF3ZXI6IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHZpZXcgPSBuZXcgRHJhd2VyVmlldyh7IG1vZGVsOiB0aGlzLm1vZGVsIH0pO1xuICAgIHRoaXMuZHJhd2VyUmVnaW9uLnNob3codmlldyk7XG4gICAgdGhpcy4kZWwuYWRkQ2xhc3MoJ2RyYXdlci1vcGVuJyk7XG4gIH0sXG5cbiAgY2xvc2VEcmF3ZXI6IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5kcmF3ZXJSZWdpb24uZW1wdHkoKTtcbiAgICB0aGlzLiRlbC5yZW1vdmVDbGFzcygnZHJhd2VyLW9wZW4nKTtcbiAgfSxcblxuICB0b2dnbGVEcmF3ZXI6IGZ1bmN0aW9uKCl7XG4gICAgaWYoIHRoaXMuZHJhd2VyUmVnaW9uLmhhc1ZpZXcoKSApe1xuICAgICAgdGhpcy5jbG9zZURyYXdlcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9wZW5EcmF3ZXIoKTtcbiAgICB9XG4gIH0sXG5cbiAgZm9jdXNSb3c6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgbGlzdCAgICAgICAgPSB0aGlzLiRlbC5jbG9zZXN0KCcubGlzdCcpLFxuICAgICAgICBzY3JvbGxUb3AgICA9IGxpc3Quc2Nyb2xsVG9wKCksXG4gICAgICAgIGxpc3RUb3AgICAgID0gbGlzdC5wb3NpdGlvbigpLnRvcCxcbiAgICAgICAgbGlzdEJvdHRvbSAgPSBsaXN0LmhlaWdodCgpICsgbGlzdFRvcCxcbiAgICAgICAgaXRlbVRvcCAgICAgPSB0aGlzLiRlbC5wb3NpdGlvbigpLnRvcCxcbiAgICAgICAgaXRlbUJvdHRvbSAgPSB0aGlzLiRlbC5oZWlnaHQoKSArIGl0ZW1Ub3AsXG4gICAgICAgIHR5cGUgICAgICAgID0gc2VsZi5tb2RlbC5nZXQoICd0eXBlJyApO1xuXG4gICAgaWYoIGl0ZW1Ub3AgPCBsaXN0VG9wICkge1xuICAgICAgc2Nyb2xsVG9wIC09ICggbGlzdFRvcCAtIGl0ZW1Ub3AgKTtcbiAgICB9XG5cbiAgICBpZiggaXRlbUJvdHRvbSA+IGxpc3RCb3R0b20gKSB7XG4gICAgICBzY3JvbGxUb3AgKz0gKCBpdGVtVG9wIC0gbGlzdC5oZWlnaHQoKSArIDQgKTtcbiAgICB9XG5cbiAgICAvLyBzY3JvbGwgdG8gcm93XG4gICAgdGhpcy4kZWwuYWRkQ2xhc3MoJ2JnLXN1Y2Nlc3MnKVxuICAgICAgLmNsb3Nlc3QoJy5saXN0JylcbiAgICAgIC5hbmltYXRlKHtzY3JvbGxUb3A6IHNjcm9sbFRvcH0sICdmYXN0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIGZvY3VzIHRpdGxlIGlmIHNoaXBwaW5nIG9yIGZlZVxuICAgICAgICBpZiggdHlwZSA9PT0gJ2ZlZScgfHwgdHlwZSA9PT0gJ3NoaXBwaW5nJyApIHtcbiAgICAgICAgICBzZWxmLiQoJy50aXRsZSBzdHJvbmcuYWN0aW9uLWVkaXQtdGl0bGUnKS5mb2N1cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcHVsc2VcbiAgICAgICAgc2VsZi4kZWwuYW5pbWF0ZSh7YmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnfSwgNTAwLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLiRlbC5yZW1vdmVDbGFzcygnYmctc3VjY2VzcycpLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICk7XG4gIH1cbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FwcHMvcG9zL2NhcnQvdmlld3MvbGluZS9sYXlvdXQuanNcbiAqKiBtb2R1bGUgaWQgPSA4MVxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiODEuanMifQ==");

/***/ },
/* 82 */
/*!***********************************************!*\
  !*** ./~/lib/components/autogrow/behavior.js ***!
  \***********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Behavior = __webpack_require__(/*! lib/config/behavior */ 66);\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 9);\n\nmodule.exports = POS.Behaviors.AutoGrow = Behavior.extend({\n\n  initialize: function(options){\n    this.options = options || (options = {});\n    _.defaults(this.options, {\n      padding: 20\n    });\n\n    this.tester = $('#autogrow-tester');\n    if( this.tester.length === 0 ) {\n      this.tester = $('<div id=\"autogrow-tester\" />')\n        .css({\n          opacity     : 0,\n          top         : -9999,\n          left        : -9999,\n          position    : 'absolute',\n          whiteSpace  : 'nowrap'\n        });\n      $('body').append(this.tester);\n    }\n\n    this.listenTo( this.view, 'show render', this.autoGrowEach );\n  },\n\n  ui: {\n    input: '.autogrow'\n  },\n\n  events: {\n    'input @ui.input' : 'autoGrow'\n  },\n\n  autoGrowEach: function() {\n    _.each( this.ui.input, function( input ) {\n      this.autoGrow( $(input) );\n    }, this);\n  },\n\n  autoGrow: function( e ) {\n    var input = e.target ? $(e.target) : e ;\n    var value = input.val();\n\n    value = value.replace(/&/g, '&amp;')\n      .replace(/\\s/g,'&nbsp;')\n      .replace(/</g, '&lt;')\n      .replace(/>/g, '&gt;');\n\n    this.tester.html(value);\n    var width = this.tester.width() + this.options.padding;\n    input.css({ width: width });\n\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb21wb25lbnRzL2F1dG9ncm93L2JlaGF2aW9yLmpzPzg5YjIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQSxzQ0FBc0M7QUFDdEMsNEJBQTRCO0FBQzVCLDBCQUEwQjtBQUMxQiwwQkFBMEI7O0FBRTFCO0FBQ0E7QUFDQSxlQUFlLGVBQWU7O0FBRTlCOztBQUVBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQmVoYXZpb3IgPSByZXF1aXJlKCdsaWIvY29uZmlnL2JlaGF2aW9yJyk7XG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbnZhciBQT1MgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL2dsb2JhbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBPUy5CZWhhdmlvcnMuQXV0b0dyb3cgPSBCZWhhdmlvci5leHRlbmQoe1xuXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMpe1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gICAgXy5kZWZhdWx0cyh0aGlzLm9wdGlvbnMsIHtcbiAgICAgIHBhZGRpbmc6IDIwXG4gICAgfSk7XG5cbiAgICB0aGlzLnRlc3RlciA9ICQoJyNhdXRvZ3Jvdy10ZXN0ZXInKTtcbiAgICBpZiggdGhpcy50ZXN0ZXIubGVuZ3RoID09PSAwICkge1xuICAgICAgdGhpcy50ZXN0ZXIgPSAkKCc8ZGl2IGlkPVwiYXV0b2dyb3ctdGVzdGVyXCIgLz4nKVxuICAgICAgICAuY3NzKHtcbiAgICAgICAgICBvcGFjaXR5ICAgICA6IDAsXG4gICAgICAgICAgdG9wICAgICAgICAgOiAtOTk5OSxcbiAgICAgICAgICBsZWZ0ICAgICAgICA6IC05OTk5LFxuICAgICAgICAgIHBvc2l0aW9uICAgIDogJ2Fic29sdXRlJyxcbiAgICAgICAgICB3aGl0ZVNwYWNlICA6ICdub3dyYXAnXG4gICAgICAgIH0pO1xuICAgICAgJCgnYm9keScpLmFwcGVuZCh0aGlzLnRlc3Rlcik7XG4gICAgfVxuXG4gICAgdGhpcy5saXN0ZW5UbyggdGhpcy52aWV3LCAnc2hvdyByZW5kZXInLCB0aGlzLmF1dG9Hcm93RWFjaCApO1xuICB9LFxuXG4gIHVpOiB7XG4gICAgaW5wdXQ6ICcuYXV0b2dyb3cnXG4gIH0sXG5cbiAgZXZlbnRzOiB7XG4gICAgJ2lucHV0IEB1aS5pbnB1dCcgOiAnYXV0b0dyb3cnXG4gIH0sXG5cbiAgYXV0b0dyb3dFYWNoOiBmdW5jdGlvbigpIHtcbiAgICBfLmVhY2goIHRoaXMudWkuaW5wdXQsIGZ1bmN0aW9uKCBpbnB1dCApIHtcbiAgICAgIHRoaXMuYXV0b0dyb3coICQoaW5wdXQpICk7XG4gICAgfSwgdGhpcyk7XG4gIH0sXG5cbiAgYXV0b0dyb3c6IGZ1bmN0aW9uKCBlICkge1xuICAgIHZhciBpbnB1dCA9IGUudGFyZ2V0ID8gJChlLnRhcmdldCkgOiBlIDtcbiAgICB2YXIgdmFsdWUgPSBpbnB1dC52YWwoKTtcblxuICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuICAgICAgLnJlcGxhY2UoL1xccy9nLCcmbmJzcDsnKVxuICAgICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKTtcblxuICAgIHRoaXMudGVzdGVyLmh0bWwodmFsdWUpO1xuICAgIHZhciB3aWR0aCA9IHRoaXMudGVzdGVyLndpZHRoKCkgKyB0aGlzLm9wdGlvbnMucGFkZGluZztcbiAgICBpbnB1dC5jc3MoeyB3aWR0aDogd2lkdGggfSk7XG5cbiAgfVxuXG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9saWIvY29tcG9uZW50cy9hdXRvZ3Jvdy9iZWhhdmlvci5qc1xuICoqIG1vZHVsZSBpZCA9IDgyXG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI4Mi5qcyJ9");

/***/ },
/* 83 */
/*!*********************************************!*\
  !*** ./~/lib/components/numpad/behavior.js ***!
  \*********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Behavior = __webpack_require__(/*! lib/config/behavior */ 66);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 9);\n\n/**\n * Numpad behavior\n */\nmodule.exports = POS.Behaviors.Numpad = Behavior.extend({\n  //\n  //initialize: function( options ) {\n  //\n  //},\n  //\n  //ui: {\n  //  input: '*[data-numpad]'\n  //},\n  //\n  //events: {\n  //  'show:numpad'     : 'numpadPopover',\n  //  'click @ui.input'   : 'numpadPopover',\n  //  'keydown @ui.input' : 'onBeforeDestroy'\n  //},\n  //\n  //onShow: function() {\n  //  if(Modernizr.touch) {\n  //    this.$('*[data-numpad]').attr('readonly', true);\n  //  }\n  //},\n  //\n  //numpadPopover: function(e) {\n  //\n  //  // select the target element\n  //  $(e.target).select();\n  //\n  //  // bail if popover is already open\n  //  if( $(e.target).attr('aria-describedby') ) {\n  //    return;\n  //  }\n  //\n  //  // nuke any open numpads\n  //  $('*[data-numpad]').trigger( 'close:popover' );\n  //\n  //  // open popover\n  //  Numpad.channel.command( 'show:popover', { target: $(e.target) } );\n  //\n  //  // on numpad return, close numpad and update value\n  //  $(e.target).on( 'numpad:return', function( e, value ) {\n  //    $(this).trigger( 'close:popover' );\n  //    //var enter = $.Event( 'keypress', { which: 13 } );\n  //    $(this).val( value ).trigger( 'blur' );\n  //  });\n  //\n  //},\n  //\n  //onBeforeDestroy: function() {\n  //  this.view.$('*[data-numpad]').trigger( 'close:popover' );\n  //}\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb21wb25lbnRzL251bXBhZC9iZWhhdmlvci5qcz85YWJlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0Msc0JBQXNCO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLFlBQVk7QUFDeEQ7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBCZWhhdmlvciA9IHJlcXVpcmUoJ2xpYi9jb25maWcvYmVoYXZpb3InKTtcbnZhciBQT1MgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL2dsb2JhbCcpO1xuXG4vKipcbiAqIE51bXBhZCBiZWhhdmlvclxuICovXG5tb2R1bGUuZXhwb3J0cyA9IFBPUy5CZWhhdmlvcnMuTnVtcGFkID0gQmVoYXZpb3IuZXh0ZW5kKHtcbiAgLy9cbiAgLy9pbml0aWFsaXplOiBmdW5jdGlvbiggb3B0aW9ucyApIHtcbiAgLy9cbiAgLy99LFxuICAvL1xuICAvL3VpOiB7XG4gIC8vICBpbnB1dDogJypbZGF0YS1udW1wYWRdJ1xuICAvL30sXG4gIC8vXG4gIC8vZXZlbnRzOiB7XG4gIC8vICAnc2hvdzpudW1wYWQnICAgICA6ICdudW1wYWRQb3BvdmVyJyxcbiAgLy8gICdjbGljayBAdWkuaW5wdXQnICAgOiAnbnVtcGFkUG9wb3ZlcicsXG4gIC8vICAna2V5ZG93biBAdWkuaW5wdXQnIDogJ29uQmVmb3JlRGVzdHJveSdcbiAgLy99LFxuICAvL1xuICAvL29uU2hvdzogZnVuY3Rpb24oKSB7XG4gIC8vICBpZihNb2Rlcm5penIudG91Y2gpIHtcbiAgLy8gICAgdGhpcy4kKCcqW2RhdGEtbnVtcGFkXScpLmF0dHIoJ3JlYWRvbmx5JywgdHJ1ZSk7XG4gIC8vICB9XG4gIC8vfSxcbiAgLy9cbiAgLy9udW1wYWRQb3BvdmVyOiBmdW5jdGlvbihlKSB7XG4gIC8vXG4gIC8vICAvLyBzZWxlY3QgdGhlIHRhcmdldCBlbGVtZW50XG4gIC8vICAkKGUudGFyZ2V0KS5zZWxlY3QoKTtcbiAgLy9cbiAgLy8gIC8vIGJhaWwgaWYgcG9wb3ZlciBpcyBhbHJlYWR5IG9wZW5cbiAgLy8gIGlmKCAkKGUudGFyZ2V0KS5hdHRyKCdhcmlhLWRlc2NyaWJlZGJ5JykgKSB7XG4gIC8vICAgIHJldHVybjtcbiAgLy8gIH1cbiAgLy9cbiAgLy8gIC8vIG51a2UgYW55IG9wZW4gbnVtcGFkc1xuICAvLyAgJCgnKltkYXRhLW51bXBhZF0nKS50cmlnZ2VyKCAnY2xvc2U6cG9wb3ZlcicgKTtcbiAgLy9cbiAgLy8gIC8vIG9wZW4gcG9wb3ZlclxuICAvLyAgTnVtcGFkLmNoYW5uZWwuY29tbWFuZCggJ3Nob3c6cG9wb3ZlcicsIHsgdGFyZ2V0OiAkKGUudGFyZ2V0KSB9ICk7XG4gIC8vXG4gIC8vICAvLyBvbiBudW1wYWQgcmV0dXJuLCBjbG9zZSBudW1wYWQgYW5kIHVwZGF0ZSB2YWx1ZVxuICAvLyAgJChlLnRhcmdldCkub24oICdudW1wYWQ6cmV0dXJuJywgZnVuY3Rpb24oIGUsIHZhbHVlICkge1xuICAvLyAgICAkKHRoaXMpLnRyaWdnZXIoICdjbG9zZTpwb3BvdmVyJyApO1xuICAvLyAgICAvL3ZhciBlbnRlciA9ICQuRXZlbnQoICdrZXlwcmVzcycsIHsgd2hpY2g6IDEzIH0gKTtcbiAgLy8gICAgJCh0aGlzKS52YWwoIHZhbHVlICkudHJpZ2dlciggJ2JsdXInICk7XG4gIC8vICB9KTtcbiAgLy9cbiAgLy99LFxuICAvL1xuICAvL29uQmVmb3JlRGVzdHJveTogZnVuY3Rpb24oKSB7XG4gIC8vICB0aGlzLnZpZXcuJCgnKltkYXRhLW51bXBhZF0nKS50cmlnZ2VyKCAnY2xvc2U6cG9wb3ZlcicgKTtcbiAgLy99XG5cbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xpYi9jb21wb25lbnRzL251bXBhZC9iZWhhdmlvci5qc1xuICoqIG1vZHVsZSBpZCA9IDgzXG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI4My5qcyJ9");

/***/ },
/* 84 */
/*!**********************************************!*\
  !*** ./~/lib/components/select2/behavior.js ***!
  \**********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var Behavior = __webpack_require__(/*! lib/config/behavior */ 66);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 9);\n\nmodule.exports = POS.Behaviors.Select2 = Behavior.extend({\n\n  initialize: function(options){\n    this.options = _.defaults(options, {\n      query           : _.bind( this.view.query, this.view ),\n      formatResult    : this.view.formatResult,\n      formatSelection : this.view.formatSelection\n    });\n\n  },\n\n  ui: {\n    select: '.select2'\n  },\n\n  onRender: function() {\n    if(this.ui.select.hasClass('no-search')) {\n      this.options.dropdownCssClass = 'no-search';\n    }\n    this.ui.select.select2( this.options );\n  },\n\n  onBeforeDestroy: function() {\n    this.ui.select.select2( 'destroy' );\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb21wb25lbnRzL3NlbGVjdDIvYmVoYXZpb3IuanM/NjM3OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUwsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBCZWhhdmlvciA9IHJlcXVpcmUoJ2xpYi9jb25maWcvYmVoYXZpb3InKTtcbnZhciBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG52YXIgUE9TID0gcmVxdWlyZSgnbGliL3V0aWxpdGllcy9nbG9iYWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBQT1MuQmVoYXZpb3JzLlNlbGVjdDIgPSBCZWhhdmlvci5leHRlbmQoe1xuXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMpe1xuICAgIHRoaXMub3B0aW9ucyA9IF8uZGVmYXVsdHMob3B0aW9ucywge1xuICAgICAgcXVlcnkgICAgICAgICAgIDogXy5iaW5kKCB0aGlzLnZpZXcucXVlcnksIHRoaXMudmlldyApLFxuICAgICAgZm9ybWF0UmVzdWx0ICAgIDogdGhpcy52aWV3LmZvcm1hdFJlc3VsdCxcbiAgICAgIGZvcm1hdFNlbGVjdGlvbiA6IHRoaXMudmlldy5mb3JtYXRTZWxlY3Rpb25cbiAgICB9KTtcblxuICB9LFxuXG4gIHVpOiB7XG4gICAgc2VsZWN0OiAnLnNlbGVjdDInXG4gIH0sXG5cbiAgb25SZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIGlmKHRoaXMudWkuc2VsZWN0Lmhhc0NsYXNzKCduby1zZWFyY2gnKSkge1xuICAgICAgdGhpcy5vcHRpb25zLmRyb3Bkb3duQ3NzQ2xhc3MgPSAnbm8tc2VhcmNoJztcbiAgICB9XG4gICAgdGhpcy51aS5zZWxlY3Quc2VsZWN0MiggdGhpcy5vcHRpb25zICk7XG4gIH0sXG5cbiAgb25CZWZvcmVEZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnVpLnNlbGVjdC5zZWxlY3QyKCAnZGVzdHJveScgKTtcbiAgfVxuXG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9saWIvY29tcG9uZW50cy9zZWxlY3QyL2JlaGF2aW9yLmpzXG4gKiogbW9kdWxlIGlkID0gODRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6Ijg0LmpzIn0=");

/***/ },
/* 85 */
/*!********************************************!*\
  !*** ./~/apps/pos/cart/views/line/item.js ***!
  \********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var FormView = __webpack_require__(/*! lib/config/form-view */ 87);\nvar Utils = __webpack_require__(/*! lib/utilities/utils */ 32);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar entitiesChannel = bb.Radio.channel('entities');\nvar AutoGrow = __webpack_require__(/*! lib/components/autogrow/behavior */ 82);\nvar Numpad = __webpack_require__(/*! lib/components/numpad/behavior */ 83);\nvar hbs = __webpack_require__(/*! handlebars */ 27);\nvar $ = __webpack_require__(/*! jquery */ 3);\n\nmodule.exports = FormView.extend({\n  initialize: function() {\n    this.template = hbs.compile( $('#tmpl-cart-item').html() );\n  },\n\n  templateHelpers: function(){\n    var data = {},\n        tax = entitiesChannel.request('get:options', 'tax');\n\n    if( tax.tax_display_cart === 'incl' ) {\n      data.subtotal = this.model.sum(['subtotal', 'subtotal_tax']);\n      data.total = this.model.sum(['total', 'total_tax']);\n    }\n\n    if( this.model.get('total') !== this.model.get('subtotal') ){\n      data.discount = true;\n    }\n\n    return data;\n  },\n\n  behaviors: {\n    AutoGrow: {\n      behaviorClass: AutoGrow\n    },\n    Numpad: {\n      behaviorClass: Numpad\n    }\n  },\n\n  ui: {\n    remove: '.action-remove',\n    more: '.action-more'\n  },\n\n  events: {\n    'click @ui.remove' : 'removeItem'\n  },\n\n  triggers: {\n    'click @ui.more'   : 'drawer:toggle'\n  },\n\n  bindings: {\n    'input[name=\"qty\"]'   : {\n      observe: 'qty',\n      onGet: function(value) {\n        return Utils.formatNumber(value, 'auto');\n      },\n      onSet: Utils.unformat\n    },\n    'strong.action-edit-title': 'title',\n    'input[name=\"item_price\"]'   : {\n      observe: 'item_price',\n      onGet: Utils.formatNumber,\n      onSet: Utils.unformat\n    }\n  },\n\n  remove: function() {\n    // Remove the validation binding\n    bb.Validation.unbind(this);\n\n    // disable button\n    this.$('.action-remove').attr( 'disabled', 'true' );\n\n    // add bg colour and fade out\n    this.$el.addClass('bg-danger').parent('ul').addClass('animating');\n    this.$el.fadeOut( 500, function() {\n      this.$el.parent('ul').removeClass('animating');\n      this.trigger('animation:finished');\n      bb.Marionette.ItemView.prototype.remove.call(this);\n    }.bind(this));\n  },\n\n  removeItem: function() {\n    this.model.destroy();\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL2NhcnQvdmlld3MvbGluZS9pdGVtLmpzPzExNGUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsaUJBQWlCO0FBQ2pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgRm9ybVZpZXcgPSByZXF1aXJlKCdsaWIvY29uZmlnL2Zvcm0tdmlldycpO1xudmFyIFV0aWxzID0gcmVxdWlyZSgnbGliL3V0aWxpdGllcy91dGlscycpO1xudmFyIGJiID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBlbnRpdGllc0NoYW5uZWwgPSBiYi5SYWRpby5jaGFubmVsKCdlbnRpdGllcycpO1xudmFyIEF1dG9Hcm93ID0gcmVxdWlyZSgnbGliL2NvbXBvbmVudHMvYXV0b2dyb3cvYmVoYXZpb3InKTtcbnZhciBOdW1wYWQgPSByZXF1aXJlKCdsaWIvY29tcG9uZW50cy9udW1wYWQvYmVoYXZpb3InKTtcbnZhciBoYnMgPSByZXF1aXJlKCdoYW5kbGViYXJzJyk7XG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZvcm1WaWV3LmV4dGVuZCh7XG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudGVtcGxhdGUgPSBoYnMuY29tcGlsZSggJCgnI3RtcGwtY2FydC1pdGVtJykuaHRtbCgpICk7XG4gIH0sXG5cbiAgdGVtcGxhdGVIZWxwZXJzOiBmdW5jdGlvbigpe1xuICAgIHZhciBkYXRhID0ge30sXG4gICAgICAgIHRheCA9IGVudGl0aWVzQ2hhbm5lbC5yZXF1ZXN0KCdnZXQ6b3B0aW9ucycsICd0YXgnKTtcblxuICAgIGlmKCB0YXgudGF4X2Rpc3BsYXlfY2FydCA9PT0gJ2luY2wnICkge1xuICAgICAgZGF0YS5zdWJ0b3RhbCA9IHRoaXMubW9kZWwuc3VtKFsnc3VidG90YWwnLCAnc3VidG90YWxfdGF4J10pO1xuICAgICAgZGF0YS50b3RhbCA9IHRoaXMubW9kZWwuc3VtKFsndG90YWwnLCAndG90YWxfdGF4J10pO1xuICAgIH1cblxuICAgIGlmKCB0aGlzLm1vZGVsLmdldCgndG90YWwnKSAhPT0gdGhpcy5tb2RlbC5nZXQoJ3N1YnRvdGFsJykgKXtcbiAgICAgIGRhdGEuZGlzY291bnQgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9LFxuXG4gIGJlaGF2aW9yczoge1xuICAgIEF1dG9Hcm93OiB7XG4gICAgICBiZWhhdmlvckNsYXNzOiBBdXRvR3Jvd1xuICAgIH0sXG4gICAgTnVtcGFkOiB7XG4gICAgICBiZWhhdmlvckNsYXNzOiBOdW1wYWRcbiAgICB9XG4gIH0sXG5cbiAgdWk6IHtcbiAgICByZW1vdmU6ICcuYWN0aW9uLXJlbW92ZScsXG4gICAgbW9yZTogJy5hY3Rpb24tbW9yZSdcbiAgfSxcblxuICBldmVudHM6IHtcbiAgICAnY2xpY2sgQHVpLnJlbW92ZScgOiAncmVtb3ZlSXRlbSdcbiAgfSxcblxuICB0cmlnZ2Vyczoge1xuICAgICdjbGljayBAdWkubW9yZScgICA6ICdkcmF3ZXI6dG9nZ2xlJ1xuICB9LFxuXG4gIGJpbmRpbmdzOiB7XG4gICAgJ2lucHV0W25hbWU9XCJxdHlcIl0nICAgOiB7XG4gICAgICBvYnNlcnZlOiAncXR5JyxcbiAgICAgIG9uR2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gVXRpbHMuZm9ybWF0TnVtYmVyKHZhbHVlLCAnYXV0bycpO1xuICAgICAgfSxcbiAgICAgIG9uU2V0OiBVdGlscy51bmZvcm1hdFxuICAgIH0sXG4gICAgJ3N0cm9uZy5hY3Rpb24tZWRpdC10aXRsZSc6ICd0aXRsZScsXG4gICAgJ2lucHV0W25hbWU9XCJpdGVtX3ByaWNlXCJdJyAgIDoge1xuICAgICAgb2JzZXJ2ZTogJ2l0ZW1fcHJpY2UnLFxuICAgICAgb25HZXQ6IFV0aWxzLmZvcm1hdE51bWJlcixcbiAgICAgIG9uU2V0OiBVdGlscy51bmZvcm1hdFxuICAgIH1cbiAgfSxcblxuICByZW1vdmU6IGZ1bmN0aW9uKCkge1xuICAgIC8vIFJlbW92ZSB0aGUgdmFsaWRhdGlvbiBiaW5kaW5nXG4gICAgYmIuVmFsaWRhdGlvbi51bmJpbmQodGhpcyk7XG5cbiAgICAvLyBkaXNhYmxlIGJ1dHRvblxuICAgIHRoaXMuJCgnLmFjdGlvbi1yZW1vdmUnKS5hdHRyKCAnZGlzYWJsZWQnLCAndHJ1ZScgKTtcblxuICAgIC8vIGFkZCBiZyBjb2xvdXIgYW5kIGZhZGUgb3V0XG4gICAgdGhpcy4kZWwuYWRkQ2xhc3MoJ2JnLWRhbmdlcicpLnBhcmVudCgndWwnKS5hZGRDbGFzcygnYW5pbWF0aW5nJyk7XG4gICAgdGhpcy4kZWwuZmFkZU91dCggNTAwLCBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuJGVsLnBhcmVudCgndWwnKS5yZW1vdmVDbGFzcygnYW5pbWF0aW5nJyk7XG4gICAgICB0aGlzLnRyaWdnZXIoJ2FuaW1hdGlvbjpmaW5pc2hlZCcpO1xuICAgICAgYmIuTWFyaW9uZXR0ZS5JdGVtVmlldy5wcm90b3R5cGUucmVtb3ZlLmNhbGwodGhpcyk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgfSxcblxuICByZW1vdmVJdGVtOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm1vZGVsLmRlc3Ryb3koKTtcbiAgfVxuXG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hcHBzL3Bvcy9jYXJ0L3ZpZXdzL2xpbmUvaXRlbS5qc1xuICoqIG1vZHVsZSBpZCA9IDg1XG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI4NS5qcyJ9");

/***/ },
/* 86 */
/*!**********************************************!*\
  !*** ./~/apps/pos/cart/views/line/drawer.js ***!
  \**********************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var FormView = __webpack_require__(/*! lib/config/form-view */ 87);\nvar AutoGrow = __webpack_require__(/*! lib/components/autogrow/behavior */ 82);\nvar Numpad = __webpack_require__(/*! lib/components/numpad/behavior */ 83);\nvar hbs = __webpack_require__(/*! handlebars */ 27);\nvar $ = __webpack_require__(/*! jquery */ 3);\nvar _ = __webpack_require__(/*! lodash */ 1);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar entitiesChannel = bb.Radio.channel('entities');\n\nmodule.exports = FormView.extend({\n  initialize: function() {\n    this.template = hbs.compile( $('#tmpl-cart-item-drawer').html() );\n  },\n\n  behaviors: {\n    AutoGrow: {\n      behaviorClass: AutoGrow\n    },\n    Numpad: {\n      behaviorClass: Numpad\n    }\n  },\n\n  ui: {\n    addMeta     : '.action-add-meta',\n    removeMeta  : '.action-remove-meta',\n    metaLabel   : 'input[name=\"meta.label\"]',\n    metaValue   : 'textarea[name=\"meta.value\"]'\n  },\n\n  events: {\n    'click @ui.addMeta'     : 'addMetaFields',\n    'click @ui.removeMeta'  : 'removeMetaFields',\n    'blur @ui.metaLabel'    : 'updateMeta',\n    'blur @ui.metaValue'    : 'updateMeta'\n  },\n\n  bindings: {\n    'input[name=\"regular_price\"]'   : 'regular_price',\n    'input[name=\"taxable\"]'         : 'taxable',\n    'select[name=\"tax_class\"]'      : {\n      observe: 'tax_class',\n      selectOptions: {\n        collection: function(){\n          return entitiesChannel.request('get:options', 'tax_labels');\n        }\n      }\n    },\n    'select[name=\"shipping_method\"]': {\n      observe: 'shipping_method',\n      selectOptions: {\n        collection: function(){\n          return entitiesChannel.request( 'get:options', 'shipping' );\n        },\n        comparator: function(){}\n      }\n    }\n  },\n\n  onShow: function() {\n    this.$el.hide().slideDown(250);\n  },\n\n  remove: function() {\n    this.$el.slideUp( 250, function() {\n      bb.Marionette.ItemView.prototype.remove.call(this);\n    }.bind(this));\n  },\n\n  updateMeta: function(e) {\n    var el        = $(e.target),\n        name      = el.attr('name').split('.'),\n        attribute = name[0],\n        value     = el.val(),\n        data      = {};\n\n    // special case product meta\n    if( name.length > 1 && attribute === 'meta' ) {\n      var key = el.parent('span').data('key');\n      var meta = ( this.model.get('meta') || [] );\n\n      // select row (or create new one)\n      var row = _.where( meta, { 'key': key } );\n      row = row.length > 0 ? row[0] : { 'key': key };\n      row[ name[1] ] = value;\n\n      // add the change row and make unique on key\n      meta.push(row);\n      value = _.uniq( meta, 'key' );\n    }\n\n    data[ attribute ] = value;\n\n    this.model.save(data);\n  },\n\n  addMetaFields: function(e){\n    e.preventDefault();\n\n    var row = $(e.currentTarget).prev('span').data('key');\n    var i = row ? row + 1 : 1 ;\n\n    $('<span data-key=\"'+ i +'\" />')\n      .append('' +\n        '<input type=\"text\" name=\"meta.label\">' +\n        '<textarea name=\"meta.value\"></textarea>' +\n        '<a href=\"#\" class=\"action-remove-meta\">' +\n        '<i class=\"icon icon-times\"></i>' +\n        '</a>')\n      .insertBefore( $(e.currentTarget) );\n  },\n\n  removeMetaFields: function(e){\n    e.preventDefault();\n\n    var row = $(e.currentTarget).parent('span');\n    var meta = ( this.model.get('meta') || [] );\n    var index = _.findIndex( meta, { 'key': row.data('key') } );\n    if( index >= 0 ){\n      meta.splice( index, 1 );\n      this.model.save({ 'meta': meta });\n    }\n\n    row.remove();\n  }\n\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FwcHMvcG9zL2NhcnQvdmlld3MvbGluZS9kcmF3ZXIuanM/ZGEyMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdDQUFnQyxhQUFhO0FBQzdDLHVDQUF1QztBQUN2Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9DQUFvQyx5QkFBeUI7QUFDN0Q7QUFDQTtBQUNBLHVCQUF1QixlQUFlO0FBQ3RDOztBQUVBO0FBQ0E7O0FBRUEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBGb3JtVmlldyA9IHJlcXVpcmUoJ2xpYi9jb25maWcvZm9ybS12aWV3Jyk7XG52YXIgQXV0b0dyb3cgPSByZXF1aXJlKCdsaWIvY29tcG9uZW50cy9hdXRvZ3Jvdy9iZWhhdmlvcicpO1xudmFyIE51bXBhZCA9IHJlcXVpcmUoJ2xpYi9jb21wb25lbnRzL251bXBhZC9iZWhhdmlvcicpO1xudmFyIGhicyA9IHJlcXVpcmUoJ2hhbmRsZWJhcnMnKTtcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG52YXIgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xudmFyIGJiID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBlbnRpdGllc0NoYW5uZWwgPSBiYi5SYWRpby5jaGFubmVsKCdlbnRpdGllcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZvcm1WaWV3LmV4dGVuZCh7XG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudGVtcGxhdGUgPSBoYnMuY29tcGlsZSggJCgnI3RtcGwtY2FydC1pdGVtLWRyYXdlcicpLmh0bWwoKSApO1xuICB9LFxuXG4gIGJlaGF2aW9yczoge1xuICAgIEF1dG9Hcm93OiB7XG4gICAgICBiZWhhdmlvckNsYXNzOiBBdXRvR3Jvd1xuICAgIH0sXG4gICAgTnVtcGFkOiB7XG4gICAgICBiZWhhdmlvckNsYXNzOiBOdW1wYWRcbiAgICB9XG4gIH0sXG5cbiAgdWk6IHtcbiAgICBhZGRNZXRhICAgICA6ICcuYWN0aW9uLWFkZC1tZXRhJyxcbiAgICByZW1vdmVNZXRhICA6ICcuYWN0aW9uLXJlbW92ZS1tZXRhJyxcbiAgICBtZXRhTGFiZWwgICA6ICdpbnB1dFtuYW1lPVwibWV0YS5sYWJlbFwiXScsXG4gICAgbWV0YVZhbHVlICAgOiAndGV4dGFyZWFbbmFtZT1cIm1ldGEudmFsdWVcIl0nXG4gIH0sXG5cbiAgZXZlbnRzOiB7XG4gICAgJ2NsaWNrIEB1aS5hZGRNZXRhJyAgICAgOiAnYWRkTWV0YUZpZWxkcycsXG4gICAgJ2NsaWNrIEB1aS5yZW1vdmVNZXRhJyAgOiAncmVtb3ZlTWV0YUZpZWxkcycsXG4gICAgJ2JsdXIgQHVpLm1ldGFMYWJlbCcgICAgOiAndXBkYXRlTWV0YScsXG4gICAgJ2JsdXIgQHVpLm1ldGFWYWx1ZScgICAgOiAndXBkYXRlTWV0YSdcbiAgfSxcblxuICBiaW5kaW5nczoge1xuICAgICdpbnB1dFtuYW1lPVwicmVndWxhcl9wcmljZVwiXScgICA6ICdyZWd1bGFyX3ByaWNlJyxcbiAgICAnaW5wdXRbbmFtZT1cInRheGFibGVcIl0nICAgICAgICAgOiAndGF4YWJsZScsXG4gICAgJ3NlbGVjdFtuYW1lPVwidGF4X2NsYXNzXCJdJyAgICAgIDoge1xuICAgICAgb2JzZXJ2ZTogJ3RheF9jbGFzcycsXG4gICAgICBzZWxlY3RPcHRpb25zOiB7XG4gICAgICAgIGNvbGxlY3Rpb246IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgcmV0dXJuIGVudGl0aWVzQ2hhbm5lbC5yZXF1ZXN0KCdnZXQ6b3B0aW9ucycsICd0YXhfbGFiZWxzJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgICdzZWxlY3RbbmFtZT1cInNoaXBwaW5nX21ldGhvZFwiXSc6IHtcbiAgICAgIG9ic2VydmU6ICdzaGlwcGluZ19tZXRob2QnLFxuICAgICAgc2VsZWN0T3B0aW9uczoge1xuICAgICAgICBjb2xsZWN0aW9uOiBmdW5jdGlvbigpe1xuICAgICAgICAgIHJldHVybiBlbnRpdGllc0NoYW5uZWwucmVxdWVzdCggJ2dldDpvcHRpb25zJywgJ3NoaXBwaW5nJyApO1xuICAgICAgICB9LFxuICAgICAgICBjb21wYXJhdG9yOiBmdW5jdGlvbigpe31cbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgb25TaG93OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRlbC5oaWRlKCkuc2xpZGVEb3duKDI1MCk7XG4gIH0sXG5cbiAgcmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRlbC5zbGlkZVVwKCAyNTAsIGZ1bmN0aW9uKCkge1xuICAgICAgYmIuTWFyaW9uZXR0ZS5JdGVtVmlldy5wcm90b3R5cGUucmVtb3ZlLmNhbGwodGhpcyk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgfSxcblxuICB1cGRhdGVNZXRhOiBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGVsICAgICAgICA9ICQoZS50YXJnZXQpLFxuICAgICAgICBuYW1lICAgICAgPSBlbC5hdHRyKCduYW1lJykuc3BsaXQoJy4nKSxcbiAgICAgICAgYXR0cmlidXRlID0gbmFtZVswXSxcbiAgICAgICAgdmFsdWUgICAgID0gZWwudmFsKCksXG4gICAgICAgIGRhdGEgICAgICA9IHt9O1xuXG4gICAgLy8gc3BlY2lhbCBjYXNlIHByb2R1Y3QgbWV0YVxuICAgIGlmKCBuYW1lLmxlbmd0aCA+IDEgJiYgYXR0cmlidXRlID09PSAnbWV0YScgKSB7XG4gICAgICB2YXIga2V5ID0gZWwucGFyZW50KCdzcGFuJykuZGF0YSgna2V5Jyk7XG4gICAgICB2YXIgbWV0YSA9ICggdGhpcy5tb2RlbC5nZXQoJ21ldGEnKSB8fCBbXSApO1xuXG4gICAgICAvLyBzZWxlY3Qgcm93IChvciBjcmVhdGUgbmV3IG9uZSlcbiAgICAgIHZhciByb3cgPSBfLndoZXJlKCBtZXRhLCB7ICdrZXknOiBrZXkgfSApO1xuICAgICAgcm93ID0gcm93Lmxlbmd0aCA+IDAgPyByb3dbMF0gOiB7ICdrZXknOiBrZXkgfTtcbiAgICAgIHJvd1sgbmFtZVsxXSBdID0gdmFsdWU7XG5cbiAgICAgIC8vIGFkZCB0aGUgY2hhbmdlIHJvdyBhbmQgbWFrZSB1bmlxdWUgb24ga2V5XG4gICAgICBtZXRhLnB1c2gocm93KTtcbiAgICAgIHZhbHVlID0gXy51bmlxKCBtZXRhLCAna2V5JyApO1xuICAgIH1cblxuICAgIGRhdGFbIGF0dHJpYnV0ZSBdID0gdmFsdWU7XG5cbiAgICB0aGlzLm1vZGVsLnNhdmUoZGF0YSk7XG4gIH0sXG5cbiAgYWRkTWV0YUZpZWxkczogZnVuY3Rpb24oZSl7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgdmFyIHJvdyA9ICQoZS5jdXJyZW50VGFyZ2V0KS5wcmV2KCdzcGFuJykuZGF0YSgna2V5Jyk7XG4gICAgdmFyIGkgPSByb3cgPyByb3cgKyAxIDogMSA7XG5cbiAgICAkKCc8c3BhbiBkYXRhLWtleT1cIicrIGkgKydcIiAvPicpXG4gICAgICAuYXBwZW5kKCcnICtcbiAgICAgICAgJzxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJtZXRhLmxhYmVsXCI+JyArXG4gICAgICAgICc8dGV4dGFyZWEgbmFtZT1cIm1ldGEudmFsdWVcIj48L3RleHRhcmVhPicgK1xuICAgICAgICAnPGEgaHJlZj1cIiNcIiBjbGFzcz1cImFjdGlvbi1yZW1vdmUtbWV0YVwiPicgK1xuICAgICAgICAnPGkgY2xhc3M9XCJpY29uIGljb24tdGltZXNcIj48L2k+JyArXG4gICAgICAgICc8L2E+JylcbiAgICAgIC5pbnNlcnRCZWZvcmUoICQoZS5jdXJyZW50VGFyZ2V0KSApO1xuICB9LFxuXG4gIHJlbW92ZU1ldGFGaWVsZHM6IGZ1bmN0aW9uKGUpe1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIHZhciByb3cgPSAkKGUuY3VycmVudFRhcmdldCkucGFyZW50KCdzcGFuJyk7XG4gICAgdmFyIG1ldGEgPSAoIHRoaXMubW9kZWwuZ2V0KCdtZXRhJykgfHwgW10gKTtcbiAgICB2YXIgaW5kZXggPSBfLmZpbmRJbmRleCggbWV0YSwgeyAna2V5Jzogcm93LmRhdGEoJ2tleScpIH0gKTtcbiAgICBpZiggaW5kZXggPj0gMCApe1xuICAgICAgbWV0YS5zcGxpY2UoIGluZGV4LCAxICk7XG4gICAgICB0aGlzLm1vZGVsLnNhdmUoeyAnbWV0YSc6IG1ldGEgfSk7XG4gICAgfVxuXG4gICAgcm93LnJlbW92ZSgpO1xuICB9XG5cbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FwcHMvcG9zL2NhcnQvdmlld3MvbGluZS9kcmF3ZXIuanNcbiAqKiBtb2R1bGUgaWQgPSA4NlxuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiODYuanMifQ==");

/***/ },
/* 87 */
/*!***********************************!*\
  !*** ./~/lib/config/form-view.js ***!
  \***********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var ItemView = __webpack_require__(/*! ./item-view */ 50);\nvar bb = __webpack_require__(/*! backbone */ 2);\nvar POS = __webpack_require__(/*! lib/utilities/global */ 9);\n__webpack_require__(/*! backbone.stickit */ 18);\n__webpack_require__(/*! backbone-validation */ 24);\n__webpack_require__(/*! lib/utilities/stickit-handlers */ 11);\n\nvar FormView = ItemView.extend({\n\n  constructor: function() {\n    return ItemView.prototype.constructor.apply(this, arguments);\n  },\n\n  bindings: {},\n\n  render: function(){\n    // Invoke original render function\n    var args = Array.prototype.slice.apply(arguments);\n    var result = ItemView.prototype.render.apply(this, args);\n\n    // Apply validation\n    bb.Validation.bind(this, {\n      model: this.model,\n      valid: function(view, attr) {\n        view\n          .$('input[name=\"' + attr + '\"]')\n          .parent()\n          .removeClass('error');\n      },\n      invalid: function(view, attr) {\n        view\n          .$('input[name=\"' + attr + '\"]')\n          .parent()\n          .addClass('error');\n      }\n    });\n\n    // Apply stickit\n    this.stickit();\n\n    // Return render result\n    return result;\n  },\n\n  remove: function() {\n    // Remove the validation binding\n    bb.Validation.unbind(this);\n    return ItemView.prototype.remove.apply(this, arguments);\n  }\n\n});\n\nmodule.exports = FormView;\nPOS.attach('FormView', FormView);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2xpYi9jb25maWcvZm9ybS12aWV3LmpzP2RmMWYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVILGNBQWM7O0FBRWQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDOztBQUVEO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgSXRlbVZpZXcgPSByZXF1aXJlKCcuL2l0ZW0tdmlldycpO1xudmFyIGJiID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcbnZhciBQT1MgPSByZXF1aXJlKCdsaWIvdXRpbGl0aWVzL2dsb2JhbCcpO1xucmVxdWlyZSgnYmFja2JvbmUuc3RpY2tpdCcpO1xucmVxdWlyZSgnYmFja2JvbmUtdmFsaWRhdGlvbicpO1xucmVxdWlyZSgnbGliL3V0aWxpdGllcy9zdGlja2l0LWhhbmRsZXJzJyk7XG5cbnZhciBGb3JtVmlldyA9IEl0ZW1WaWV3LmV4dGVuZCh7XG5cbiAgY29uc3RydWN0b3I6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBJdGVtVmlldy5wcm90b3R5cGUuY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfSxcblxuICBiaW5kaW5nczoge30sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpe1xuICAgIC8vIEludm9rZSBvcmlnaW5hbCByZW5kZXIgZnVuY3Rpb25cbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShhcmd1bWVudHMpO1xuICAgIHZhciByZXN1bHQgPSBJdGVtVmlldy5wcm90b3R5cGUucmVuZGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXG4gICAgLy8gQXBwbHkgdmFsaWRhdGlvblxuICAgIGJiLlZhbGlkYXRpb24uYmluZCh0aGlzLCB7XG4gICAgICBtb2RlbDogdGhpcy5tb2RlbCxcbiAgICAgIHZhbGlkOiBmdW5jdGlvbih2aWV3LCBhdHRyKSB7XG4gICAgICAgIHZpZXdcbiAgICAgICAgICAuJCgnaW5wdXRbbmFtZT1cIicgKyBhdHRyICsgJ1wiXScpXG4gICAgICAgICAgLnBhcmVudCgpXG4gICAgICAgICAgLnJlbW92ZUNsYXNzKCdlcnJvcicpO1xuICAgICAgfSxcbiAgICAgIGludmFsaWQ6IGZ1bmN0aW9uKHZpZXcsIGF0dHIpIHtcbiAgICAgICAgdmlld1xuICAgICAgICAgIC4kKCdpbnB1dFtuYW1lPVwiJyArIGF0dHIgKyAnXCJdJylcbiAgICAgICAgICAucGFyZW50KClcbiAgICAgICAgICAuYWRkQ2xhc3MoJ2Vycm9yJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBBcHBseSBzdGlja2l0XG4gICAgdGhpcy5zdGlja2l0KCk7XG5cbiAgICAvLyBSZXR1cm4gcmVuZGVyIHJlc3VsdFxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG5cbiAgcmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICAvLyBSZW1vdmUgdGhlIHZhbGlkYXRpb24gYmluZGluZ1xuICAgIGJiLlZhbGlkYXRpb24udW5iaW5kKHRoaXMpO1xuICAgIHJldHVybiBJdGVtVmlldy5wcm90b3R5cGUucmVtb3ZlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gRm9ybVZpZXc7XG5QT1MuYXR0YWNoKCdGb3JtVmlldycsIEZvcm1WaWV3KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9saWIvY29uZmlnL2Zvcm0tdmlldy5qc1xuICoqIG1vZHVsZSBpZCA9IDg3XG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI4Ny5qcyJ9");

/***/ }
/******/ ])