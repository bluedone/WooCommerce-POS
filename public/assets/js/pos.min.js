!function(a){"use strict";return"undefined"==typeof pos_cart_params?(console.log("No pos_cart_params"),!1):void a(document).on("click",".add-to-cart-stop",function(b){var c=a(this);if(!c.attr("data-id"))return console.log("No href"),!0;b.preventDefault(),a("#cart_fragment").fadeTo("400","0.6").block({message:null,overlayCSS:{background:"transparent url("+pos_cart_params.loading_icon+") no-repeat center",backgroundSize:"16px 16px",opacity:.6}});var d={action:"pos_add_to_cart",href:c.attr("href")};a.post(pos_cart_params.ajax_url,d,function(b){if(!b)return void console.log("No response from server");if(b.error)return void console.log(b.error);{var c=b.fragments;b.cart_hash}c&&a("#cart_fragment").replaceWith(c)})})}(jQuery),function(){"use strict";return"undefined"==typeof pos_cart_params?(console.log("No pos_cart_params"),!1):void 0}(jQuery),function(a){"use strict";a("#user-actions-btn, #user-actions").hover(function(){a("#user-actions").show()},function(){a("#user-actions").hide()})}(jQuery),function(a){"use strict";if("undefined"==typeof pos_cart_params)return console.log("No pos_cart_params"),!1;var b=Backbone.PageableCollection.extend({url:pos_cart_params.ajax_url,mode:"client",state:{pageSize:5,sortKey:"updated"},queryParams:{action:"get_products",totalPages:null,totalRecords:null,sortKey:"sort",q:""},parseState:function(a){return{totalRecords:a.total_count}},parseRecords:function(a){return a.products}}),c=new b,d=new Backgrid.Grid({columns:[{name:"img",label:"",cell:Backgrid.Cell.extend({render:function(){return this.$el.html(this.model.get("img")),this}}),sortable:!1,editable:!1},{name:"title",label:"Product",cell:Backgrid.Cell.extend({render:function(){var b="<strong>"+this.model.get("title")+"</strong>";if(this.model.has("variation_id")){var c=[];a.each(this.model.get("variation_data"),function(a,b){var d=b.key+": "+b.value;c.push(d)});var d="<br /><small>"+c.join("<br>")+"</small>"}else var d="";var e=""===this.model.get("stock")?"":"<br /><small>"+this.model.get("stock")+" in stock</small>";return this.$el.html(b+d+e),this}}),sortable:!1,editable:!1},{name:"price",label:"Price",cell:Backgrid.Cell.extend({render:function(){return this.$el.html(this.model.get("price")),this}}),sortable:!1,editable:!1},{name:"add",label:"",cell:Backgrid.Cell.extend({events:{"click a.add-to-cart":"addToCart"},render:function(){if(this.model.has("variation_id"))var b=this.model.get("parent_id"),c=this.model.get("variation_id"),d="?"+a.param({"add-to-cart":b,variation_id:c});else var b=this.model.get("id"),c="",d="?"+a.param({"add-to-cart":this.model.get("id")});var e='<a class="add-to-cart btn btn-circle btn-flat-action" href="'+d+'" data-id="'+b+'" data-variant_id="'+c+'"><i class="fa fa-plus"></i></a>';return this.$el.html(e),this},addToCart:function(b){if(b.preventDefault(),this.model.has("variation_id"))var c={action:"pos_add_to_cart",id:this.model.get("parent_id"),variation_id:this.model.get("variation_id")};else var c={action:"pos_add_to_cart",id:this.model.get("id")};a.post(pos_cart_params.ajax_url,c,function(a){return a?a.error?void console.log(a.error):void 0:void console.log("No response from server")})}}),sortable:!1,editable:!1}],collection:c}),e=new Backgrid.Extension.Paginator({collection:c,controls:{rewind:null,fastForward:null,back:{label:'<i class="fa fa-chevron-left"></i>',title:"Previous"},forward:{label:'<i class="fa fa-chevron-right"></i>',title:"Next"}},render:function(){return this.$el.addClass("hi"),this}}),f=new Backgrid.Extension.ClientSideFilter({collection:c,fields:["title"],placeholder:"Search products"});a("#products").append(f.render().$el),a("#products").append(d.render().$el),a("#products").append(e.render().$el),c.fetch({reset:!0})}(jQuery),function(a){"use strict";return"undefined"==typeof pos_cart_params?(console.log("No pos_cart_params.ajax_url"),!1):void a(document).on("click",".product-remove a",function(b){var c=a(this);if(!c.attr("href"))return console.log("No href"),!0;b.preventDefault(),a("#cart_fragment").fadeTo("400","0.6").block({message:null,overlayCSS:{background:"transparent url("+pos_cart_params.loading_icon+") no-repeat center",backgroundSize:"16px 16px",opacity:.6}});var d={action:"pos_remove_item",href:c.attr("href")};a.post(pos_cart_params.ajax_url,d,function(b){if(!b)return void console.log("No response from server");if(b.error)return void console.log(b.error);{var c=b.fragments;b.cart_hash}c&&a("#cart_fragment").replaceWith(c)})})}(jQuery);
//# sourceMappingURL=pos.min.map